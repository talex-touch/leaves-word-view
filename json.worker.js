var yo=Object.defineProperty,xo=Object.defineProperties;var wo=Object.getOwnPropertyDescriptors;var Qs=Object.getOwnPropertySymbols;var So=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable;var Yr=(xn,gn)=>(gn=Symbol[xn])?gn:Symbol.for("Symbol."+xn),No=xn=>{throw TypeError(xn)},kr=Math.pow,Ts=(xn,gn,_n)=>gn in xn?yo(xn,gn,{enumerable:!0,configurable:!0,writable:!0,value:_n}):xn[gn]=_n,wi=(xn,gn)=>{for(var _n in gn||(gn={}))So.call(gn,_n)&&Ts(xn,_n,gn[_n]);if(Qs)for(var _n of Qs(gn))Eo.call(gn,_n)&&Ts(xn,_n,gn[_n]);return xn},Lr=(xn,gn)=>xo(xn,wo(gn));var ar=(xn,gn,_n)=>Ts(xn,typeof gn!="symbol"?gn+"":gn,_n);var sn=(xn,gn,_n)=>new Promise((Ii,vt)=>{var Se=K=>{try{O(_n.next(K))}catch(o){vt(o)}},N=K=>{try{O(_n.throw(K))}catch(o){vt(o)}},O=K=>K.done?Ii(K.value):Promise.resolve(K.value).then(Se,N);O((_n=_n.apply(xn,gn)).next())}),Io=function(xn,gn){this[0]=xn,this[1]=gn};var Bs=xn=>{var gn=xn[Yr("asyncIterator")],_n=!1,Ii,vt={};return gn==null?(gn=xn[Yr("iterator")](),Ii=Se=>vt[Se]=N=>gn[Se](N)):(gn=gn.call(xn),Ii=Se=>vt[Se]=N=>{if(_n){if(_n=!1,Se==="throw")throw N;return N}return _n=!0,{done:!1,value:new Io(new Promise(O=>{var K=gn[Se](N);K instanceof Object||No("Object expected"),O(K)}),1)}}),vt[Yr("iterator")]=()=>vt,Ii("next"),"throw"in gn?Ii("throw"):vt.throw=Se=>{throw Se},"return"in gn&&Ii("return"),vt},yr=(xn,gn,_n)=>(gn=xn[Yr("asyncIterator")])?gn.call(xn):(xn=xn[Yr("iterator")](),gn={},_n=(Ii,vt)=>(vt=xn[Ii])&&(gn[Ii]=Se=>new Promise((N,O,K)=>(Se=vt.call(xn,Se),K=Se.done,Promise.resolve(Se.value).then(o=>N({value:o,done:K}),O)))),_n("next"),_n("return"),gn);(function(){var xn={5415:function(vt,Se){"use strict";Se.byteLength=b,Se.toByteArray=B,Se.fromByteArray=Z;for(var N=[],O=[],K=typeof Uint8Array!="undefined"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=0,I=o.length;U<I;++U)N[U]=o[U],O[o.charCodeAt(U)]=U;O[45]=62,O[95]=63;function z(y){var k=y.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=k);var g=x===k?0:4-x%4;return[x,g]}function b(y){var k=z(y),x=k[0],g=k[1];return(x+g)*3/4-g}function _(y,k,x){return(k+x)*3/4-x}function B(y){var k,x=z(y),g=x[0],ue=x[1],fe=new K(_(y,g,ue)),T=0,S=ue>0?g-4:g,w;for(w=0;w<S;w+=4)k=O[y.charCodeAt(w)]<<18|O[y.charCodeAt(w+1)]<<12|O[y.charCodeAt(w+2)]<<6|O[y.charCodeAt(w+3)],fe[T++]=k>>16&255,fe[T++]=k>>8&255,fe[T++]=k&255;return ue===2&&(k=O[y.charCodeAt(w)]<<2|O[y.charCodeAt(w+1)]>>4,fe[T++]=k&255),ue===1&&(k=O[y.charCodeAt(w)]<<10|O[y.charCodeAt(w+1)]<<4|O[y.charCodeAt(w+2)]>>2,fe[T++]=k>>8&255,fe[T++]=k&255),fe}function ae(y){return N[y>>18&63]+N[y>>12&63]+N[y>>6&63]+N[y&63]}function J(y,k,x){for(var g,ue=[],fe=k;fe<x;fe+=3)g=(y[fe]<<16&16711680)+(y[fe+1]<<8&65280)+(y[fe+2]&255),ue.push(ae(g));return ue.join("")}function Z(y){for(var k,x=y.length,g=x%3,ue=[],fe=16383,T=0,S=x-g;T<S;T+=fe)ue.push(J(y,T,T+fe>S?S:T+fe));return g===1?(k=y[x-1],ue.push(N[k>>2]+N[k<<4&63]+"==")):g===2&&(k=(y[x-2]<<8)+y[x-1],ue.push(N[k>>10]+N[k>>4&63]+N[k<<2&63]+"=")),ue.join("")}},1620:function(vt,Se,N){"use strict";var O;var K=N(5415),o=N(551),U=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Se.lW=_,O=T,Se.h2=50;var I=2147483647;O=I,_.TYPED_ARRAY_SUPPORT=z(),!_.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function z(){try{var le=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(le,D),le.foo()===42}catch(F){return!1}}Object.defineProperty(_.prototype,"parent",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.buffer}}),Object.defineProperty(_.prototype,"offset",{enumerable:!0,get:function(){if(_.isBuffer(this))return this.byteOffset}});function b(le){if(le>I)throw new RangeError('The value "'+le+'" is invalid for option "size"');var D=new Uint8Array(le);return Object.setPrototypeOf(D,_.prototype),D}function _(le,D,F){if(typeof le=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Z(le)}return B(le,D,F)}_.poolSize=8192;function B(le,D,F){if(typeof le=="string")return y(le,D);if(ArrayBuffer.isView(le))return x(le);if(le==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le);if(lt(le,ArrayBuffer)||le&&lt(le.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(lt(le,SharedArrayBuffer)||le&&lt(le.buffer,SharedArrayBuffer)))return g(le,D,F);if(typeof le=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ke=le.valueOf&&le.valueOf();if(ke!=null&&ke!==le)return _.from(ke,D,F);var je=ue(le);if(je)return je;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof le[Symbol.toPrimitive]=="function")return _.from(le[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le)}_.from=function(le,D,F){return B(le,D,F)},Object.setPrototypeOf(_.prototype,Uint8Array.prototype),Object.setPrototypeOf(_,Uint8Array);function ae(le){if(typeof le!="number")throw new TypeError('"size" argument must be of type number');if(le<0)throw new RangeError('The value "'+le+'" is invalid for option "size"')}function J(le,D,F){return ae(le),le<=0?b(le):D!==void 0?typeof F=="string"?b(le).fill(D,F):b(le).fill(D):b(le)}_.alloc=function(le,D,F){return J(le,D,F)};function Z(le){return ae(le),b(le<0?0:fe(le)|0)}_.allocUnsafe=function(le){return Z(le)},_.allocUnsafeSlow=function(le){return Z(le)};function y(le,D){if((typeof D!="string"||D==="")&&(D="utf8"),!_.isEncoding(D))throw new TypeError("Unknown encoding: "+D);var F=S(le,D)|0,ke=b(F),je=ke.write(le,D);return je!==F&&(ke=ke.slice(0,je)),ke}function k(le){for(var D=le.length<0?0:fe(le.length)|0,F=b(D),ke=0;ke<D;ke+=1)F[ke]=le[ke]&255;return F}function x(le){if(lt(le,Uint8Array)){var D=new Uint8Array(le);return g(D.buffer,D.byteOffset,D.byteLength)}return k(le)}function g(le,D,F){if(D<0||le.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');var ke;return D===void 0&&F===void 0?ke=new Uint8Array(le):F===void 0?ke=new Uint8Array(le,D):ke=new Uint8Array(le,D,F),Object.setPrototypeOf(ke,_.prototype),ke}function ue(le){if(_.isBuffer(le)){var D=fe(le.length)|0,F=b(D);return F.length===0||le.copy(F,0,0,D),F}if(le.length!==void 0)return typeof le.length!="number"||Dt(le.length)?b(0):k(le);if(le.type==="Buffer"&&Array.isArray(le.data))return k(le.data)}function fe(le){if(le>=I)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+I.toString(16)+" bytes");return le|0}function T(le){return+le!=le&&(le=0),_.alloc(+le)}_.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==_.prototype},_.compare=function(D,F){if(lt(D,Uint8Array)&&(D=_.from(D,D.offset,D.byteLength)),lt(F,Uint8Array)&&(F=_.from(F,F.offset,F.byteLength)),!_.isBuffer(D)||!_.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;for(var ke=D.length,je=F.length,Ye=0,ht=Math.min(ke,je);Ye<ht;++Ye)if(D[Ye]!==F[Ye]){ke=D[Ye],je=F[Ye];break}return ke<je?-1:je<ke?1:0},_.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return _.alloc(0);var ke;if(F===void 0)for(F=0,ke=0;ke<D.length;++ke)F+=D[ke].length;var je=_.allocUnsafe(F),Ye=0;for(ke=0;ke<D.length;++ke){var ht=D[ke];if(lt(ht,Uint8Array))Ye+ht.length>je.length?_.from(ht).copy(je,Ye):Uint8Array.prototype.set.call(je,ht,Ye);else if(_.isBuffer(ht))ht.copy(je,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=ht.length}return je};function S(le,D){if(_.isBuffer(le))return le.length;if(ArrayBuffer.isView(le)||lt(le,ArrayBuffer))return le.byteLength;if(typeof le!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof le);var F=le.length,ke=arguments.length>2&&arguments[2]===!0;if(!ke&&F===0)return 0;for(var je=!1;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Ge(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return tt(le).length;default:if(je)return ke?-1:Ge(le).length;D=(""+D).toLowerCase(),je=!0}}_.byteLength=S;function w(le,D,F){var ke=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(le||(le="utf8");;)switch(le){case"hex":return He(this,D,F);case"utf8":case"utf-8":return X(this,D,F);case"ascii":return se(this,D,F);case"latin1":case"binary":return Me(this,D,F);case"base64":return ne(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,D,F);default:if(ke)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),ke=!0}}_.prototype._isBuffer=!0;function A(le,D,F){var ke=le[D];le[D]=le[F],le[F]=ke}_.prototype.swap16=function(){var D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<D;F+=2)A(this,F,F+1);return this},_.prototype.swap32=function(){var D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<D;F+=4)A(this,F,F+3),A(this,F+1,F+2);return this},_.prototype.swap64=function(){var D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<D;F+=8)A(this,F,F+7),A(this,F+1,F+6),A(this,F+2,F+5),A(this,F+3,F+4);return this},_.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?X(this,0,D):w.apply(this,arguments)},_.prototype.toLocaleString=_.prototype.toString,_.prototype.equals=function(D){if(!_.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:_.compare(this,D)===0},_.prototype.inspect=function(){var D="",F=Se.h2;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},U&&(_.prototype[U]=_.prototype.inspect),_.prototype.compare=function(D,F,ke,je,Ye){if(lt(D,Uint8Array)&&(D=_.from(D,D.offset,D.byteLength)),!_.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===void 0&&(F=0),ke===void 0&&(ke=D?D.length:0),je===void 0&&(je=0),Ye===void 0&&(Ye=this.length),F<0||ke>D.length||je<0||Ye>this.length)throw new RangeError("out of range index");if(je>=Ye&&F>=ke)return 0;if(je>=Ye)return-1;if(F>=ke)return 1;if(F>>>=0,ke>>>=0,je>>>=0,Ye>>>=0,this===D)return 0;for(var ht=Ye-je,mt=ke-F,st=Math.min(ht,mt),_t=this.slice(je,Ye),Ct=D.slice(F,ke),Lt=0;Lt<st;++Lt)if(_t[Lt]!==Ct[Lt]){ht=_t[Lt],mt=Ct[Lt];break}return ht<mt?-1:mt<ht?1:0};function M(le,D,F,ke,je){if(le.length===0)return-1;if(typeof F=="string"?(ke=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Dt(F)&&(F=je?0:le.length-1),F<0&&(F=le.length+F),F>=le.length){if(je)return-1;F=le.length-1}else if(F<0)if(je)F=0;else return-1;if(typeof D=="string"&&(D=_.from(D,ke)),_.isBuffer(D))return D.length===0?-1:C(le,D,F,ke,je);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(le,D,F):Uint8Array.prototype.lastIndexOf.call(le,D,F):C(le,[D],F,ke,je);throw new TypeError("val must be string, number or Buffer")}function C(le,D,F,ke,je){var Ye=1,ht=le.length,mt=D.length;if(ke!==void 0&&(ke=String(ke).toLowerCase(),ke==="ucs2"||ke==="ucs-2"||ke==="utf16le"||ke==="utf-16le")){if(le.length<2||D.length<2)return-1;Ye=2,ht/=2,mt/=2,F/=2}function st(pt,m){return Ye===1?pt[m]:pt.readUInt16BE(m*Ye)}var _t;if(je){var Ct=-1;for(_t=F;_t<ht;_t++)if(st(le,_t)===st(D,Ct===-1?0:_t-Ct)){if(Ct===-1&&(Ct=_t),_t-Ct+1===mt)return Ct*Ye}else Ct!==-1&&(_t-=_t-Ct),Ct=-1}else for(F+mt>ht&&(F=ht-mt),_t=F;_t>=0;_t--){for(var Lt=!0,Rt=0;Rt<mt;Rt++)if(st(le,_t+Rt)!==st(D,Rt)){Lt=!1;break}if(Lt)return _t}return-1}_.prototype.includes=function(D,F,ke){return this.indexOf(D,F,ke)!==-1},_.prototype.indexOf=function(D,F,ke){return M(this,D,F,ke,!0)},_.prototype.lastIndexOf=function(D,F,ke){return M(this,D,F,ke,!1)};function V(le,D,F,ke){F=Number(F)||0;var je=le.length-F;ke?(ke=Number(ke),ke>je&&(ke=je)):ke=je;var Ye=D.length;ke>Ye/2&&(ke=Ye/2);for(var ht=0;ht<ke;++ht){var mt=parseInt(D.substr(ht*2,2),16);if(Dt(mt))return ht;le[F+ht]=mt}return ht}function W(le,D,F,ke){return ot(Ge(D,le.length-F),le,F,ke)}function j(le,D,F,ke){return ot(We(D),le,F,ke)}function Q(le,D,F,ke){return ot(tt(D),le,F,ke)}function ge(le,D,F,ke){return ot(bt(D,le.length-F),le,F,ke)}_.prototype.write=function(D,F,ke,je){if(F===void 0)je="utf8",ke=this.length,F=0;else if(ke===void 0&&typeof F=="string")je=F,ke=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(ke)?(ke=ke>>>0,je===void 0&&(je="utf8")):(je=ke,ke=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ye=this.length-F;if((ke===void 0||ke>Ye)&&(ke=Ye),D.length>0&&(ke<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");for(var ht=!1;;)switch(je){case"hex":return V(this,D,F,ke);case"utf8":case"utf-8":return W(this,D,F,ke);case"ascii":case"latin1":case"binary":return j(this,D,F,ke);case"base64":return Q(this,D,F,ke);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,D,F,ke);default:if(ht)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ht=!0}},_.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ne(le,D,F){return D===0&&F===le.length?K.fromByteArray(le):K.fromByteArray(le.slice(D,F))}function X(le,D,F){F=Math.min(le.length,F);for(var ke=[],je=D;je<F;){var Ye=le[je],ht=null,mt=Ye>239?4:Ye>223?3:Ye>191?2:1;if(je+mt<=F){var st,_t,Ct,Lt;switch(mt){case 1:Ye<128&&(ht=Ye);break;case 2:st=le[je+1],(st&192)===128&&(Lt=(Ye&31)<<6|st&63,Lt>127&&(ht=Lt));break;case 3:st=le[je+1],_t=le[je+2],(st&192)===128&&(_t&192)===128&&(Lt=(Ye&15)<<12|(st&63)<<6|_t&63,Lt>2047&&(Lt<55296||Lt>57343)&&(ht=Lt));break;case 4:st=le[je+1],_t=le[je+2],Ct=le[je+3],(st&192)===128&&(_t&192)===128&&(Ct&192)===128&&(Lt=(Ye&15)<<18|(st&63)<<12|(_t&63)<<6|Ct&63,Lt>65535&&Lt<1114112&&(ht=Lt))}}ht===null?(ht=65533,mt=1):ht>65535&&(ht-=65536,ke.push(ht>>>10&1023|55296),ht=56320|ht&1023),ke.push(ht),je+=mt}return ie(ke)}var G=4096;function ie(le){var D=le.length;if(D<=G)return String.fromCharCode.apply(String,le);for(var F="",ke=0;ke<D;)F+=String.fromCharCode.apply(String,le.slice(ke,ke+=G));return F}function se(le,D,F){var ke="";F=Math.min(le.length,F);for(var je=D;je<F;++je)ke+=String.fromCharCode(le[je]&127);return ke}function Me(le,D,F){var ke="";F=Math.min(le.length,F);for(var je=D;je<F;++je)ke+=String.fromCharCode(le[je]);return ke}function He(le,D,F){var ke=le.length;(!D||D<0)&&(D=0),(!F||F<0||F>ke)&&(F=ke);for(var je="",Ye=D;Ye<F;++Ye)je+=nn[le[Ye]];return je}function Te(le,D,F){for(var ke=le.slice(D,F),je="",Ye=0;Ye<ke.length-1;Ye+=2)je+=String.fromCharCode(ke[Ye]+ke[Ye+1]*256);return je}_.prototype.slice=function(D,F){var ke=this.length;D=~~D,F=F===void 0?ke:~~F,D<0?(D+=ke,D<0&&(D=0)):D>ke&&(D=ke),F<0?(F+=ke,F<0&&(F=0)):F>ke&&(F=ke),F<D&&(F=D);var je=this.subarray(D,F);return Object.setPrototypeOf(je,_.prototype),je};function ve(le,D,F){if(le%1!==0||le<0)throw new RangeError("offset is not uint");if(le+D>F)throw new RangeError("Trying to access beyond buffer length")}_.prototype.readUintLE=_.prototype.readUIntLE=function(D,F,ke){D=D>>>0,F=F>>>0,ke||ve(D,F,this.length);for(var je=this[D],Ye=1,ht=0;++ht<F&&(Ye*=256);)je+=this[D+ht]*Ye;return je},_.prototype.readUintBE=_.prototype.readUIntBE=function(D,F,ke){D=D>>>0,F=F>>>0,ke||ve(D,F,this.length);for(var je=this[D+--F],Ye=1;F>0&&(Ye*=256);)je+=this[D+--F]*Ye;return je},_.prototype.readUint8=_.prototype.readUInt8=function(D,F){return D=D>>>0,F||ve(D,1,this.length),this[D]},_.prototype.readUint16LE=_.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||ve(D,2,this.length),this[D]|this[D+1]<<8},_.prototype.readUint16BE=_.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||ve(D,2,this.length),this[D]<<8|this[D+1]},_.prototype.readUint32LE=_.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||ve(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},_.prototype.readUint32BE=_.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||ve(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},_.prototype.readIntLE=function(D,F,ke){D=D>>>0,F=F>>>0,ke||ve(D,F,this.length);for(var je=this[D],Ye=1,ht=0;++ht<F&&(Ye*=256);)je+=this[D+ht]*Ye;return Ye*=128,je>=Ye&&(je-=Math.pow(2,8*F)),je},_.prototype.readIntBE=function(D,F,ke){D=D>>>0,F=F>>>0,ke||ve(D,F,this.length);for(var je=F,Ye=1,ht=this[D+--je];je>0&&(Ye*=256);)ht+=this[D+--je]*Ye;return Ye*=128,ht>=Ye&&(ht-=Math.pow(2,8*F)),ht},_.prototype.readInt8=function(D,F){return D=D>>>0,F||ve(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},_.prototype.readInt16LE=function(D,F){D=D>>>0,F||ve(D,2,this.length);var ke=this[D]|this[D+1]<<8;return ke&32768?ke|4294901760:ke},_.prototype.readInt16BE=function(D,F){D=D>>>0,F||ve(D,2,this.length);var ke=this[D+1]|this[D]<<8;return ke&32768?ke|4294901760:ke},_.prototype.readInt32LE=function(D,F){return D=D>>>0,F||ve(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},_.prototype.readInt32BE=function(D,F){return D=D>>>0,F||ve(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},_.prototype.readFloatLE=function(D,F){return D=D>>>0,F||ve(D,4,this.length),o.read(this,D,!0,23,4)},_.prototype.readFloatBE=function(D,F){return D=D>>>0,F||ve(D,4,this.length),o.read(this,D,!1,23,4)},_.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||ve(D,8,this.length),o.read(this,D,!0,52,8)},_.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||ve(D,8,this.length),o.read(this,D,!1,52,8)};function P(le,D,F,ke,je,Ye){if(!_.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>je||D<Ye)throw new RangeError('"value" argument is out of bounds');if(F+ke>le.length)throw new RangeError("Index out of range")}_.prototype.writeUintLE=_.prototype.writeUIntLE=function(D,F,ke,je){if(D=+D,F=F>>>0,ke=ke>>>0,!je){var Ye=Math.pow(2,8*ke)-1;P(this,D,F,ke,Ye,0)}var ht=1,mt=0;for(this[F]=D&255;++mt<ke&&(ht*=256);)this[F+mt]=D/ht&255;return F+ke},_.prototype.writeUintBE=_.prototype.writeUIntBE=function(D,F,ke,je){if(D=+D,F=F>>>0,ke=ke>>>0,!je){var Ye=Math.pow(2,8*ke)-1;P(this,D,F,ke,Ye,0)}var ht=ke-1,mt=1;for(this[F+ht]=D&255;--ht>=0&&(mt*=256);)this[F+ht]=D/mt&255;return F+ke},_.prototype.writeUint8=_.prototype.writeUInt8=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,1,255,0),this[F]=D&255,F+1},_.prototype.writeUint16LE=_.prototype.writeUInt16LE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},_.prototype.writeUint16BE=_.prototype.writeUInt16BE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},_.prototype.writeUint32LE=_.prototype.writeUInt32LE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},_.prototype.writeUint32BE=_.prototype.writeUInt32BE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},_.prototype.writeIntLE=function(D,F,ke,je){if(D=+D,F=F>>>0,!je){var Ye=Math.pow(2,8*ke-1);P(this,D,F,ke,Ye-1,-Ye)}var ht=0,mt=1,st=0;for(this[F]=D&255;++ht<ke&&(mt*=256);)D<0&&st===0&&this[F+ht-1]!==0&&(st=1),this[F+ht]=(D/mt>>0)-st&255;return F+ke},_.prototype.writeIntBE=function(D,F,ke,je){if(D=+D,F=F>>>0,!je){var Ye=Math.pow(2,8*ke-1);P(this,D,F,ke,Ye-1,-Ye)}var ht=ke-1,mt=1,st=0;for(this[F+ht]=D&255;--ht>=0&&(mt*=256);)D<0&&st===0&&this[F+ht+1]!==0&&(st=1),this[F+ht]=(D/mt>>0)-st&255;return F+ke},_.prototype.writeInt8=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},_.prototype.writeInt16LE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},_.prototype.writeInt16BE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},_.prototype.writeInt32LE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},_.prototype.writeInt32BE=function(D,F,ke){return D=+D,F=F>>>0,ke||P(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function ee(le,D,F,ke,je,Ye){if(F+ke>le.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function xe(le,D,F,ke,je){return D=+D,F=F>>>0,je||ee(le,D,F,4,34028234663852886e22,-34028234663852886e22),o.write(le,D,F,ke,23,4),F+4}_.prototype.writeFloatLE=function(D,F,ke){return xe(this,D,F,!0,ke)},_.prototype.writeFloatBE=function(D,F,ke){return xe(this,D,F,!1,ke)};function Fe(le,D,F,ke,je){return D=+D,F=F>>>0,je||ee(le,D,F,8,17976931348623157e292,-17976931348623157e292),o.write(le,D,F,ke,52,8),F+8}_.prototype.writeDoubleLE=function(D,F,ke){return Fe(this,D,F,!0,ke)},_.prototype.writeDoubleBE=function(D,F,ke){return Fe(this,D,F,!1,ke)},_.prototype.copy=function(D,F,ke,je){if(!_.isBuffer(D))throw new TypeError("argument should be a Buffer");if(ke||(ke=0),!je&&je!==0&&(je=this.length),F>=D.length&&(F=D.length),F||(F=0),je>0&&je<ke&&(je=ke),je===ke||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(ke<0||ke>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),D.length-F<je-ke&&(je=D.length-F+ke);var Ye=je-ke;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,ke,je):Uint8Array.prototype.set.call(D,this.subarray(ke,je),F),Ye},_.prototype.fill=function(D,F,ke,je){if(typeof D=="string"){if(typeof F=="string"?(je=F,F=0,ke=this.length):typeof ke=="string"&&(je=ke,ke=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!_.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(D.length===1){var Ye=D.charCodeAt(0);(je==="utf8"&&Ye<128||je==="latin1")&&(D=Ye)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(F<0||this.length<F||this.length<ke)throw new RangeError("Out of range index");if(ke<=F)return this;F=F>>>0,ke=ke===void 0?this.length:ke>>>0,D||(D=0);var ht;if(typeof D=="number")for(ht=F;ht<ke;++ht)this[ht]=D;else{var mt=_.isBuffer(D)?D:_.from(D,je),st=mt.length;if(st===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(ht=0;ht<ke-F;++ht)this[ht+F]=mt[ht%st]}return this};var Ue=/[^+/0-9A-Za-z-_]/g;function qe(le){if(le=le.split("=")[0],le=le.trim().replace(Ue,""),le.length<2)return"";for(;le.length%4!==0;)le=le+"=";return le}function Ge(le,D){D=D||1/0;for(var F,ke=le.length,je=null,Ye=[],ht=0;ht<ke;++ht){if(F=le.charCodeAt(ht),F>55295&&F<57344){if(!je){if(F>56319){(D-=3)>-1&&Ye.push(239,191,189);continue}else if(ht+1===ke){(D-=3)>-1&&Ye.push(239,191,189);continue}je=F;continue}if(F<56320){(D-=3)>-1&&Ye.push(239,191,189),je=F;continue}F=(je-55296<<10|F-56320)+65536}else je&&(D-=3)>-1&&Ye.push(239,191,189);if(je=null,F<128){if((D-=1)<0)break;Ye.push(F)}else if(F<2048){if((D-=2)<0)break;Ye.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;Ye.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;Ye.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Ye}function We(le){for(var D=[],F=0;F<le.length;++F)D.push(le.charCodeAt(F)&255);return D}function bt(le,D){for(var F,ke,je,Ye=[],ht=0;ht<le.length&&!((D-=2)<0);++ht)F=le.charCodeAt(ht),ke=F>>8,je=F%256,Ye.push(je),Ye.push(ke);return Ye}function tt(le){return K.toByteArray(qe(le))}function ot(le,D,F,ke){for(var je=0;je<ke&&!(je+F>=D.length||je>=le.length);++je)D[je+F]=le[je];return je}function lt(le,D){return le instanceof D||le!=null&&le.constructor!=null&&le.constructor.name!=null&&le.constructor.name===D.name}function Dt(le){return le!==le}var nn=function(){for(var le="0123456789abcdef",D=new Array(256),F=0;F<16;++F)for(var ke=F*16,je=0;je<16;++je)D[ke+je]=le[F]+le[je];return D}()},551:function(vt,Se){Se.read=function(N,O,K,o,U){var I,z,b=U*8-o-1,_=(1<<b)-1,B=_>>1,ae=-7,J=K?U-1:0,Z=K?-1:1,y=N[O+J];for(J+=Z,I=y&(1<<-ae)-1,y>>=-ae,ae+=b;ae>0;I=I*256+N[O+J],J+=Z,ae-=8);for(z=I&(1<<-ae)-1,I>>=-ae,ae+=o;ae>0;z=z*256+N[O+J],J+=Z,ae-=8);if(I===0)I=1-B;else{if(I===_)return z?NaN:(y?-1:1)*(1/0);z=z+Math.pow(2,o),I=I-B}return(y?-1:1)*z*Math.pow(2,I-o)},Se.write=function(N,O,K,o,U,I){var z,b,_,B=I*8-U-1,ae=(1<<B)-1,J=ae>>1,Z=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:I-1,k=o?1:-1,x=O<0||O===0&&1/O<0?1:0;for(O=Math.abs(O),isNaN(O)||O===1/0?(b=isNaN(O)?1:0,z=ae):(z=Math.floor(Math.log(O)/Math.LN2),O*(_=Math.pow(2,-z))<1&&(z--,_*=2),z+J>=1?O+=Z/_:O+=Z*Math.pow(2,1-J),O*_>=2&&(z++,_/=2),z+J>=ae?(b=0,z=ae):z+J>=1?(b=(O*_-1)*Math.pow(2,U),z=z+J):(b=O*Math.pow(2,J-1)*Math.pow(2,U),z=0));U>=8;N[K+y]=b&255,y+=k,b/=256,U-=8);for(z=z<<U|b,B+=U;B>0;N[K+y]=z&255,y+=k,z/=256,B-=8);N[K+y-k]|=x*128}},7894:function(vt,Se,N){"use strict";N.d(Se,{BV:function(){return G},EB:function(){return g},H9:function(){return ie},KO:function(){return J},W$:function(){return se},Xh:function(){return ue},Zv:function(){return T},fS:function(){return o},fv:function(){return ne},mw:function(){return B},tT:function(){return Q},vA:function(){return A},zy:function(){return ae}});function O(Te,ve=0){return Te[Te.length-(1+ve)]}function K(Te){if(Te.length===0)throw new Error("Invalid tail call");return[Te.slice(0,Te.length-1),Te[Te.length-1]]}function o(Te,ve,P=(ee,xe)=>ee===xe){if(Te===ve)return!0;if(!Te||!ve||Te.length!==ve.length)return!1;for(let ee=0,xe=Te.length;ee<xe;ee++)if(!P(Te[ee],ve[ee]))return!1;return!0}function U(Te,ve){const P=Te.length-1;ve<P&&(Te[ve]=Te[P]),Te.pop()}function I(Te,ve,P){return z(Te.length,ee=>P(Te[ee],ve))}function z(Te,ve){let P=0,ee=Te-1;for(;P<=ee;){const xe=(P+ee)/2|0,Fe=ve(xe);if(Fe<0)P=xe+1;else if(Fe>0)ee=xe-1;else return xe}return-(P+1)}function b(Te,ve,P){if(Te=Te|0,Te>=ve.length)throw new TypeError("invalid index");const ee=ve[Math.floor(ve.length*Math.random())],xe=[],Fe=[],Ue=[];for(const qe of ve){const Ge=P(qe,ee);Ge<0?xe.push(qe):Ge>0?Fe.push(qe):Ue.push(qe)}return Te<xe.length?b(Te,xe,P):Te<xe.length+Ue.length?Ue[0]:b(Te-(xe.length+Ue.length),Fe,P)}function _(Te,ve){const P=[];let ee;for(const xe of Te.slice(0).sort(ve))!ee||ve(ee[0],xe)!==0?(ee=[xe],P.push(ee)):ee.push(xe);return P}function*B(Te,ve){let P,ee;for(const xe of Te)ee!==void 0&&ve(ee,xe)?P.push(xe):(P&&(yield P),P=[xe]),ee=xe;P&&(yield P)}function ae(Te,ve){for(let P=0;P<=Te.length;P++)ve(P===0?void 0:Te[P-1],P===Te.length?void 0:Te[P])}function J(Te,ve){for(let P=0;P<Te.length;P++)ve(P===0?void 0:Te[P-1],Te[P],P+1===Te.length?void 0:Te[P+1])}function Z(Te){return Te.filter(ve=>!!ve)}function y(Te){let ve=0;for(let P=0;P<Te.length;P++)Te[P]&&(Te[ve]=Te[P],ve+=1);Te.length=ve}function k(Te){return!Array.isArray(Te)||Te.length===0}function x(Te){return Array.isArray(Te)&&Te.length>0}function g(Te,ve=P=>P){const P=new Set;return Te.filter(ee=>{const xe=ve(ee);return P.has(xe)?!1:(P.add(xe),!0)})}function ue(Te,ve){return Te.length>0?Te[0]:ve}function fe(Te,ve){let P=typeof ve=="number"?Te:0;typeof ve=="number"?P=Te:(P=0,ve=Te);const ee=[];if(P<=ve)for(let xe=P;xe<ve;xe++)ee.push(xe);else for(let xe=P;xe>ve;xe--)ee.push(xe);return ee}function T(Te,ve,P){const ee=Te.slice(0,ve),xe=Te.slice(ve);return ee.concat(P,xe)}function S(Te,ve){const P=Te.indexOf(ve);P>-1&&(Te.splice(P,1),Te.unshift(ve))}function w(Te,ve){const P=Te.indexOf(ve);P>-1&&(Te.splice(P,1),Te.push(ve))}function A(Te,ve){for(const P of ve)Te.push(P)}function M(Te){return Array.isArray(Te)?Te:[Te]}function C(Te,ve,P){const ee=W(Te,ve),xe=Te.length,Fe=P.length;Te.length=xe+Fe;for(let Ue=xe-1;Ue>=ee;Ue--)Te[Ue+Fe]=Te[Ue];for(let Ue=0;Ue<Fe;Ue++)Te[Ue+ee]=P[Ue]}function V(Te,ve,P,ee){const xe=W(Te,ve);let Fe=Te.splice(xe,P);return Fe===void 0&&(Fe=[]),C(Te,xe,ee),Fe}function W(Te,ve){return ve<0?Math.max(ve+Te.length,0):Math.min(ve,Te.length)}var j;(function(Te){function ve(Fe){return Fe<0}Te.isLessThan=ve;function P(Fe){return Fe<=0}Te.isLessThanOrEqual=P;function ee(Fe){return Fe>0}Te.isGreaterThan=ee;function xe(Fe){return Fe===0}Te.isNeitherLessOrGreaterThan=xe,Te.greaterThan=1,Te.lessThan=-1,Te.neitherLessOrGreaterThan=0})(j||(j={}));function Q(Te,ve){return(P,ee)=>ve(Te(P),Te(ee))}function ge(...Te){return(ve,P)=>{for(const ee of Te){const xe=ee(ve,P);if(!j.isNeitherLessOrGreaterThan(xe))return xe}return j.neitherLessOrGreaterThan}}const ne=(Te,ve)=>Te-ve,X=(Te,ve)=>ne(Te?1:0,ve?1:0);function G(Te){return(ve,P)=>-Te(ve,P)}class ie{constructor(ve){this.items=ve,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(ve){let P=this.firstIdx;for(;P<this.items.length&&ve(this.items[P]);)P++;const ee=P===this.firstIdx?null:this.items.slice(this.firstIdx,P);return this.firstIdx=P,ee}takeFromEndWhile(ve){let P=this.lastIdx;for(;P>=0&&ve(this.items[P]);)P--;const ee=P===this.lastIdx?null:this.items.slice(P+1,this.lastIdx+1);return this.lastIdx=P,ee}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const ve=this.items[this.firstIdx];return this.firstIdx++,ve}takeCount(ve){const P=this.items.slice(this.firstIdx,this.firstIdx+ve);return this.firstIdx+=ve,P}}const He=class He{constructor(ve){this.iterate=ve}toArray(){const ve=[];return this.iterate(P=>(ve.push(P),!0)),ve}filter(ve){return new He(P=>this.iterate(ee=>ve(ee)?P(ee):!0))}map(ve){return new He(P=>this.iterate(ee=>P(ve(ee))))}findLast(ve){let P;return this.iterate(ee=>(ve(ee)&&(P=ee),!0)),P}findLastMaxBy(ve){let P,ee=!0;return this.iterate(xe=>((ee||j.isGreaterThan(ve(xe,P)))&&(ee=!1,P=xe),!0)),P}};He.empty=new He(ve=>{});let se=He;class Me{constructor(ve){this._indexMap=ve}static createSortPermutation(ve,P){const ee=Array.from(ve.keys()).sort((xe,Fe)=>P(ve[xe],ve[Fe]));return new Me(ee)}apply(ve){return ve.map((P,ee)=>ve[this._indexMap[ee]])}inverse(){const ve=this._indexMap.slice();for(let P=0;P<this._indexMap.length;P++)ve[this._indexMap[P]]=P;return new Me(ve)}}},5902:function(vt,Se,N){"use strict";N.d(Se,{J_:function(){return z},Jw:function(){return U},b1:function(){return b},cn:function(){return I},dF:function(){return O},ti:function(){return o}});function O(k,x){const g=K(k,x);if(g!==-1)return k[g]}function K(k,x,g=k.length-1){for(let ue=g;ue>=0;ue--){const fe=k[ue];if(x(fe))return ue}return-1}function o(k,x){const g=U(k,x);return g===-1?void 0:k[g]}function U(k,x,g=0,ue=k.length){let fe=g,T=ue;for(;fe<T;){const S=Math.floor((fe+T)/2);x(k[S])?fe=S+1:T=S}return fe-1}function I(k,x){const g=z(k,x);return g===k.length?void 0:k[g]}function z(k,x,g=0,ue=k.length){let fe=g,T=ue;for(;fe<T;){const S=Math.floor((fe+T)/2);x(k[S])?T=S:fe=S+1}return fe}const y=class y{constructor(x){this._array=x,this._findLastMonotonousLastIdx=0}findLastMonotonous(x){if(y.assertInvariants){if(this._prevFindLastPredicate){for(const ue of this._array)if(this._prevFindLastPredicate(ue)&&!x(ue))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=x}const g=U(this._array,x,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=g+1,g===-1?void 0:this._array[g]}};y.assertInvariants=!1;let b=y;function _(k,x){if(k.length===0)return;let g=k[0];for(let ue=1;ue<k.length;ue++){const fe=k[ue];x(fe,g)>0&&(g=fe)}return g}function B(k,x){if(k.length===0)return;let g=k[0];for(let ue=1;ue<k.length;ue++){const fe=k[ue];x(fe,g)>=0&&(g=fe)}return g}function ae(k,x){return _(k,(g,ue)=>-x(g,ue))}function J(k,x){if(k.length===0)return-1;let g=0;for(let ue=1;ue<k.length;ue++){const fe=k[ue];x(fe,k[g])>0&&(g=ue)}return g}function Z(k,x){for(const g of k){const ue=x(g);if(ue!==void 0)return ue}}},6038:function(vt,Se,N){"use strict";N.d(Se,{DM:function(){return z},eZ:function(){return I},ok:function(){return K},vE:function(){return o}});var O=N(561);function K(b,_){if(!b)throw new Error(_?`Assertion failed (${_})`:"Assertion Failed")}function o(b,_="Unreachable"){throw new Error(_)}function U(b){b||onUnexpectedError(new BugIndicatingError("Soft Assertion Failed"))}function I(b){if(!b()){debugger;b(),(0,O.dL)(new O.he("Assertion Failed"))}}function z(b,_){let B=0;for(;B<b.length-1;){const ae=b[B],J=b[B+1];if(!_(ae,J))return!1;B++}return!0}},9703:function(vt,Se,N){"use strict";N.d(Se,{zh:function(){return T},pY:function(){return S},J8:function(){return b},jg:function(){return w}});var O=N(3738),K=N(561),o=N(3130),U=N(338),I=N(264);const z=Symbol("MicrotaskDelay");function b(X){return!!X&&typeof X.then=="function"}function _(X){const G=new CancellationTokenSource,ie=X(G.token),se=new Promise((Me,He)=>{const Te=G.token.onCancellationRequested(()=>{Te.dispose(),He(new CancellationError)});Promise.resolve(ie).then(ve=>{Te.dispose(),G.dispose(),Me(ve)},ve=>{Te.dispose(),G.dispose(),He(ve)})});return new class{cancel(){G.cancel(),G.dispose()}then(Me,He){return se.then(Me,He)}catch(Me){return this.then(void 0,Me)}finally(Me){return se.finally(Me)}}}function B(X,G,ie){return new Promise((se,Me)=>{const He=G.onCancellationRequested(()=>{He.dispose(),se(ie)});X.then(se,Me).finally(()=>He.dispose())})}class ae{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(G){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=G,!this.queuedPromise){const ie=()=>{if(this.queuedPromise=null,this.isDisposed)return;const se=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,se};this.queuedPromise=new Promise(se=>{this.activePromise.then(ie,ie).then(se)})}return new Promise((ie,se)=>{this.queuedPromise.then(ie,se)})}return this.activePromise=G(),new Promise((ie,se)=>{this.activePromise.then(Me=>{this.activePromise=null,ie(Me)},Me=>{this.activePromise=null,se(Me)})})}dispose(){this.isDisposed=!0}}const J=(X,G)=>{let ie=!0;const se=setTimeout(()=>{ie=!1,G()},X);return{isTriggered:()=>ie,dispose:()=>{clearTimeout(se),ie=!1}}},Z=X=>{let G=!0;return queueMicrotask(()=>{G&&(G=!1,X())}),{isTriggered:()=>G,dispose:()=>{G=!1}}};class y{constructor(G){this.defaultDelay=G,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(G,ie=this.defaultDelay){this.task=G,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((Me,He)=>{this.doResolve=Me,this.doReject=He}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const Me=this.task;return this.task=null,Me()}}));const se=()=>{var Me;this.deferred=null,(Me=this.doResolve)==null||Me.call(this,null)};return this.deferred=ie===MicrotaskDelay?Z(se):J(ie,se),this.completionPromise}isTriggered(){var G;return!!((G=this.deferred)!=null&&G.isTriggered())}cancel(){var G;this.cancelTimeout(),this.completionPromise&&((G=this.doReject)==null||G.call(this,new CancellationError),this.completionPromise=null)}cancelTimeout(){var G;(G=this.deferred)==null||G.dispose(),this.deferred=null}dispose(){this.cancel()}}class k{constructor(G){this.delayer=new y(G),this.throttler=new ae}trigger(G,ie){return this.delayer.trigger(()=>this.throttler.queue(G),ie)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function x(X,G){return G?new Promise((ie,se)=>{const Me=setTimeout(()=>{He.dispose(),ie()},X),He=G.onCancellationRequested(()=>{clearTimeout(Me),He.dispose(),se(new CancellationError)})}):_(ie=>x(X,ie))}function g(X,G=0,ie){const se=setTimeout(()=>{X(),ie&&Me.dispose()},G),Me=toDisposable(()=>{clearTimeout(se),ie==null||ie.deleteAndLeak(Me)});return ie==null||ie.add(Me),Me}function ue(X,G=se=>!!se,ie=null){let se=0;const Me=X.length,He=()=>{if(se>=Me)return Promise.resolve(ie);const Te=X[se++];return Promise.resolve(Te()).then(P=>G(P)?Promise.resolve(P):He())};return He()}class fe{constructor(G,ie){this._isDisposed=!1,this._token=-1,typeof G=="function"&&typeof ie=="number"&&this.setIfNotSet(G,ie)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(G,ie){if(this._isDisposed)throw new BugIndicatingError("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,G()},ie)}setIfNotSet(G,ie){if(this._isDisposed)throw new BugIndicatingError("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,G()},ie))}}class T{constructor(){this.disposable=void 0,this.isDisposed=!1}cancel(){var G;(G=this.disposable)==null||G.dispose(),this.disposable=void 0}cancelAndSet(G,ie,se=globalThis){if(this.isDisposed)throw new K.he("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const Me=se.setInterval(()=>{G()},ie);this.disposable=(0,U.OF)(()=>{se.clearInterval(Me),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class S{constructor(G,ie){this.timeoutToken=-1,this.runner=G,this.timeout=ie,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(G=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,G)}get delay(){return this.timeout}set delay(G){this.timeout=G}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var G;(G=this.runner)==null||G.call(this)}}let w,A;(function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?A=(X,G)=>{(0,I.fn)(()=>{if(ie)return;const se=Date.now()+15;G(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,se-Date.now())}}))});let ie=!1;return{dispose(){ie||(ie=!0)}}}:A=(X,G,ie)=>{const se=X.requestIdleCallback(G,typeof ie=="number"?{timeout:ie}:void 0);let Me=!1;return{dispose(){Me||(Me=!0,X.cancelIdleCallback(se))}}},w=X=>A(globalThis,X)})();class M{constructor(G,ie){this._didRun=!1,this._executor=()=>{try{this._value=ie()}catch(se){this._error=se}finally{this._didRun=!0}},this._handle=A(G,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class C extends null{constructor(G){super(globalThis,G)}}class V{get isRejected(){var G;return((G=this.outcome)==null?void 0:G.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((G,ie)=>{this.completeCallback=G,this.errorCallback=ie})}complete(G){return new Promise(ie=>{this.completeCallback(G),this.outcome={outcome:0,value:G},ie()})}error(G){return new Promise(ie=>{this.errorCallback(G),this.outcome={outcome:1,value:G},ie()})}cancel(){return this.error(new CancellationError)}}var W;(function(X){function G(se){return sn(this,null,function*(){let Me;const He=yield Promise.all(se.map(Te=>Te.then(ve=>ve,ve=>{Me||(Me=ve)})));if(typeof Me!="undefined")throw Me;return He})}X.settled=G;function ie(se){return new Promise((Me,He)=>sn(this,null,function*(){try{yield se(Me,He)}catch(Te){He(Te)}}))}X.withAsyncBody=ie})(W||(W={}));const ne=class ne{static fromArray(G){return new ne(ie=>{ie.emitMany(G)})}static fromPromise(G){return new ne(ie=>sn(this,null,function*(){ie.emitMany(yield G)}))}static fromPromises(G){return new ne(ie=>sn(this,null,function*(){yield Promise.all(G.map(se=>sn(this,null,function*(){return ie.emitOne(yield se)})))}))}static merge(G){return new ne(ie=>sn(this,null,function*(){yield Promise.all(G.map(se=>sn(this,null,function*(){try{for(var Me=yr(se),He,Te,ve;He=!(Te=yield Me.next()).done;He=!1){const P=Te.value;ie.emitOne(P)}}catch(Te){ve=[Te]}finally{try{He&&(Te=Me.return)&&(yield Te.call(Me))}finally{if(ve)throw ve[0]}}})))}))}constructor(G,ie){this._state=0,this._results=[],this._error=null,this._onReturn=ie,this._onStateChanged=new o.Q5,queueMicrotask(()=>sn(this,null,function*(){const se={emitOne:Me=>this.emitOne(Me),emitMany:Me=>this.emitMany(Me),reject:Me=>this.reject(Me)};try{yield Promise.resolve(G(se)),this.resolve()}catch(Me){this.reject(Me)}finally{se.emitOne=void 0,se.emitMany=void 0,se.reject=void 0}}))}[Symbol.asyncIterator](){let G=0;return{next:()=>sn(this,null,function*(){do{if(this._state===2)throw this._error;if(G<this._results.length)return{done:!1,value:this._results[G++]};if(this._state===1)return{done:!0,value:void 0};yield o.ju.toPromise(this._onStateChanged.event)}while(!0)}),return:()=>sn(this,null,function*(){var ie;return(ie=this._onReturn)==null||ie.call(this),{done:!0,value:void 0}})}}static map(G,ie){return new ne(se=>sn(this,null,function*(){try{for(var Me=yr(G),He,Te,ve;He=!(Te=yield Me.next()).done;He=!1){const P=Te.value;se.emitOne(ie(P))}}catch(Te){ve=[Te]}finally{try{He&&(Te=Me.return)&&(yield Te.call(Me))}finally{if(ve)throw ve[0]}}}))}map(G){return ne.map(this,G)}static filter(G,ie){return new ne(se=>sn(this,null,function*(){try{for(var Me=yr(G),He,Te,ve;He=!(Te=yield Me.next()).done;He=!1){const P=Te.value;ie(P)&&se.emitOne(P)}}catch(Te){ve=[Te]}finally{try{He&&(Te=Me.return)&&(yield Te.call(Me))}finally{if(ve)throw ve[0]}}}))}filter(G){return ne.filter(this,G)}static coalesce(G){return ne.filter(G,ie=>!!ie)}coalesce(){return ne.coalesce(this)}static toPromise(G){return sn(this,null,function*(){const ie=[];try{for(var se=yr(G),Me,He,Te;Me=!(He=yield se.next()).done;Me=!1){const ve=He.value;ie.push(ve)}}catch(He){Te=[He]}finally{try{Me&&(He=se.return)&&(yield He.call(se))}finally{if(Te)throw Te[0]}}return ie})}toPromise(){return ne.toPromise(this)}emitOne(G){this._state===0&&(this._results.push(G),this._onStateChanged.fire())}emitMany(G){this._state===0&&(this._results=this._results.concat(G),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(G){this._state===0&&(this._state=2,this._error=G,this._onStateChanged.fire())}};ne.EMPTY=ne.fromArray([]);let j=ne;class Q extends null{constructor(G,ie){super(ie),this._source=G}cancel(){this._source.cancel()}}function ge(X){const G=new CancellationTokenSource,ie=X(G.token);return new Q(G,se=>sn(this,null,function*(){const Me=G.token.onCancellationRequested(()=>{Me.dispose(),G.dispose(),se.reject(new CancellationError)});try{try{for(var He=yr(ie),Te,ve,P;Te=!(ve=yield He.next()).done;Te=!1){const ee=ve.value;if(G.token.isCancellationRequested)return;se.emitOne(ee)}}catch(ve){P=[ve]}finally{try{Te&&(ve=He.return)&&(yield ve.call(He))}finally{if(P)throw P[0]}}Me.dispose(),G.dispose()}catch(ee){Me.dispose(),G.dispose(),se.reject(ee)}}))}},5656:function(vt,Se,N){"use strict";N.d(Se,{Ag:function(){return B},Cg:function(){return Z},KN:function(){return z},Q$:function(){return J},T4:function(){return ae},mP:function(){return b},oq:function(){return _}});var O=N(7953),K=N(1620).lW;const o=typeof K!="undefined",U=new O.o(()=>new Uint8Array(256));let I;class z{static wrap(k){return o&&!K.isBuffer(k)&&(k=K.from(k.buffer,k.byteOffset,k.byteLength)),new z(k)}constructor(k){this.buffer=k,this.byteLength=this.buffer.byteLength}toString(){return o?this.buffer.toString():(I||(I=new TextDecoder),I.decode(this.buffer))}}function b(y,k){return y[k+0]<<0>>>0|y[k+1]<<8>>>0}function _(y,k,x){y[x+0]=k&255,k=k>>>8,y[x+1]=k&255}function B(y,k){return y[k]*16777216+y[k+1]*65536+y[k+2]*256+y[k+3]}function ae(y,k,x){y[x+3]=k,k=k>>>8,y[x+2]=k,k=k>>>8,y[x+1]=k,k=k>>>8,y[x]=k}function J(y,k){return y[k]}function Z(y,k,x){y[x]=k}},44:function(vt,Se,N){"use strict";N.d(Se,{bQ:function(){return o},t2:function(){return K}});function O(U){return U}class K{constructor(I,z){this.lastCache=void 0,this.lastArgKey=void 0,typeof I=="function"?(this._fn=I,this._computeKey=O):(this._fn=z,this._computeKey=I.getCacheKey)}get(I){const z=this._computeKey(I);return this.lastArgKey!==z&&(this.lastArgKey=z,this.lastCache=this._fn(I)),this.lastCache}}class o{get cachedValues(){return this._map}constructor(I,z){this._map=new Map,this._map2=new Map,typeof I=="function"?(this._fn=I,this._computeKey=O):(this._fn=z,this._computeKey=I.getCacheKey)}get(I){const z=this._computeKey(I);if(this._map2.has(z))return this._map2.get(z);const b=this._fn(I);return this._map.set(I,b),this._map2.set(z,b),b}}},3738:function(vt,Se,N){"use strict";N.d(Se,{AU:function(){return I}});var O=N(3130);const K=Object.freeze(function(b,_){const B=setTimeout(b.bind(_),0);return{dispose(){clearTimeout(B)}}});var o;(function(b){function _(B){return B===b.None||B===b.Cancelled||B instanceof U?!0:!B||typeof B!="object"?!1:typeof B.isCancellationRequested=="boolean"&&typeof B.onCancellationRequested=="function"}b.isCancellationToken=_,b.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:O.ju.None}),b.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:K})})(o||(o={}));class U{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?K:(this._emitter||(this._emitter=new O.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class I{constructor(_){this._token=void 0,this._parentListener=void 0,this._parentListener=_&&_.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new U),this._token}cancel(){this._token?this._token instanceof U&&this._token.cancel():this._token=o.Cancelled}dispose(_=!1){var B;_&&this.cancel(),(B=this._parentListener)==null||B.dispose(),this._token?this._token instanceof U&&this._token.dispose():this._token=o.None}}function z(b){const _=new I;return b.add({dispose(){_.cancel()}}),_.token}},3290:function(vt,Se,N){"use strict";N.d(Se,{l:function(){return b}});var O=N(8200);const K=Object.create(null);function o(_,B){if((0,O.HD)(B)){const ae=K[B];if(ae===void 0)throw new Error(`${_} references an unknown codicon: ${B}`);B=ae}return K[_]=B,{id:_}}function U(){return K}const I={add:o("add",6e4),plus:o("plus",6e4),gistNew:o("gist-new",6e4),repoCreate:o("repo-create",6e4),lightbulb:o("lightbulb",60001),lightBulb:o("light-bulb",60001),repo:o("repo",60002),repoDelete:o("repo-delete",60002),gistFork:o("gist-fork",60003),repoForked:o("repo-forked",60003),gitPullRequest:o("git-pull-request",60004),gitPullRequestAbandoned:o("git-pull-request-abandoned",60004),recordKeys:o("record-keys",60005),keyboard:o("keyboard",60005),tag:o("tag",60006),gitPullRequestLabel:o("git-pull-request-label",60006),tagAdd:o("tag-add",60006),tagRemove:o("tag-remove",60006),person:o("person",60007),personFollow:o("person-follow",60007),personOutline:o("person-outline",60007),personFilled:o("person-filled",60007),gitBranch:o("git-branch",60008),gitBranchCreate:o("git-branch-create",60008),gitBranchDelete:o("git-branch-delete",60008),sourceControl:o("source-control",60008),mirror:o("mirror",60009),mirrorPublic:o("mirror-public",60009),star:o("star",60010),starAdd:o("star-add",60010),starDelete:o("star-delete",60010),starEmpty:o("star-empty",60010),comment:o("comment",60011),commentAdd:o("comment-add",60011),alert:o("alert",60012),warning:o("warning",60012),search:o("search",60013),searchSave:o("search-save",60013),logOut:o("log-out",60014),signOut:o("sign-out",60014),logIn:o("log-in",60015),signIn:o("sign-in",60015),eye:o("eye",60016),eyeUnwatch:o("eye-unwatch",60016),eyeWatch:o("eye-watch",60016),circleFilled:o("circle-filled",60017),primitiveDot:o("primitive-dot",60017),closeDirty:o("close-dirty",60017),debugBreakpoint:o("debug-breakpoint",60017),debugBreakpointDisabled:o("debug-breakpoint-disabled",60017),debugHint:o("debug-hint",60017),terminalDecorationSuccess:o("terminal-decoration-success",60017),primitiveSquare:o("primitive-square",60018),edit:o("edit",60019),pencil:o("pencil",60019),info:o("info",60020),issueOpened:o("issue-opened",60020),gistPrivate:o("gist-private",60021),gitForkPrivate:o("git-fork-private",60021),lock:o("lock",60021),mirrorPrivate:o("mirror-private",60021),close:o("close",60022),removeClose:o("remove-close",60022),x:o("x",60022),repoSync:o("repo-sync",60023),sync:o("sync",60023),clone:o("clone",60024),desktopDownload:o("desktop-download",60024),beaker:o("beaker",60025),microscope:o("microscope",60025),vm:o("vm",60026),deviceDesktop:o("device-desktop",60026),file:o("file",60027),fileText:o("file-text",60027),more:o("more",60028),ellipsis:o("ellipsis",60028),kebabHorizontal:o("kebab-horizontal",60028),mailReply:o("mail-reply",60029),reply:o("reply",60029),organization:o("organization",60030),organizationFilled:o("organization-filled",60030),organizationOutline:o("organization-outline",60030),newFile:o("new-file",60031),fileAdd:o("file-add",60031),newFolder:o("new-folder",60032),fileDirectoryCreate:o("file-directory-create",60032),trash:o("trash",60033),trashcan:o("trashcan",60033),history:o("history",60034),clock:o("clock",60034),folder:o("folder",60035),fileDirectory:o("file-directory",60035),symbolFolder:o("symbol-folder",60035),logoGithub:o("logo-github",60036),markGithub:o("mark-github",60036),github:o("github",60036),terminal:o("terminal",60037),console:o("console",60037),repl:o("repl",60037),zap:o("zap",60038),symbolEvent:o("symbol-event",60038),error:o("error",60039),stop:o("stop",60039),variable:o("variable",60040),symbolVariable:o("symbol-variable",60040),array:o("array",60042),symbolArray:o("symbol-array",60042),symbolModule:o("symbol-module",60043),symbolPackage:o("symbol-package",60043),symbolNamespace:o("symbol-namespace",60043),symbolObject:o("symbol-object",60043),symbolMethod:o("symbol-method",60044),symbolFunction:o("symbol-function",60044),symbolConstructor:o("symbol-constructor",60044),symbolBoolean:o("symbol-boolean",60047),symbolNull:o("symbol-null",60047),symbolNumeric:o("symbol-numeric",60048),symbolNumber:o("symbol-number",60048),symbolStructure:o("symbol-structure",60049),symbolStruct:o("symbol-struct",60049),symbolParameter:o("symbol-parameter",60050),symbolTypeParameter:o("symbol-type-parameter",60050),symbolKey:o("symbol-key",60051),symbolText:o("symbol-text",60051),symbolReference:o("symbol-reference",60052),goToFile:o("go-to-file",60052),symbolEnum:o("symbol-enum",60053),symbolValue:o("symbol-value",60053),symbolRuler:o("symbol-ruler",60054),symbolUnit:o("symbol-unit",60054),activateBreakpoints:o("activate-breakpoints",60055),archive:o("archive",60056),arrowBoth:o("arrow-both",60057),arrowDown:o("arrow-down",60058),arrowLeft:o("arrow-left",60059),arrowRight:o("arrow-right",60060),arrowSmallDown:o("arrow-small-down",60061),arrowSmallLeft:o("arrow-small-left",60062),arrowSmallRight:o("arrow-small-right",60063),arrowSmallUp:o("arrow-small-up",60064),arrowUp:o("arrow-up",60065),bell:o("bell",60066),bold:o("bold",60067),book:o("book",60068),bookmark:o("bookmark",60069),debugBreakpointConditionalUnverified:o("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:o("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:o("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:o("debug-breakpoint-data-unverified",60072),debugBreakpointData:o("debug-breakpoint-data",60073),debugBreakpointDataDisabled:o("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:o("debug-breakpoint-log-unverified",60074),debugBreakpointLog:o("debug-breakpoint-log",60075),debugBreakpointLogDisabled:o("debug-breakpoint-log-disabled",60075),briefcase:o("briefcase",60076),broadcast:o("broadcast",60077),browser:o("browser",60078),bug:o("bug",60079),calendar:o("calendar",60080),caseSensitive:o("case-sensitive",60081),check:o("check",60082),checklist:o("checklist",60083),chevronDown:o("chevron-down",60084),chevronLeft:o("chevron-left",60085),chevronRight:o("chevron-right",60086),chevronUp:o("chevron-up",60087),chromeClose:o("chrome-close",60088),chromeMaximize:o("chrome-maximize",60089),chromeMinimize:o("chrome-minimize",60090),chromeRestore:o("chrome-restore",60091),circleOutline:o("circle-outline",60092),circle:o("circle",60092),debugBreakpointUnverified:o("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:o("terminal-decoration-incomplete",60092),circleSlash:o("circle-slash",60093),circuitBoard:o("circuit-board",60094),clearAll:o("clear-all",60095),clippy:o("clippy",60096),closeAll:o("close-all",60097),cloudDownload:o("cloud-download",60098),cloudUpload:o("cloud-upload",60099),code:o("code",60100),collapseAll:o("collapse-all",60101),colorMode:o("color-mode",60102),commentDiscussion:o("comment-discussion",60103),creditCard:o("credit-card",60105),dash:o("dash",60108),dashboard:o("dashboard",60109),database:o("database",60110),debugContinue:o("debug-continue",60111),debugDisconnect:o("debug-disconnect",60112),debugPause:o("debug-pause",60113),debugRestart:o("debug-restart",60114),debugStart:o("debug-start",60115),debugStepInto:o("debug-step-into",60116),debugStepOut:o("debug-step-out",60117),debugStepOver:o("debug-step-over",60118),debugStop:o("debug-stop",60119),debug:o("debug",60120),deviceCameraVideo:o("device-camera-video",60121),deviceCamera:o("device-camera",60122),deviceMobile:o("device-mobile",60123),diffAdded:o("diff-added",60124),diffIgnored:o("diff-ignored",60125),diffModified:o("diff-modified",60126),diffRemoved:o("diff-removed",60127),diffRenamed:o("diff-renamed",60128),diff:o("diff",60129),diffSidebyside:o("diff-sidebyside",60129),discard:o("discard",60130),editorLayout:o("editor-layout",60131),emptyWindow:o("empty-window",60132),exclude:o("exclude",60133),extensions:o("extensions",60134),eyeClosed:o("eye-closed",60135),fileBinary:o("file-binary",60136),fileCode:o("file-code",60137),fileMedia:o("file-media",60138),filePdf:o("file-pdf",60139),fileSubmodule:o("file-submodule",60140),fileSymlinkDirectory:o("file-symlink-directory",60141),fileSymlinkFile:o("file-symlink-file",60142),fileZip:o("file-zip",60143),files:o("files",60144),filter:o("filter",60145),flame:o("flame",60146),foldDown:o("fold-down",60147),foldUp:o("fold-up",60148),fold:o("fold",60149),folderActive:o("folder-active",60150),folderOpened:o("folder-opened",60151),gear:o("gear",60152),gift:o("gift",60153),gistSecret:o("gist-secret",60154),gist:o("gist",60155),gitCommit:o("git-commit",60156),gitCompare:o("git-compare",60157),compareChanges:o("compare-changes",60157),gitMerge:o("git-merge",60158),githubAction:o("github-action",60159),githubAlt:o("github-alt",60160),globe:o("globe",60161),grabber:o("grabber",60162),graph:o("graph",60163),gripper:o("gripper",60164),heart:o("heart",60165),home:o("home",60166),horizontalRule:o("horizontal-rule",60167),hubot:o("hubot",60168),inbox:o("inbox",60169),issueReopened:o("issue-reopened",60171),issues:o("issues",60172),italic:o("italic",60173),jersey:o("jersey",60174),json:o("json",60175),kebabVertical:o("kebab-vertical",60176),key:o("key",60177),law:o("law",60178),lightbulbAutofix:o("lightbulb-autofix",60179),linkExternal:o("link-external",60180),link:o("link",60181),listOrdered:o("list-ordered",60182),listUnordered:o("list-unordered",60183),liveShare:o("live-share",60184),loading:o("loading",60185),location:o("location",60186),mailRead:o("mail-read",60187),mail:o("mail",60188),markdown:o("markdown",60189),megaphone:o("megaphone",60190),mention:o("mention",60191),milestone:o("milestone",60192),gitPullRequestMilestone:o("git-pull-request-milestone",60192),mortarBoard:o("mortar-board",60193),move:o("move",60194),multipleWindows:o("multiple-windows",60195),mute:o("mute",60196),noNewline:o("no-newline",60197),note:o("note",60198),octoface:o("octoface",60199),openPreview:o("open-preview",60200),package:o("package",60201),paintcan:o("paintcan",60202),pin:o("pin",60203),play:o("play",60204),run:o("run",60204),plug:o("plug",60205),preserveCase:o("preserve-case",60206),preview:o("preview",60207),project:o("project",60208),pulse:o("pulse",60209),question:o("question",60210),quote:o("quote",60211),radioTower:o("radio-tower",60212),reactions:o("reactions",60213),references:o("references",60214),refresh:o("refresh",60215),regex:o("regex",60216),remoteExplorer:o("remote-explorer",60217),remote:o("remote",60218),remove:o("remove",60219),replaceAll:o("replace-all",60220),replace:o("replace",60221),repoClone:o("repo-clone",60222),repoForcePush:o("repo-force-push",60223),repoPull:o("repo-pull",60224),repoPush:o("repo-push",60225),report:o("report",60226),requestChanges:o("request-changes",60227),rocket:o("rocket",60228),rootFolderOpened:o("root-folder-opened",60229),rootFolder:o("root-folder",60230),rss:o("rss",60231),ruby:o("ruby",60232),saveAll:o("save-all",60233),saveAs:o("save-as",60234),save:o("save",60235),screenFull:o("screen-full",60236),screenNormal:o("screen-normal",60237),searchStop:o("search-stop",60238),server:o("server",60240),settingsGear:o("settings-gear",60241),settings:o("settings",60242),shield:o("shield",60243),smiley:o("smiley",60244),sortPrecedence:o("sort-precedence",60245),splitHorizontal:o("split-horizontal",60246),splitVertical:o("split-vertical",60247),squirrel:o("squirrel",60248),starFull:o("star-full",60249),starHalf:o("star-half",60250),symbolClass:o("symbol-class",60251),symbolColor:o("symbol-color",60252),symbolConstant:o("symbol-constant",60253),symbolEnumMember:o("symbol-enum-member",60254),symbolField:o("symbol-field",60255),symbolFile:o("symbol-file",60256),symbolInterface:o("symbol-interface",60257),symbolKeyword:o("symbol-keyword",60258),symbolMisc:o("symbol-misc",60259),symbolOperator:o("symbol-operator",60260),symbolProperty:o("symbol-property",60261),wrench:o("wrench",60261),wrenchSubaction:o("wrench-subaction",60261),symbolSnippet:o("symbol-snippet",60262),tasklist:o("tasklist",60263),telescope:o("telescope",60264),textSize:o("text-size",60265),threeBars:o("three-bars",60266),thumbsdown:o("thumbsdown",60267),thumbsup:o("thumbsup",60268),tools:o("tools",60269),triangleDown:o("triangle-down",60270),triangleLeft:o("triangle-left",60271),triangleRight:o("triangle-right",60272),triangleUp:o("triangle-up",60273),twitter:o("twitter",60274),unfold:o("unfold",60275),unlock:o("unlock",60276),unmute:o("unmute",60277),unverified:o("unverified",60278),verified:o("verified",60279),versions:o("versions",60280),vmActive:o("vm-active",60281),vmOutline:o("vm-outline",60282),vmRunning:o("vm-running",60283),watch:o("watch",60284),whitespace:o("whitespace",60285),wholeWord:o("whole-word",60286),window:o("window",60287),wordWrap:o("word-wrap",60288),zoomIn:o("zoom-in",60289),zoomOut:o("zoom-out",60290),listFilter:o("list-filter",60291),listFlat:o("list-flat",60292),listSelection:o("list-selection",60293),selection:o("selection",60293),listTree:o("list-tree",60294),debugBreakpointFunctionUnverified:o("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:o("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:o("debug-breakpoint-function-disabled",60296),debugStackframeActive:o("debug-stackframe-active",60297),circleSmallFilled:o("circle-small-filled",60298),debugStackframeDot:o("debug-stackframe-dot",60298),terminalDecorationMark:o("terminal-decoration-mark",60298),debugStackframe:o("debug-stackframe",60299),debugStackframeFocused:o("debug-stackframe-focused",60299),debugBreakpointUnsupported:o("debug-breakpoint-unsupported",60300),symbolString:o("symbol-string",60301),debugReverseContinue:o("debug-reverse-continue",60302),debugStepBack:o("debug-step-back",60303),debugRestartFrame:o("debug-restart-frame",60304),debugAlt:o("debug-alt",60305),callIncoming:o("call-incoming",60306),callOutgoing:o("call-outgoing",60307),menu:o("menu",60308),expandAll:o("expand-all",60309),feedback:o("feedback",60310),gitPullRequestReviewer:o("git-pull-request-reviewer",60310),groupByRefType:o("group-by-ref-type",60311),ungroupByRefType:o("ungroup-by-ref-type",60312),account:o("account",60313),gitPullRequestAssignee:o("git-pull-request-assignee",60313),bellDot:o("bell-dot",60314),debugConsole:o("debug-console",60315),library:o("library",60316),output:o("output",60317),runAll:o("run-all",60318),syncIgnored:o("sync-ignored",60319),pinned:o("pinned",60320),githubInverted:o("github-inverted",60321),serverProcess:o("server-process",60322),serverEnvironment:o("server-environment",60323),pass:o("pass",60324),issueClosed:o("issue-closed",60324),stopCircle:o("stop-circle",60325),playCircle:o("play-circle",60326),record:o("record",60327),debugAltSmall:o("debug-alt-small",60328),vmConnect:o("vm-connect",60329),cloud:o("cloud",60330),merge:o("merge",60331),export:o("export",60332),graphLeft:o("graph-left",60333),magnet:o("magnet",60334),notebook:o("notebook",60335),redo:o("redo",60336),checkAll:o("check-all",60337),pinnedDirty:o("pinned-dirty",60338),passFilled:o("pass-filled",60339),circleLargeFilled:o("circle-large-filled",60340),circleLarge:o("circle-large",60341),circleLargeOutline:o("circle-large-outline",60341),combine:o("combine",60342),gather:o("gather",60342),table:o("table",60343),variableGroup:o("variable-group",60344),typeHierarchy:o("type-hierarchy",60345),typeHierarchySub:o("type-hierarchy-sub",60346),typeHierarchySuper:o("type-hierarchy-super",60347),gitPullRequestCreate:o("git-pull-request-create",60348),runAbove:o("run-above",60349),runBelow:o("run-below",60350),notebookTemplate:o("notebook-template",60351),debugRerun:o("debug-rerun",60352),workspaceTrusted:o("workspace-trusted",60353),workspaceUntrusted:o("workspace-untrusted",60354),workspaceUnknown:o("workspace-unknown",60355),terminalCmd:o("terminal-cmd",60356),terminalDebian:o("terminal-debian",60357),terminalLinux:o("terminal-linux",60358),terminalPowershell:o("terminal-powershell",60359),terminalTmux:o("terminal-tmux",60360),terminalUbuntu:o("terminal-ubuntu",60361),terminalBash:o("terminal-bash",60362),arrowSwap:o("arrow-swap",60363),copy:o("copy",60364),personAdd:o("person-add",60365),filterFilled:o("filter-filled",60366),wand:o("wand",60367),debugLineByLine:o("debug-line-by-line",60368),inspect:o("inspect",60369),layers:o("layers",60370),layersDot:o("layers-dot",60371),layersActive:o("layers-active",60372),compass:o("compass",60373),compassDot:o("compass-dot",60374),compassActive:o("compass-active",60375),azure:o("azure",60376),issueDraft:o("issue-draft",60377),gitPullRequestClosed:o("git-pull-request-closed",60378),gitPullRequestDraft:o("git-pull-request-draft",60379),debugAll:o("debug-all",60380),debugCoverage:o("debug-coverage",60381),runErrors:o("run-errors",60382),folderLibrary:o("folder-library",60383),debugContinueSmall:o("debug-continue-small",60384),beakerStop:o("beaker-stop",60385),graphLine:o("graph-line",60386),graphScatter:o("graph-scatter",60387),pieChart:o("pie-chart",60388),bracket:o("bracket",60175),bracketDot:o("bracket-dot",60389),bracketError:o("bracket-error",60390),lockSmall:o("lock-small",60391),azureDevops:o("azure-devops",60392),verifiedFilled:o("verified-filled",60393),newline:o("newline",60394),layout:o("layout",60395),layoutActivitybarLeft:o("layout-activitybar-left",60396),layoutActivitybarRight:o("layout-activitybar-right",60397),layoutPanelLeft:o("layout-panel-left",60398),layoutPanelCenter:o("layout-panel-center",60399),layoutPanelJustify:o("layout-panel-justify",60400),layoutPanelRight:o("layout-panel-right",60401),layoutPanel:o("layout-panel",60402),layoutSidebarLeft:o("layout-sidebar-left",60403),layoutSidebarRight:o("layout-sidebar-right",60404),layoutStatusbar:o("layout-statusbar",60405),layoutMenubar:o("layout-menubar",60406),layoutCentered:o("layout-centered",60407),target:o("target",60408),indent:o("indent",60409),recordSmall:o("record-small",60410),errorSmall:o("error-small",60411),terminalDecorationError:o("terminal-decoration-error",60411),arrowCircleDown:o("arrow-circle-down",60412),arrowCircleLeft:o("arrow-circle-left",60413),arrowCircleRight:o("arrow-circle-right",60414),arrowCircleUp:o("arrow-circle-up",60415),layoutSidebarRightOff:o("layout-sidebar-right-off",60416),layoutPanelOff:o("layout-panel-off",60417),layoutSidebarLeftOff:o("layout-sidebar-left-off",60418),blank:o("blank",60419),heartFilled:o("heart-filled",60420),map:o("map",60421),mapHorizontal:o("map-horizontal",60421),foldHorizontal:o("fold-horizontal",60421),mapFilled:o("map-filled",60422),mapHorizontalFilled:o("map-horizontal-filled",60422),foldHorizontalFilled:o("fold-horizontal-filled",60422),circleSmall:o("circle-small",60423),bellSlash:o("bell-slash",60424),bellSlashDot:o("bell-slash-dot",60425),commentUnresolved:o("comment-unresolved",60426),gitPullRequestGoToChanges:o("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:o("git-pull-request-new-changes",60428),searchFuzzy:o("search-fuzzy",60429),commentDraft:o("comment-draft",60430),send:o("send",60431),sparkle:o("sparkle",60432),insert:o("insert",60433),mic:o("mic",60434),thumbsdownFilled:o("thumbsdown-filled",60435),thumbsupFilled:o("thumbsup-filled",60436),coffee:o("coffee",60437),snake:o("snake",60438),game:o("game",60439),vr:o("vr",60440),chip:o("chip",60441),piano:o("piano",60442),music:o("music",60443),micFilled:o("mic-filled",60444),repoFetch:o("repo-fetch",60445),copilot:o("copilot",60446),lightbulbSparkle:o("lightbulb-sparkle",60447),robot:o("robot",60448),sparkleFilled:o("sparkle-filled",60449),diffSingle:o("diff-single",60450),diffMultiple:o("diff-multiple",60451),surroundWith:o("surround-with",60452),share:o("share",60453),gitStash:o("git-stash",60454),gitStashApply:o("git-stash-apply",60455),gitStashPop:o("git-stash-pop",60456),vscode:o("vscode",60457),vscodeInsiders:o("vscode-insiders",60458),codeOss:o("code-oss",60459),runCoverage:o("run-coverage",60460),runAllCoverage:o("run-all-coverage",60461),coverage:o("coverage",60462),githubProject:o("github-project",60463),mapVertical:o("map-vertical",60464),foldVertical:o("fold-vertical",60464),mapVerticalFilled:o("map-vertical-filled",60465),foldVerticalFilled:o("fold-vertical-filled",60465),goToSearch:o("go-to-search",60466),percentage:o("percentage",60467),sortPercentage:o("sort-percentage",60467),attach:o("attach",60468)},z={dialogError:o("dialog-error","error"),dialogWarning:o("dialog-warning","warning"),dialogInfo:o("dialog-info","info"),dialogClose:o("dialog-close","close"),treeItemExpanded:o("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:o("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:o("tree-filter-on-type-off","list-selection"),treeFilterClear:o("tree-filter-clear","close"),treeItemLoading:o("tree-item-loading","loading"),menuSelection:o("menu-selection","check"),menuSubmenu:o("menu-submenu","chevron-right"),menuBarMore:o("menubar-more","more"),scrollbarButtonLeft:o("scrollbar-button-left","triangle-left"),scrollbarButtonRight:o("scrollbar-button-right","triangle-right"),scrollbarButtonUp:o("scrollbar-button-up","triangle-up"),scrollbarButtonDown:o("scrollbar-button-down","triangle-down"),toolBarMore:o("toolbar-more","more"),quickInputBack:o("quick-input-back","arrow-left"),dropDownButton:o("drop-down-button",60084),symbolCustomColor:o("symbol-customcolor",60252),exportIcon:o("export",60332),workspaceUnspecified:o("workspace-unspecified",60355),newLine:o("newline",60394),thumbsDownFilled:o("thumbsdown-filled",60435),thumbsUpFilled:o("thumbsup-filled",60436),gitFetch:o("git-fetch",60445),lightbulbSparkleAutofix:o("lightbulb-sparkle-autofix",60447),debugBreakpointPending:o("debug-breakpoint-pending",60377)},b=wi(wi({},I),z)},413:function(vt,Se,N){"use strict";N.d(Se,{Il:function(){return I},Oz:function(){return o},VS:function(){return K}});function O(b,_){const B=Math.pow(10,_);return Math.round(b*B)/B}class K{constructor(_,B,ae,J=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,_))|0,this.g=Math.min(255,Math.max(0,B))|0,this.b=Math.min(255,Math.max(0,ae))|0,this.a=O(Math.max(Math.min(1,J),0),3)}static equals(_,B){return _.r===B.r&&_.g===B.g&&_.b===B.b&&_.a===B.a}}class o{constructor(_,B,ae,J){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=O(Math.max(Math.min(1,B),0),3),this.l=O(Math.max(Math.min(1,ae),0),3),this.a=O(Math.max(Math.min(1,J),0),3)}static equals(_,B){return _.h===B.h&&_.s===B.s&&_.l===B.l&&_.a===B.a}static fromRGBA(_){const B=_.r/255,ae=_.g/255,J=_.b/255,Z=_.a,y=Math.max(B,ae,J),k=Math.min(B,ae,J);let x=0,g=0;const ue=(k+y)/2,fe=y-k;if(fe>0){switch(g=Math.min(ue<=.5?fe/(2*ue):fe/(2-2*ue),1),y){case B:x=(ae-J)/fe+(ae<J?6:0);break;case ae:x=(J-B)/fe+2;break;case J:x=(B-ae)/fe+4;break}x*=60,x=Math.round(x)}return new o(x,g,ue,Z)}static _hue2rgb(_,B,ae){return ae<0&&(ae+=1),ae>1&&(ae-=1),ae<.16666666666666666?_+(B-_)*6*ae:ae<.5?B:ae<.6666666666666666?_+(B-_)*(.6666666666666666-ae)*6:_}static toRGBA(_){const B=_.h/360,{s:ae,l:J,a:Z}=_;let y,k,x;if(ae===0)y=k=x=J;else{const g=J<.5?J*(1+ae):J+ae-J*ae,ue=2*J-g;y=o._hue2rgb(ue,g,B+.3333333333333333),k=o._hue2rgb(ue,g,B),x=o._hue2rgb(ue,g,B-.3333333333333333)}return new K(Math.round(y*255),Math.round(k*255),Math.round(x*255),Z)}}class U{constructor(_,B,ae,J){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,_),0)|0,this.s=O(Math.max(Math.min(1,B),0),3),this.v=O(Math.max(Math.min(1,ae),0),3),this.a=O(Math.max(Math.min(1,J),0),3)}static equals(_,B){return _.h===B.h&&_.s===B.s&&_.v===B.v&&_.a===B.a}static fromRGBA(_){const B=_.r/255,ae=_.g/255,J=_.b/255,Z=Math.max(B,ae,J),y=Math.min(B,ae,J),k=Z-y,x=Z===0?0:k/Z;let g;return k===0?g=0:Z===B?g=((ae-J)/k%6+6)%6:Z===ae?g=(J-B)/k+2:g=(B-ae)/k+4,new U(Math.round(g*60),x,Z,_.a)}static toRGBA(_){const{h:B,s:ae,v:J,a:Z}=_,y=J*ae,k=y*(1-Math.abs(B/60%2-1)),x=J-y;let[g,ue,fe]=[0,0,0];return B<60?(g=y,ue=k):B<120?(g=k,ue=y):B<180?(ue=y,fe=k):B<240?(ue=k,fe=y):B<300?(g=k,fe=y):B<=360&&(g=y,fe=k),g=Math.round((g+x)*255),ue=Math.round((ue+x)*255),fe=Math.round((fe+x)*255),new K(g,ue,fe,Z)}}const z=class z{static fromHex(_){return z.Format.CSS.parseHex(_)||z.red}static equals(_,B){return!_&&!B?!0:!_||!B?!1:_.equals(B)}get hsla(){return this._hsla?this._hsla:o.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:U.fromRGBA(this.rgba)}constructor(_){if(_)if(_ instanceof K)this.rgba=_;else if(_ instanceof o)this._hsla=_,this.rgba=o.toRGBA(_);else if(_ instanceof U)this._hsva=_,this.rgba=U.toRGBA(_);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(_){return!!_&&K.equals(this.rgba,_.rgba)&&o.equals(this.hsla,_.hsla)&&U.equals(this.hsva,_.hsva)}getRelativeLuminance(){const _=z._relativeLuminanceForComponent(this.rgba.r),B=z._relativeLuminanceForComponent(this.rgba.g),ae=z._relativeLuminanceForComponent(this.rgba.b),J=.2126*_+.7152*B+.0722*ae;return O(J,4)}static _relativeLuminanceForComponent(_){const B=_/255;return B<=.03928?B/12.92:Math.pow((B+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(_){const B=this.getRelativeLuminance(),ae=_.getRelativeLuminance();return B>ae}isDarkerThan(_){const B=this.getRelativeLuminance(),ae=_.getRelativeLuminance();return B<ae}lighten(_){return new z(new o(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*_,this.hsla.a))}darken(_){return new z(new o(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*_,this.hsla.a))}transparent(_){const{r:B,g:ae,b:J,a:Z}=this.rgba;return new z(new K(B,ae,J,Z*_))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new z(new K(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(_){if(this.isOpaque()||_.rgba.a!==1)return this;const{r:B,g:ae,b:J,a:Z}=this.rgba;return new z(new K(_.rgba.r-Z*(_.rgba.r-B),_.rgba.g-Z*(_.rgba.g-ae),_.rgba.b-Z*(_.rgba.b-J),1))}toString(){return this._toString||(this._toString=z.Format.CSS.format(this)),this._toString}static getLighterColor(_,B,ae){if(_.isLighterThan(B))return _;ae=ae||.5;const J=_.getRelativeLuminance(),Z=B.getRelativeLuminance();return ae=ae*(Z-J)/Z,_.lighten(ae)}static getDarkerColor(_,B,ae){if(_.isDarkerThan(B))return _;ae=ae||.5;const J=_.getRelativeLuminance(),Z=B.getRelativeLuminance();return ae=ae*(J-Z)/J,_.darken(ae)}};z.white=new z(new K(255,255,255,1)),z.black=new z(new K(0,0,0,1)),z.red=new z(new K(255,0,0,1)),z.blue=new z(new K(0,0,255,1)),z.green=new z(new K(0,255,0,1)),z.cyan=new z(new K(0,255,255,1)),z.lightgrey=new z(new K(211,211,211,1)),z.transparent=new z(new K(0,0,0,0));let I=z;(function(b){let _;(function(B){let ae;(function(J){function Z(A){return A.rgba.a===1?`rgb(${A.rgba.r}, ${A.rgba.g}, ${A.rgba.b})`:b.Format.CSS.formatRGBA(A)}J.formatRGB=Z;function y(A){return`rgba(${A.rgba.r}, ${A.rgba.g}, ${A.rgba.b}, ${+A.rgba.a.toFixed(2)})`}J.formatRGBA=y;function k(A){return A.hsla.a===1?`hsl(${A.hsla.h}, ${(A.hsla.s*100).toFixed(2)}%, ${(A.hsla.l*100).toFixed(2)}%)`:b.Format.CSS.formatHSLA(A)}J.formatHSL=k;function x(A){return`hsla(${A.hsla.h}, ${(A.hsla.s*100).toFixed(2)}%, ${(A.hsla.l*100).toFixed(2)}%, ${A.hsla.a.toFixed(2)})`}J.formatHSLA=x;function g(A){const M=A.toString(16);return M.length!==2?"0"+M:M}function ue(A){return`#${g(A.rgba.r)}${g(A.rgba.g)}${g(A.rgba.b)}`}J.formatHex=ue;function fe(A,M=!1){return M&&A.rgba.a===1?b.Format.CSS.formatHex(A):`#${g(A.rgba.r)}${g(A.rgba.g)}${g(A.rgba.b)}${g(Math.round(A.rgba.a*255))}`}J.formatHexA=fe;function T(A){return A.isOpaque()?b.Format.CSS.formatHex(A):b.Format.CSS.formatRGBA(A)}J.format=T;function S(A){const M=A.length;if(M===0||A.charCodeAt(0)!==35)return null;if(M===7){const C=16*w(A.charCodeAt(1))+w(A.charCodeAt(2)),V=16*w(A.charCodeAt(3))+w(A.charCodeAt(4)),W=16*w(A.charCodeAt(5))+w(A.charCodeAt(6));return new b(new K(C,V,W,1))}if(M===9){const C=16*w(A.charCodeAt(1))+w(A.charCodeAt(2)),V=16*w(A.charCodeAt(3))+w(A.charCodeAt(4)),W=16*w(A.charCodeAt(5))+w(A.charCodeAt(6)),j=16*w(A.charCodeAt(7))+w(A.charCodeAt(8));return new b(new K(C,V,W,j/255))}if(M===4){const C=w(A.charCodeAt(1)),V=w(A.charCodeAt(2)),W=w(A.charCodeAt(3));return new b(new K(16*C+C,16*V+V,16*W+W))}if(M===5){const C=w(A.charCodeAt(1)),V=w(A.charCodeAt(2)),W=w(A.charCodeAt(3)),j=w(A.charCodeAt(4));return new b(new K(16*C+C,16*V+V,16*W+W,(16*j+j)/255))}return null}J.parseHex=S;function w(A){switch(A){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(ae=B.CSS||(B.CSS={}))})(_=b.Format||(b.Format={}))})(I||(I={}))},561:function(vt,Se,N){"use strict";N.d(Se,{B8:function(){return Z},L6:function(){return J},b1:function(){return ae},dL:function(){return o},he:function(){return k},ri:function(){return I}});class O{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(g){setTimeout(()=>{throw g.stack?y.isErrorNoTelemetry(g)?new y(g.message+`

`+g.stack):new Error(g.message+`

`+g.stack):g},0)}}emit(g){this.listeners.forEach(ue=>{ue(g)})}onUnexpectedError(g){this.unexpectedErrorHandler(g),this.emit(g)}onUnexpectedExternalError(g){this.unexpectedErrorHandler(g)}}const K=new O;function o(x){b(x)||K.onUnexpectedError(x)}function U(x){b(x)||K.onUnexpectedExternalError(x)}function I(x){if(x instanceof Error){const{name:g,message:ue}=x,fe=x.stacktrace||x.stack;return{$isError:!0,name:g,message:ue,stack:fe,noTelemetry:y.isErrorNoTelemetry(x)}}return x}const z="Canceled";function b(x){return x instanceof _?!0:x instanceof Error&&x.name===z&&x.message===z}class _ extends Error{constructor(){super(z),this.name=this.message}}function B(){const x=new Error(z);return x.name=x.message,x}function ae(x){return x?new Error(`Illegal argument: ${x}`):new Error("Illegal argument")}function J(x){return x?new Error(`Illegal state: ${x}`):new Error("Illegal state")}class Z extends Error{constructor(g){super("NotSupported"),g&&(this.message=g)}}class y extends Error{constructor(g){super(g),this.name="CodeExpectedError"}static fromError(g){if(g instanceof y)return g;const ue=new y;return ue.message=g.message,ue.stack=g.stack,ue}static isErrorNoTelemetry(g){return g.name==="CodeExpectedError"}}class k extends Error{constructor(g){super(g||"An unexpected bug occurred."),Object.setPrototypeOf(this,k.prototype)}}},3130:function(vt,Se,N){"use strict";N.d(Se,{Q5:function(){return T},ju:function(){return _}});var O=N(561),K=N(338),o=N(8310),U=N(1984);const I=!1,z=!1,b=!1;var _;(function(ne){ne.None=()=>K.JT.None;function X(mt){if(b){const{onDidAddListener:st}=mt,_t=Z.create();let Ct=0;mt.onDidAddListener=()=>{++Ct===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),_t.print()),st==null||st()}}}function G(mt,st){return Ue(mt,()=>{},0,void 0,!0,void 0,st)}ne.defer=G;function ie(mt){return(st,_t=null,Ct)=>{let Lt=!1,Rt;return Rt=mt(pt=>{if(!Lt)return Rt?Rt.dispose():Lt=!0,st.call(_t,pt)},null,Ct),Lt&&Rt.dispose(),Rt}}ne.once=ie;function se(mt,st){return ne.once(ne.filter(mt,st))}ne.onceIf=se;function Me(mt,st,_t){return xe((Ct,Lt=null,Rt)=>mt(pt=>Ct.call(Lt,st(pt)),null,Rt),_t)}ne.map=Me;function He(mt,st,_t){return xe((Ct,Lt=null,Rt)=>mt(pt=>{st(pt),Ct.call(Lt,pt)},null,Rt),_t)}ne.forEach=He;function Te(mt,st,_t){return xe((Ct,Lt=null,Rt)=>mt(pt=>st(pt)&&Ct.call(Lt,pt),null,Rt),_t)}ne.filter=Te;function ve(mt){return mt}ne.signal=ve;function P(...mt){return(st,_t=null,Ct)=>{const Lt=(0,K.F8)(...mt.map(Rt=>Rt(pt=>st.call(_t,pt))));return Fe(Lt,Ct)}}ne.any=P;function ee(mt,st,_t,Ct){let Lt=_t;return Me(mt,Rt=>(Lt=st(Lt,Rt),Lt),Ct)}ne.reduce=ee;function xe(mt,st){let _t;const Ct={onWillAddFirstListener(){_t=mt(Lt.fire,Lt)},onDidRemoveLastListener(){_t==null||_t.dispose()}};st||X(Ct);const Lt=new T(Ct);return st==null||st.add(Lt),Lt.event}function Fe(mt,st){return st instanceof Array?st.push(mt):st&&st.add(mt),mt}function Ue(mt,st,_t=100,Ct=!1,Lt=!1,Rt,pt){let m,H,Be,n=0,ut;const kt={leakWarningThreshold:Rt,onWillAddFirstListener(){m=mt(Yt=>{n++,H=st(H,Yt),Ct&&!Be&&(jt.fire(H),H=void 0),ut=()=>{const cn=H;H=void 0,Be=void 0,(!Ct||n>1)&&jt.fire(cn),n=0},typeof _t=="number"?(clearTimeout(Be),Be=setTimeout(ut,_t)):Be===void 0&&(Be=0,queueMicrotask(ut))})},onWillRemoveListener(){Lt&&n>0&&(ut==null||ut())},onDidRemoveLastListener(){ut=void 0,m.dispose()}};pt||X(kt);const jt=new T(kt);return pt==null||pt.add(jt),jt.event}ne.debounce=Ue;function qe(mt,st=0,_t){return ne.debounce(mt,(Ct,Lt)=>Ct?(Ct.push(Lt),Ct):[Lt],st,void 0,!0,void 0,_t)}ne.accumulate=qe;function Ge(mt,st=(Ct,Lt)=>Ct===Lt,_t){let Ct=!0,Lt;return Te(mt,Rt=>{const pt=Ct||!st(Rt,Lt);return Ct=!1,Lt=Rt,pt},_t)}ne.latch=Ge;function We(mt,st,_t){return[ne.filter(mt,st,_t),ne.filter(mt,Ct=>!st(Ct),_t)]}ne.split=We;function bt(mt,st=!1,_t=[],Ct){let Lt=_t.slice(),Rt=mt(H=>{Lt?Lt.push(H):m.fire(H)});Ct&&Ct.add(Rt);const pt=()=>{Lt==null||Lt.forEach(H=>m.fire(H)),Lt=null},m=new T({onWillAddFirstListener(){Rt||(Rt=mt(H=>m.fire(H)),Ct&&Ct.add(Rt))},onDidAddFirstListener(){Lt&&(st?setTimeout(pt):pt())},onDidRemoveLastListener(){Rt&&Rt.dispose(),Rt=null}});return Ct&&Ct.add(m),m.event}ne.buffer=bt;function tt(mt,st){return(Ct,Lt,Rt)=>{const pt=st(new lt);return mt(function(m){const H=pt.evaluate(m);H!==ot&&Ct.call(Lt,H)},void 0,Rt)}}ne.chain=tt;const ot=Symbol("HaltChainable");class lt{constructor(){this.steps=[]}map(st){return this.steps.push(st),this}forEach(st){return this.steps.push(_t=>(st(_t),_t)),this}filter(st){return this.steps.push(_t=>st(_t)?_t:ot),this}reduce(st,_t){let Ct=_t;return this.steps.push(Lt=>(Ct=st(Ct,Lt),Ct)),this}latch(st=(_t,Ct)=>_t===Ct){let _t=!0,Ct;return this.steps.push(Lt=>{const Rt=_t||!st(Lt,Ct);return _t=!1,Ct=Lt,Rt?Lt:ot}),this}evaluate(st){for(const _t of this.steps)if(st=_t(st),st===ot)break;return st}}function Dt(mt,st,_t=Ct=>Ct){const Ct=(...m)=>pt.fire(_t(...m)),Lt=()=>mt.on(st,Ct),Rt=()=>mt.removeListener(st,Ct),pt=new T({onWillAddFirstListener:Lt,onDidRemoveLastListener:Rt});return pt.event}ne.fromNodeEventEmitter=Dt;function nn(mt,st,_t=Ct=>Ct){const Ct=(...m)=>pt.fire(_t(...m)),Lt=()=>mt.addEventListener(st,Ct),Rt=()=>mt.removeEventListener(st,Ct),pt=new T({onWillAddFirstListener:Lt,onDidRemoveLastListener:Rt});return pt.event}ne.fromDOMEventEmitter=nn;function le(mt){return new Promise(st=>ie(mt)(st))}ne.toPromise=le;function D(mt){const st=new T;return mt.then(_t=>{st.fire(_t)},()=>{st.fire(void 0)}).finally(()=>{st.dispose()}),st.event}ne.fromPromise=D;function F(mt,st){return mt(_t=>st.fire(_t))}ne.forward=F;function ke(mt,st,_t){return st(_t),mt(Ct=>st(Ct))}ne.runAndSubscribe=ke;class je{constructor(st,_t){this._observable=st,this._counter=0,this._hasChanged=!1;const Ct={onWillAddFirstListener:()=>{st.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{st.removeObserver(this)}};_t||X(Ct),this.emitter=new T(Ct),_t&&_t.add(this.emitter)}beginUpdate(st){this._counter++}handlePossibleChange(st){}handleChange(st,_t){this._hasChanged=!0}endUpdate(st){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function Ye(mt,st){return new je(mt,st).emitter.event}ne.fromObservable=Ye;function ht(mt){return(st,_t,Ct)=>{let Lt=0,Rt=!1;const pt={beginUpdate(){Lt++},endUpdate(){Lt--,Lt===0&&(mt.reportChanges(),Rt&&(Rt=!1,st.call(_t)))},handlePossibleChange(){},handleChange(){Rt=!0}};mt.addObserver(pt),mt.reportChanges();const m={dispose(){mt.removeObserver(pt)}};return Ct instanceof K.SL?Ct.add(m):Array.isArray(Ct)&&Ct.push(m),m}}ne.fromObservableLight=ht})(_||(_={}));const Q=class Q{constructor(X){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${X}_${Q._idPool++}`,Q.all.add(this)}start(X){this._stopWatch=new U.G,this.listenerCount=X}stop(){if(this._stopWatch){const X=this._stopWatch.elapsed();this.durations.push(X),this.elapsedOverall+=X,this.invocationCount+=1,this._stopWatch=void 0}}};Q.all=new Set,Q._idPool=0;let B=Q,ae=-1;const ge=class ge{constructor(X,G,ie=(ge._idPool++).toString(16).padStart(3,"0")){this._errorHandler=X,this.threshold=G,this.name=ie,this._warnCountdown=0}dispose(){var X;(X=this._stacks)==null||X.clear()}check(X,G){const ie=this.threshold;if(ie<=0||G<ie)return;this._stacks||(this._stacks=new Map);const se=this._stacks.get(X.value)||0;if(this._stacks.set(X.value,se+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=ie*.5;const[Me,He]=this.getMostFrequentStack(),Te=`[${this.name}] potential listener LEAK detected, having ${G} listeners already. MOST frequent listener (${He}):`;console.warn(Te),console.warn(Me);const ve=new y(Te,Me);this._errorHandler(ve)}return()=>{const Me=this._stacks.get(X.value)||0;this._stacks.set(X.value,Me-1)}}getMostFrequentStack(){if(!this._stacks)return;let X,G=0;for(const[ie,se]of this._stacks)(!X||G<se)&&(X=[ie,se],G=se);return X}};ge._idPool=1;let J=ge;class Z{static create(){var G;const X=new Error;return new Z((G=X.stack)!=null?G:"")}constructor(X){this.value=X}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class y extends Error{constructor(X,G){super(X),this.name="ListenerLeakError",this.stack=G}}class k extends Error{constructor(X,G){super(X),this.name="ListenerRefusalError",this.stack=G}}class x{constructor(X){this.value=X}}const g=2,ue=(ne,X)=>{if(ne instanceof x)X(ne);else for(let G=0;G<ne.length;G++){const ie=ne[G];ie&&X(ie)}};let fe;if(I){const ne=[];setInterval(()=>{ne.length!==0&&(console.warn("[LEAKING LISTENERS] GC'ed these listeners that were NOT yet disposed:"),console.warn(ne.join(`
`)),ne.length=0)},3e3),fe=new FinalizationRegistry(X=>{typeof X=="string"&&ne.push(X)})}class T{constructor(X){var G,ie,se,Me,He,Te;this._size=0,this._options=X,this._leakageMon=ae>0||(G=this._options)!=null&&G.leakWarningThreshold?new J((ie=X==null?void 0:X.onListenerError)!=null?ie:O.dL,(Me=(se=this._options)==null?void 0:se.leakWarningThreshold)!=null?Me:ae):void 0,this._perfMon=(He=this._options)!=null&&He._profName?new B(this._options._profName):void 0,this._deliveryQueue=(Te=this._options)==null?void 0:Te.deliveryQueue}dispose(){var X,G,ie,se;if(!this._disposed){if(this._disposed=!0,((X=this._deliveryQueue)==null?void 0:X.current)===this&&this._deliveryQueue.reset(),this._listeners){if(z){const Me=this._listeners;queueMicrotask(()=>{ue(Me,He=>{var Te;return(Te=He.stack)==null?void 0:Te.print()})})}this._listeners=void 0,this._size=0}(ie=(G=this._options)==null?void 0:G.onDidRemoveLastListener)==null||ie.call(G),(se=this._leakageMon)==null||se.dispose()}}get event(){var X;return(X=this._event)!=null||(this._event=(G,ie,se)=>{var P,ee,xe,Fe,Ue,qe,Ge,We;if(this._leakageMon&&this._size>kr(this._leakageMon.threshold,2)){const bt=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(bt);const tt=(P=this._leakageMon.getMostFrequentStack())!=null?P:["UNKNOWN stack",-1],ot=new k(`${bt}. HINT: Stack shows most frequent listener (${tt[1]}-times)`,tt[0]);return(((ee=this._options)==null?void 0:ee.onListenerError)||O.dL)(ot),K.JT.None}if(this._disposed)return K.JT.None;ie&&(G=G.bind(ie));const Me=new x(G);let He,Te;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(Me.stack=Z.create(),He=this._leakageMon.check(Me.stack,this._size+1)),z&&(Me.stack=Te!=null?Te:Z.create()),this._listeners?this._listeners instanceof x?((Ge=this._deliveryQueue)!=null||(this._deliveryQueue=new w),this._listeners=[this._listeners,Me]):this._listeners.push(Me):((Fe=(xe=this._options)==null?void 0:xe.onWillAddFirstListener)==null||Fe.call(xe,this),this._listeners=Me,(qe=(Ue=this._options)==null?void 0:Ue.onDidAddFirstListener)==null||qe.call(Ue,this)),this._size++;const ve=(0,K.OF)(()=>{fe==null||fe.unregister(ve),He==null||He(),this._removeListener(Me)});if(se instanceof K.SL?se.add(ve):Array.isArray(se)&&se.push(ve),fe){const bt=new Error().stack.split(`
`).slice(2,3).join(`
`).trim(),tt=/(file:|vscode-file:\/\/vscode-app)?(\/[^:]*:\d+:\d+)/.exec(bt);fe.register(ve,(We=tt==null?void 0:tt[2])!=null?We:bt,ve)}return ve}),this._event}_removeListener(X){var Me,He,Te,ve;if((He=(Me=this._options)==null?void 0:Me.onWillRemoveListener)==null||He.call(Me,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(ve=(Te=this._options)==null?void 0:Te.onDidRemoveLastListener)==null||ve.call(Te,this),this._size=0;return}const G=this._listeners,ie=G.indexOf(X);if(ie===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,G[ie]=void 0;const se=this._deliveryQueue.current===this;if(this._size*g<=G.length){let P=0;for(let ee=0;ee<G.length;ee++)G[ee]?G[P++]=G[ee]:se&&(this._deliveryQueue.end--,P<this._deliveryQueue.i&&this._deliveryQueue.i--);G.length=P}}_deliver(X,G){var se;if(!X)return;const ie=((se=this._options)==null?void 0:se.onListenerError)||O.dL;if(!ie){X.value(G);return}try{X.value(G)}catch(Me){ie(Me)}}_deliverQueue(X){const G=X.current._listeners;for(;X.i<X.end;)this._deliver(G[X.i++],X.value);X.reset()}fire(X){var G,ie,se,Me;if((G=this._deliveryQueue)!=null&&G.current&&(this._deliverQueue(this._deliveryQueue),(ie=this._perfMon)==null||ie.stop()),(se=this._perfMon)==null||se.start(this._size),this._listeners)if(this._listeners instanceof x)this._deliver(this._listeners,X);else{const He=this._deliveryQueue;He.enqueue(this,X,this._listeners.length),this._deliverQueue(He)}(Me=this._perfMon)==null||Me.stop()}hasListeners(){return this._size>0}}const S=()=>new w;class w{constructor(){this.i=-1,this.end=0}enqueue(X,G,ie){this.i=0,this.end=ie,this.current=X,this.value=G}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class A extends null{constructor(X){super(X),this._isPaused=0,this._eventQueue=new LinkedList,this._mergeFn=X==null?void 0:X.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const X=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(X))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(X){this._size&&(this._isPaused!==0?this._eventQueue.push(X):super.fire(X))}}class M extends null{constructor(X){var G;super(X),this._delay=(G=X.delay)!=null?G:100}fire(X){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(X)}}class C extends null{constructor(X){super(X),this._queuedEvents=[],this._mergeFn=X==null?void 0:X.merge}fire(X){this.hasListeners()&&(this._queuedEvents.push(X),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(G=>super.fire(G)),this._queuedEvents=[]}))}}class V{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new T({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(X){const G={event:X,listener:null};this.events.push(G),this.hasListeners&&this.hook(G);const ie=()=>{this.hasListeners&&this.unhook(G);const se=this.events.indexOf(G);this.events.splice(se,1)};return toDisposable(createSingleCallFunction(ie))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(X=>this.hook(X))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(X=>this.unhook(X))}hook(X){X.listener=X.event(G=>this.emitter.fire(G))}unhook(X){var G;(G=X.listener)==null||G.dispose(),X.listener=null}dispose(){var X;this.emitter.dispose();for(const G of this.events)(X=G.listener)==null||X.dispose();this.events=[]}}class W{constructor(){this.data=[]}wrapEvent(X,G,ie){return(se,Me,He)=>X(Te=>{var ee;const ve=this.data[this.data.length-1];if(!G){ve?ve.buffers.push(()=>se.call(Me,Te)):se.call(Me,Te);return}const P=ve;if(!P){se.call(Me,G(ie,Te));return}(ee=P.items)!=null||(P.items=[]),P.items.push(Te),P.buffers.length===0&&ve.buffers.push(()=>{var xe;(xe=P.reducedResult)!=null||(P.reducedResult=ie?P.items.reduce(G,ie):P.items.reduce(G)),se.call(Me,P.reducedResult)})},void 0,He)}bufferEvents(X){const G={buffers:new Array};this.data.push(G);const ie=X();return this.data.pop(),G.buffers.forEach(se=>se()),ie}}class j{constructor(){this.listening=!1,this.inputEvent=_.None,this.inputEventListener=Disposable.None,this.emitter=new T({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(X){this.inputEvent=X,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=X(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},7661:function(vt,Se,N){"use strict";N.d(Se,{KM:function(){return _},ej:function(){return I},fn:function(){return z},yj:function(){return b}});var O=N(9701),K=N(264),o=N(9632);function U(J){return J===47||J===92}function I(J){return J.replace(/[\\/]/g,O.KR.sep)}function z(J){return J.indexOf("/")===-1&&(J=I(J)),/^[a-zA-Z]:(\/|$)/.test(J)&&(J="/"+J),J}function b(J,Z=O.KR.sep){if(!J)return"";const y=J.length,k=J.charCodeAt(0);if(U(k)){if(U(J.charCodeAt(1))&&!U(J.charCodeAt(2))){let g=3;const ue=g;for(;g<y&&!U(J.charCodeAt(g));g++);if(ue!==g&&!U(J.charCodeAt(g+1))){for(g+=1;g<y;g++)if(U(J.charCodeAt(g)))return J.slice(0,g+1).replace(/[\\/]/g,Z)}}return Z}else if(B(k)&&J.charCodeAt(1)===58)return U(J.charCodeAt(2))?J.slice(0,2)+Z:J.slice(0,2);let x=J.indexOf("://");if(x!==-1){for(x+=3;x<y;x++)if(U(J.charCodeAt(x)))return J.slice(0,x+1)}return""}function _(J,Z,y,k=O.ir){if(J===Z)return!0;if(!J||!Z||Z.length>J.length)return!1;if(y){if(!(0,o.ok)(J,Z))return!1;if(Z.length===J.length)return!0;let g=Z.length;return Z.charAt(Z.length-1)===k&&g--,J.charAt(g)===k}return Z.charAt(Z.length-1)!==k&&(Z+=k),J.indexOf(Z)===0}function B(J){return J>=65&&J<=90||J>=97&&J<=122}function ae(J,Z=isWindows){return Z?B(J.charCodeAt(0))&&J.charCodeAt(1)===58:!1}},5034:function(vt,Se,N){"use strict";N.d(Se,{EQ:function(){return G},Qc:function(){return ie}});var O=N(9703),K=N(7661),o=N(9941),U=N(9701),I=N(264),z=N(9632);const b="**",_="/",B="[/\\\\]",ae="[^/\\\\]",J=/\//g;function Z(ve,P){switch(ve){case 0:return"";case 1:return`${ae}*?`;default:return`(?:${B}|${ae}+${B}${P?`|${B}${ae}+`:""})*?`}}function y(ve,P){if(!ve)return[];const ee=[];let xe=!1,Fe=!1,Ue="";for(const qe of ve){switch(qe){case P:if(!xe&&!Fe){ee.push(Ue),Ue="";continue}break;case"{":xe=!0;break;case"}":xe=!1;break;case"[":Fe=!0;break;case"]":Fe=!1;break}Ue+=qe}return Ue&&ee.push(Ue),ee}function k(ve){if(!ve)return"";let P="";const ee=y(ve,_);if(ee.every(xe=>xe===b))P=".*";else{let xe=!1;ee.forEach((Fe,Ue)=>{if(Fe===b){if(xe)return;P+=Z(2,Ue===ee.length-1)}else{let qe=!1,Ge="",We=!1,bt="";for(const tt of Fe){if(tt!=="}"&&qe){Ge+=tt;continue}if(We&&(tt!=="]"||!bt)){let ot;tt==="-"?ot=tt:(tt==="^"||tt==="!")&&!bt?ot="^":tt===_?ot="":ot=(0,z.ec)(tt),bt+=ot;continue}switch(tt){case"{":qe=!0;continue;case"[":We=!0;continue;case"}":{const lt=`(?:${y(Ge,",").map(Dt=>k(Dt)).join("|")})`;P+=lt,qe=!1,Ge="";break}case"]":{P+="["+bt+"]",We=!1,bt="";break}case"?":P+=ae;continue;case"*":P+=Z(1);continue;default:P+=(0,z.ec)(tt)}}Ue<ee.length-1&&(ee[Ue+1]!==b||Ue+2<ee.length)&&(P+=B)}xe=Fe===b})}return P}const x=/^\*\*\/\*\.[\w\.-]+$/,g=/^\*\*\/([\w\.-]+)\/?$/,ue=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,fe=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,T=/^\*\*((\/[\w\.-]+)+)\/?$/,S=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,w=new o.z6(1e4),A=function(){return!1},M=function(){return null};function C(ve,P){if(!ve)return M;let ee;typeof ve!="string"?ee=ve.pattern:ee=ve,ee=ee.trim();const xe=`${ee}_${!!P.trimForExclusions}`;let Fe=w.get(xe);if(Fe)return V(Fe,ve);let Ue;return x.test(ee)?Fe=j(ee.substr(4),ee):(Ue=g.exec(W(ee,P)))?Fe=Q(Ue[1],ee):(P.trimForExclusions?fe:ue).test(ee)?Fe=ge(ee,P):(Ue=T.exec(W(ee,P)))?Fe=ne(Ue[1].substr(1),ee,!0):(Ue=S.exec(W(ee,P)))?Fe=ne(Ue[1],ee,!1):Fe=X(ee),w.set(xe,Fe),V(Fe,ve)}function V(ve,P){if(typeof P=="string")return ve;const ee=function(xe,Fe){return(0,K.KM)(xe,P.base,!I.IJ)?ve((0,z.j3)(xe.substr(P.base.length),U.ir),Fe):null};return ee.allBasenames=ve.allBasenames,ee.allPaths=ve.allPaths,ee.basenames=ve.basenames,ee.patterns=ve.patterns,ee}function W(ve,P){return P.trimForExclusions&&ve.endsWith("/**")?ve.substr(0,ve.length-2):ve}function j(ve,P){return function(ee,xe){return typeof ee=="string"&&ee.endsWith(ve)?P:null}}function Q(ve,P){const ee=`/${ve}`,xe=`\\${ve}`,Fe=function(qe,Ge){return typeof qe!="string"?null:Ge?Ge===ve?P:null:qe===ve||qe.endsWith(ee)||qe.endsWith(xe)?P:null},Ue=[ve];return Fe.basenames=Ue,Fe.patterns=[P],Fe.allBasenames=Ue,Fe}function ge(ve,P){const ee=Te(ve.slice(1,-1).split(",").map(Ge=>C(Ge,P)).filter(Ge=>Ge!==M),ve),xe=ee.length;if(!xe)return M;if(xe===1)return ee[0];const Fe=function(Ge,We){for(let bt=0,tt=ee.length;bt<tt;bt++)if(ee[bt](Ge,We))return ve;return null},Ue=ee.find(Ge=>!!Ge.allBasenames);Ue&&(Fe.allBasenames=Ue.allBasenames);const qe=ee.reduce((Ge,We)=>We.allPaths?Ge.concat(We.allPaths):Ge,[]);return qe.length&&(Fe.allPaths=qe),Fe}function ne(ve,P,ee){const xe=U.ir===U.KR.sep,Fe=xe?ve:ve.replace(J,U.ir),Ue=U.ir+Fe,qe=U.KR.sep+ve;let Ge;return ee?Ge=function(We,bt){return typeof We=="string"&&(We===Fe||We.endsWith(Ue)||!xe&&(We===ve||We.endsWith(qe)))?P:null}:Ge=function(We,bt){return typeof We=="string"&&(We===Fe||!xe&&We===ve)?P:null},Ge.allPaths=[(ee?"*/":"./")+ve],Ge}function X(ve){try{const P=new RegExp(`^${k(ve)}$`);return function(ee){return P.lastIndex=0,typeof ee=="string"&&P.test(ee)?ve:null}}catch(P){return M}}function G(ve,P,ee){return!ve||typeof P!="string"?!1:ie(ve)(P,void 0,ee)}function ie(ve,P={}){if(!ve)return A;if(typeof ve=="string"||se(ve)){const ee=C(ve,P);if(ee===M)return A;const xe=function(Fe,Ue){return!!ee(Fe,Ue)};return ee.allBasenames&&(xe.allBasenames=ee.allBasenames),ee.allPaths&&(xe.allPaths=ee.allPaths),xe}return Me(ve,P)}function se(ve){const P=ve;return P?typeof P.base=="string"&&typeof P.pattern=="string":!1}function Me(ve,P){const ee=Te(Object.getOwnPropertyNames(ve).map(Ge=>He(Ge,ve[Ge],P)).filter(Ge=>Ge!==M)),xe=ee.length;if(!xe)return M;if(!ee.some(Ge=>!!Ge.requiresSiblings)){if(xe===1)return ee[0];const Ge=function(tt,ot){let lt;for(let Dt=0,nn=ee.length;Dt<nn;Dt++){const le=ee[Dt](tt,ot);if(typeof le=="string")return le;(0,O.J8)(le)&&(lt||(lt=[]),lt.push(le))}return lt?sn(this,null,function*(){for(const Dt of lt){const nn=yield Dt;if(typeof nn=="string")return nn}return null}):null},We=ee.find(tt=>!!tt.allBasenames);We&&(Ge.allBasenames=We.allBasenames);const bt=ee.reduce((tt,ot)=>ot.allPaths?tt.concat(ot.allPaths):tt,[]);return bt.length&&(Ge.allPaths=bt),Ge}const Fe=function(Ge,We,bt){let tt,ot;for(let lt=0,Dt=ee.length;lt<Dt;lt++){const nn=ee[lt];nn.requiresSiblings&&bt&&(We||(We=(0,U.EZ)(Ge)),tt||(tt=We.substr(0,We.length-(0,U.DZ)(Ge).length)));const le=nn(Ge,We,tt,bt);if(typeof le=="string")return le;(0,O.J8)(le)&&(ot||(ot=[]),ot.push(le))}return ot?sn(this,null,function*(){for(const lt of ot){const Dt=yield lt;if(typeof Dt=="string")return Dt}return null}):null},Ue=ee.find(Ge=>!!Ge.allBasenames);Ue&&(Fe.allBasenames=Ue.allBasenames);const qe=ee.reduce((Ge,We)=>We.allPaths?Ge.concat(We.allPaths):Ge,[]);return qe.length&&(Fe.allPaths=qe),Fe}function He(ve,P,ee){if(P===!1)return M;const xe=C(ve,ee);if(xe===M)return M;if(typeof P=="boolean")return xe;if(P){const Fe=P.when;if(typeof Fe=="string"){const Ue=(qe,Ge,We,bt)=>{if(!bt||!xe(qe,Ge))return null;const tt=Fe.replace("$(basename)",()=>We),ot=bt(tt);return(0,O.J8)(ot)?ot.then(lt=>lt?ve:null):ot?ve:null};return Ue.requiresSiblings=!0,Ue}}return xe}function Te(ve,P){const ee=ve.filter(Ge=>!!Ge.basenames);if(ee.length<2)return ve;const xe=ee.reduce((Ge,We)=>{const bt=We.basenames;return bt?Ge.concat(bt):Ge},[]);let Fe;if(P){Fe=[];for(let Ge=0,We=xe.length;Ge<We;Ge++)Fe.push(P)}else Fe=ee.reduce((Ge,We)=>{const bt=We.patterns;return bt?Ge.concat(bt):Ge},[]);const Ue=function(Ge,We){if(typeof Ge!="string")return null;if(!We){let tt;for(tt=Ge.length;tt>0;tt--){const ot=Ge.charCodeAt(tt-1);if(ot===47||ot===92)break}We=Ge.substr(tt)}const bt=xe.indexOf(We);return bt!==-1?Fe[bt]:null};Ue.basenames=xe,Ue.patterns=Fe,Ue.allBasenames=xe;const qe=ve.filter(Ge=>!Ge.basenames);return qe.push(Ue),qe}},3849:function(vt,Se,N){"use strict";N.d(Se,{Cv:function(){return z},SP:function(){return o},yP:function(){return y}});var O=N(9632);function K(x){return o(x,0)}function o(x,g){switch(typeof x){case"object":return x===null?U(349,g):Array.isArray(x)?b(x,g):_(x,g);case"string":return z(x,g);case"boolean":return I(x,g);case"number":return U(x,g);case"undefined":return U(937,g);default:return U(617,g)}}function U(x,g){return(g<<5)-g+x|0}function I(x,g){return U(x?433:863,g)}function z(x,g){g=U(149417,g);for(let ue=0,fe=x.length;ue<fe;ue++)g=U(x.charCodeAt(ue),g);return g}function b(x,g){return g=U(104579,g),x.reduce((ue,fe)=>o(fe,ue),g)}function _(x,g){return g=U(181387,g),Object.keys(x).sort().reduce((ue,fe)=>(ue=z(fe,ue),o(x[fe],ue)),g)}function B(x,g,ue=32){const fe=ue-g,T=~((1<<fe)-1);return(x<<g|(T&x)>>>fe)>>>0}function ae(x,g=0,ue=x.byteLength,fe=0){for(let T=0;T<ue;T++)x[g+T]=fe}function J(x,g,ue="0"){for(;x.length<g;)x=ue+x;return x}function Z(x,g=32){return x instanceof ArrayBuffer?Array.from(new Uint8Array(x)).map(ue=>ue.toString(16).padStart(2,"0")).join(""):J((x>>>0).toString(16),g/4)}const k=class k{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(g){const ue=g.length;if(ue===0)return;const fe=this._buff;let T=this._buffLen,S=this._leftoverHighSurrogate,w,A;for(S!==0?(w=S,A=-1,S=0):(w=g.charCodeAt(0),A=0);;){let M=w;if(O.ZG(w))if(A+1<ue){const C=g.charCodeAt(A+1);O.YK(C)?(A++,M=O.rL(w,C)):M=65533}else{S=w;break}else O.YK(w)&&(M=65533);if(T=this._push(fe,T,M),A++,A<ue)w=g.charCodeAt(A);else break}this._buffLen=T,this._leftoverHighSurrogate=S}_push(g,ue,fe){return fe<128?g[ue++]=fe:fe<2048?(g[ue++]=192|(fe&1984)>>>6,g[ue++]=128|(fe&63)>>>0):fe<65536?(g[ue++]=224|(fe&61440)>>>12,g[ue++]=128|(fe&4032)>>>6,g[ue++]=128|(fe&63)>>>0):(g[ue++]=240|(fe&1835008)>>>18,g[ue++]=128|(fe&258048)>>>12,g[ue++]=128|(fe&4032)>>>6,g[ue++]=128|(fe&63)>>>0),ue>=64&&(this._step(),ue-=64,this._totalLen+=64,g[0]=g[64],g[1]=g[65],g[2]=g[66]),ue}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Z(this._h0)+Z(this._h1)+Z(this._h2)+Z(this._h3)+Z(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,ae(this._buff,this._buffLen),this._buffLen>56&&(this._step(),ae(this._buff));const g=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(g/4294967296),!1),this._buffDV.setUint32(60,g%4294967296,!1),this._step()}_step(){const g=k._bigBlock32,ue=this._buffDV;for(let W=0;W<64;W+=4)g.setUint32(W,ue.getUint32(W,!1),!1);for(let W=64;W<320;W+=4)g.setUint32(W,B(g.getUint32(W-12,!1)^g.getUint32(W-32,!1)^g.getUint32(W-56,!1)^g.getUint32(W-64,!1),1),!1);let fe=this._h0,T=this._h1,S=this._h2,w=this._h3,A=this._h4,M,C,V;for(let W=0;W<80;W++)W<20?(M=T&S|~T&w,C=1518500249):W<40?(M=T^S^w,C=1859775393):W<60?(M=T&S|T&w|S&w,C=2400959708):(M=T^S^w,C=3395469782),V=B(fe,5)+M+A+C+g.getUint32(W*4,!1)&4294967295,A=w,w=S,S=B(T,30),T=fe,fe=V;this._h0=this._h0+fe&4294967295,this._h1=this._h1+T&4294967295,this._h2=this._h2+S&4294967295,this._h3=this._h3+w&4294967295,this._h4=this._h4+A&4294967295}};k._bigBlock32=new DataView(new ArrayBuffer(320));let y=k},2982:function(vt,Se,N){"use strict";N.d(Se,{$:function(){return O}});var O;(function(K){function o(A){return A&&typeof A=="object"&&typeof A[Symbol.iterator]=="function"}K.is=o;const U=Object.freeze([]);function I(){return U}K.empty=I;function*z(A){yield A}K.single=z;function b(A){return o(A)?A:z(A)}K.wrap=b;function _(A){return A||U}K.from=_;function*B(A){for(let M=A.length-1;M>=0;M--)yield A[M]}K.reverse=B;function ae(A){return!A||A[Symbol.iterator]().next().done===!0}K.isEmpty=ae;function J(A){return A[Symbol.iterator]().next().value}K.first=J;function Z(A,M){let C=0;for(const V of A)if(M(V,C++))return!0;return!1}K.some=Z;function y(A,M){for(const C of A)if(M(C))return C}K.find=y;function*k(A,M){for(const C of A)M(C)&&(yield C)}K.filter=k;function*x(A,M){let C=0;for(const V of A)yield M(V,C++)}K.map=x;function*g(A,M){let C=0;for(const V of A)yield*Bs(M(V,C++))}K.flatMap=g;function*ue(...A){for(const M of A)yield*Bs(M)}K.concat=ue;function fe(A,M,C){let V=C;for(const W of A)V=M(V,W);return V}K.reduce=fe;function*T(A,M,C=A.length){for(M<0&&(M+=A.length),C<0?C+=A.length:C>A.length&&(C=A.length);M<C;M++)yield A[M]}K.slice=T;function S(A,M=Number.POSITIVE_INFINITY){const C=[];if(M===0)return[C,A];const V=A[Symbol.iterator]();for(let W=0;W<M;W++){const j=V.next();if(j.done)return[C,K.empty()];C.push(j.value)}return[C,{[Symbol.iterator](){return V}}]}K.consume=S;function w(A){return sn(this,null,function*(){const M=[];try{for(var C=yr(A),V,W,j;V=!(W=yield C.next()).done;V=!1){const Q=W.value;M.push(Q)}}catch(W){j=[W]}finally{try{V&&(W=C.return)&&(yield W.call(C))}finally{if(j)throw j[0]}}return Promise.resolve(M)})}K.asyncToArray=w})(O||(O={}))},7953:function(vt,Se,N){"use strict";N.d(Se,{o:function(){return O}});class O{constructor(o){this.executor=o,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(o){this._error=o}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},338:function(vt,Se,N){"use strict";N.d(Se,{JT:function(){return g},b2:function(){return S},SL:function(){return x},XK:function(){return ue},F8:function(){return y},B9:function(){return Z},Nq:function(){return b},OF:function(){return k},wi:function(){return z}});function O(M,C){const V=this;let W=!1,j;return function(){if(W)return j;if(W=!0,C)try{j=M.apply(V,arguments)}finally{C()}else j=M.apply(V,arguments);return j}}var K=N(2982);const o=!1;let U=null;function I(M){U=M}if(o){const M="__is_disposable_tracked__";I(new class{trackDisposable(C){const V=new Error("Potentially leaked disposable").stack;setTimeout(()=>{C[M]||console.log(V)},3e3)}setParent(C,V){if(C&&C!==g.None)try{C[M]=!0}catch(W){}}markAsDisposed(C){if(C&&C!==g.None)try{C[M]=!0}catch(V){}}markAsSingleton(C){}})}function z(M){return U==null||U.trackDisposable(M),M}function b(M){U==null||U.markAsDisposed(M)}function _(M,C){U==null||U.setParent(M,C)}function B(M,C){if(U)for(const V of M)U.setParent(V,C)}function ae(M){return U==null||U.markAsSingleton(M),M}function J(M){return typeof M=="object"&&M!==null&&typeof M.dispose=="function"&&M.dispose.length===0}function Z(M){if(K.$.is(M)){const C=[];for(const V of M)if(V)try{V.dispose()}catch(W){C.push(W)}if(C.length===1)throw C[0];if(C.length>1)throw new AggregateError(C,"Encountered errors while disposing of store");return Array.isArray(M)?[]:M}else if(M)return M.dispose(),M}function y(...M){const C=k(()=>Z(M));return B(M,C),C}function k(M){const C=z({dispose:O(()=>{b(C),M()})});return C}const w=class w{constructor(){this._toDispose=new Set,this._isDisposed=!1,z(this)}dispose(){this._isDisposed||(b(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{Z(this._toDispose)}finally{this._toDispose.clear()}}add(C){if(!C)return C;if(C===this)throw new Error("Cannot register a disposable on itself!");return _(C,this),this._isDisposed?w.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(C),C}deleteAndLeak(C){C&&this._toDispose.has(C)&&(this._toDispose.delete(C),_(C,null))}};w.DISABLE_DISPOSED_WARNING=!1;let x=w;const A=class A{constructor(){this._store=new x,z(this),_(this._store,this)}dispose(){b(this),this._store.dispose()}_register(C){if(C===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(C)}};A.None=Object.freeze({dispose(){}});let g=A;class ue{constructor(){this._isDisposed=!1,z(this)}get value(){return this._isDisposed?void 0:this._value}set value(C){var V;this._isDisposed||C===this._value||((V=this._value)==null||V.dispose(),C&&_(C,this),this._value=C)}clear(){this.value=void 0}dispose(){var C;this._isDisposed=!0,b(this),(C=this._value)==null||C.dispose(),this._value=void 0}}class fe{constructor(C){this._disposable=C,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class T{constructor(C){this.object=C}dispose(){}}class S{constructor(){this._store=new Map,this._isDisposed=!1,z(this)}dispose(){b(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{Z(this._store.values())}finally{this._store.clear()}}get(C){return this._store.get(C)}set(C,V,W=!1){var j;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),W||(j=this._store.get(C))==null||j.dispose(),this._store.set(C,V)}deleteAndDispose(C){var V;(V=this._store.get(C))==null||V.dispose(),this._store.delete(C)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},8310:function(vt,Se,N){"use strict";N.d(Se,{S:function(){return K}});const o=class o{constructor(I){this.element=I,this.next=o.Undefined,this.prev=o.Undefined}};o.Undefined=new o(void 0);let O=o;class K{constructor(){this._first=O.Undefined,this._last=O.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===O.Undefined}clear(){let I=this._first;for(;I!==O.Undefined;){const z=I.next;I.prev=O.Undefined,I.next=O.Undefined,I=z}this._first=O.Undefined,this._last=O.Undefined,this._size=0}unshift(I){return this._insert(I,!1)}push(I){return this._insert(I,!0)}_insert(I,z){const b=new O(I);if(this._first===O.Undefined)this._first=b,this._last=b;else if(z){const B=this._last;this._last=b,b.prev=B,B.next=b}else{const B=this._first;this._first=b,b.next=B,B.prev=b}this._size+=1;let _=!1;return()=>{_||(_=!0,this._remove(b))}}shift(){if(this._first!==O.Undefined){const I=this._first.element;return this._remove(this._first),I}}pop(){if(this._last!==O.Undefined){const I=this._last.element;return this._remove(this._last),I}}_remove(I){if(I.prev!==O.Undefined&&I.next!==O.Undefined){const z=I.prev;z.next=I.next,I.next.prev=z}else I.prev===O.Undefined&&I.next===O.Undefined?(this._first=O.Undefined,this._last=O.Undefined):I.next===O.Undefined?(this._last=this._last.prev,this._last.next=O.Undefined):I.prev===O.Undefined&&(this._first=this._first.next,this._first.prev=O.Undefined);this._size-=1}*[Symbol.iterator](){let I=this._first;for(;I!==O.Undefined;)yield I.element,I=I.next}}},9941:function(vt,Se,N){"use strict";N.d(Se,{Y9:function(){return I},YQ:function(){return B},ri:function(){return ae},z6:function(){return _}});var O,K;class o{constructor(y,k){this.uri=y,this.value=k}}function U(Z){return Array.isArray(Z)}const J=class J{constructor(y,k){if(this[O]="ResourceMap",y instanceof J)this.map=new Map(y.map),this.toKey=k!=null?k:J.defaultToKey;else if(U(y)){this.map=new Map,this.toKey=k!=null?k:J.defaultToKey;for(const[x,g]of y)this.set(x,g)}else this.map=new Map,this.toKey=y!=null?y:J.defaultToKey}set(y,k){return this.map.set(this.toKey(y),new o(y,k)),this}get(y){var k;return(k=this.map.get(this.toKey(y)))==null?void 0:k.value}has(y){return this.map.has(this.toKey(y))}get size(){return this.map.size}clear(){this.map.clear()}delete(y){return this.map.delete(this.toKey(y))}forEach(y,k){typeof k!="undefined"&&(y=y.bind(k));for(const[x,g]of this.map)y(g.value,g.uri,this)}*values(){for(const y of this.map.values())yield y.value}*keys(){for(const y of this.map.values())yield y.uri}*entries(){for(const y of this.map.values())yield[y.uri,y.value]}*[(O=Symbol.toStringTag,Symbol.iterator)](){for(const[,y]of this.map)yield[y.uri,y.value]}};J.defaultToKey=y=>y.toString();let I=J;class z{constructor(){this[K]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var y;return(y=this._head)==null?void 0:y.value}get last(){var y;return(y=this._tail)==null?void 0:y.value}has(y){return this._map.has(y)}get(y,k=0){const x=this._map.get(y);if(x)return k!==0&&this.touch(x,k),x.value}set(y,k,x=0){let g=this._map.get(y);if(g)g.value=k,x!==0&&this.touch(g,x);else{switch(g={key:y,value:k,next:void 0,previous:void 0},x){case 0:this.addItemLast(g);break;case 1:this.addItemFirst(g);break;case 2:this.addItemLast(g);break;default:this.addItemLast(g);break}this._map.set(y,g),this._size++}return this}delete(y){return!!this.remove(y)}remove(y){const k=this._map.get(y);if(k)return this._map.delete(y),this.removeItem(k),this._size--,k.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const y=this._head;return this._map.delete(y.key),this.removeItem(y),this._size--,y.value}forEach(y,k){const x=this._state;let g=this._head;for(;g;){if(k?y.bind(k)(g.value,g.key,this):y(g.value,g.key,this),this._state!==x)throw new Error("LinkedMap got modified during iteration.");g=g.next}}keys(){const y=this,k=this._state;let x=this._head;const g={[Symbol.iterator](){return g},next(){if(y._state!==k)throw new Error("LinkedMap got modified during iteration.");if(x){const ue={value:x.key,done:!1};return x=x.next,ue}else return{value:void 0,done:!0}}};return g}values(){const y=this,k=this._state;let x=this._head;const g={[Symbol.iterator](){return g},next(){if(y._state!==k)throw new Error("LinkedMap got modified during iteration.");if(x){const ue={value:x.value,done:!1};return x=x.next,ue}else return{value:void 0,done:!0}}};return g}entries(){const y=this,k=this._state;let x=this._head;const g={[Symbol.iterator](){return g},next(){if(y._state!==k)throw new Error("LinkedMap got modified during iteration.");if(x){const ue={value:[x.key,x.value],done:!1};return x=x.next,ue}else return{value:void 0,done:!0}}};return g}[(K=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(y){if(y>=this.size)return;if(y===0){this.clear();return}let k=this._head,x=this.size;for(;k&&x>y;)this._map.delete(k.key),k=k.next,x--;this._head=k,this._size=x,k&&(k.previous=void 0),this._state++}trimNew(y){if(y>=this.size)return;if(y===0){this.clear();return}let k=this._tail,x=this.size;for(;k&&x>y;)this._map.delete(k.key),k=k.previous,x--;this._tail=k,this._size=x,k&&(k.next=void 0),this._state++}addItemFirst(y){if(!this._head&&!this._tail)this._tail=y;else if(this._head)y.next=this._head,this._head.previous=y;else throw new Error("Invalid list");this._head=y,this._state++}addItemLast(y){if(!this._head&&!this._tail)this._head=y;else if(this._tail)y.previous=this._tail,this._tail.next=y;else throw new Error("Invalid list");this._tail=y,this._state++}removeItem(y){if(y===this._head&&y===this._tail)this._head=void 0,this._tail=void 0;else if(y===this._head){if(!y.next)throw new Error("Invalid list");y.next.previous=void 0,this._head=y.next}else if(y===this._tail){if(!y.previous)throw new Error("Invalid list");y.previous.next=void 0,this._tail=y.previous}else{const k=y.next,x=y.previous;if(!k||!x)throw new Error("Invalid list");k.previous=x,x.next=k}y.next=void 0,y.previous=void 0,this._state++}touch(y,k){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(k!==1&&k!==2)){if(k===1){if(y===this._head)return;const x=y.next,g=y.previous;y===this._tail?(g.next=void 0,this._tail=g):(x.previous=g,g.next=x),y.previous=void 0,y.next=this._head,this._head.previous=y,this._head=y,this._state++}else if(k===2){if(y===this._tail)return;const x=y.next,g=y.previous;y===this._head?(x.previous=void 0,this._head=x):(x.previous=g,g.next=x),y.next=void 0,y.previous=this._tail,this._tail.next=y,this._tail=y,this._state++}}}toJSON(){const y=[];return this.forEach((k,x)=>{y.push([x,k])}),y}fromJSON(y){this.clear();for(const[k,x]of y)this.set(k,x)}}class b extends z{constructor(y,k=1){super(),this._limit=y,this._ratio=Math.min(Math.max(0,k),1)}get limit(){return this._limit}set limit(y){this._limit=y,this.checkTrim()}get(y,k=2){return super.get(y,k)}peek(y){return super.get(y,0)}set(y,k){return super.set(y,k,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class _ extends b{constructor(y,k=1){super(y,k)}trim(y){this.trimOld(y)}set(y,k){return super.set(y,k),this.checkTrim(),this}}class B{constructor(y){if(this._m1=new Map,this._m2=new Map,y)for(const[k,x]of y)this.set(k,x)}clear(){this._m1.clear(),this._m2.clear()}set(y,k){this._m1.set(y,k),this._m2.set(k,y)}get(y){return this._m1.get(y)}getKey(y){return this._m2.get(y)}delete(y){const k=this._m1.get(y);return k===void 0?!1:(this._m1.delete(y),this._m2.delete(k),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}class ae{constructor(){this.map=new Map}add(y,k){let x=this.map.get(y);x||(x=new Set,this.map.set(y,x)),x.add(k)}delete(y,k){const x=this.map.get(y);x&&(x.delete(k),x.size===0&&this.map.delete(y))}forEach(y,k){const x=this.map.get(y);x&&x.forEach(k)}get(y){const k=this.map.get(y);return k||new Set}}},2542:function(vt,Se,N){"use strict";N.d(Se,{v:function(){return O}});const O=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},5173:function(vt,Se,N){"use strict";N.d(Se,{Gi:function(){return k},lg:function(){return z},xn:function(){return b}});var O=N(561),K=N(264),o=N(9632),U=N(9423),I=N(9701),z;(function(ue){ue.inMemory="inmemory",ue.vscode="vscode",ue.internal="private",ue.walkThrough="walkThrough",ue.walkThroughSnippet="walkThroughSnippet",ue.http="http",ue.https="https",ue.file="file",ue.mailto="mailto",ue.untitled="untitled",ue.data="data",ue.command="command",ue.vscodeRemote="vscode-remote",ue.vscodeRemoteResource="vscode-remote-resource",ue.vscodeManagedRemoteResource="vscode-managed-remote-resource",ue.vscodeUserData="vscode-userdata",ue.vscodeCustomEditor="vscode-custom-editor",ue.vscodeNotebookCell="vscode-notebook-cell",ue.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",ue.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",ue.vscodeNotebookCellOutput="vscode-notebook-cell-output",ue.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",ue.vscodeNotebookMetadata="vscode-notebook-metadata",ue.vscodeInteractiveInput="vscode-interactive-input",ue.vscodeSettings="vscode-settings",ue.vscodeWorkspaceTrust="vscode-workspace-trust",ue.vscodeTerminal="vscode-terminal",ue.vscodeChatCodeBlock="vscode-chat-code-block",ue.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",ue.vscodeChatSesssion="vscode-chat-editor",ue.webviewPanel="webview-panel",ue.vscodeWebview="vscode-webview",ue.extension="extension",ue.vscodeFileResource="vscode-file",ue.tmp="tmp",ue.vsls="vsls",ue.vscodeSourceControl="vscode-scm",ue.commentsInput="comment",ue.codeSetting="code-setting",ue.outputChannel="output"})(z||(z={}));function b(ue,fe){return U.o.isUri(ue)?(0,o.qq)(ue.scheme,fe):(0,o.ok)(ue,fe+":")}function _(ue,...fe){return fe.some(T=>b(ue,T))}const B="tkn";class ae{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(fe){this._preferredWebSchema=fe}get _remoteResourcesPath(){return I.KR.join(this._serverRootPath,z.vscodeRemoteResource)}rewrite(fe){if(this._delegate)try{return this._delegate(fe)}catch(C){return O.dL(C),fe}const T=fe.authority;let S=this._hosts[T];S&&S.indexOf(":")!==-1&&S.indexOf("[")===-1&&(S=`[${S}]`);const w=this._ports[T],A=this._connectionTokens[T];let M=`path=${encodeURIComponent(fe.path)}`;return typeof A=="string"&&(M+=`&${B}=${encodeURIComponent(A)}`),U.o.from({scheme:K.$L?this._preferredWebSchema:z.vscodeRemoteResource,authority:`${S}:${w}`,path:this._remoteResourcesPath,query:M})}}const J=new ae,Z="vscode-app",g=class g{asBrowserUri(fe){const T=this.toUri(fe);return this.uriToBrowserUri(T)}uriToBrowserUri(fe){return fe.scheme===z.vscodeRemote?J.rewrite(fe):fe.scheme===z.file&&(K.tY||K.qB===`${z.vscodeFileResource}://${g.FALLBACK_AUTHORITY}`)?fe.with({scheme:z.vscodeFileResource,authority:fe.authority||g.FALLBACK_AUTHORITY,query:null,fragment:null}):fe}toUri(fe,T){if(U.o.isUri(fe))return fe;if(globalThis._VSCODE_FILE_ROOT){const S=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(S))return U.o.joinPath(U.o.parse(S,!0),fe);const w=I.v_(S,fe);return U.o.file(w)}return U.o.parse(T.toUrl(fe))}};g.FALLBACK_AUTHORITY=Z;let y=g;const k=new y;var x;(function(ue){const fe=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);ue.CoopAndCoep=Object.freeze(fe.get("3"));const T="vscode-coi";function S(A){let M;typeof A=="string"?M=new URL(A).searchParams:A instanceof URL?M=A.searchParams:U.o.isUri(A)&&(M=new URL(A.toString(!0)).searchParams);const C=M==null?void 0:M.get(T);if(C)return fe.get(C)}ue.getHeadersFromQuery=S;function w(A,M,C){if(!globalThis.crossOriginIsolated)return;const V=M&&C?"3":C?"2":"1";A instanceof URLSearchParams?A.set(T,V):A[T]=V}ue.addSearchParam=w})(x||(x={}))},6364:function(vt,Se,N){"use strict";N.d(Se,{$E:function(){return B},IU:function(){return ae},fS:function(){return b}});function O(J){if(!J||typeof J!="object"||J instanceof RegExp)return J;const Z=Array.isArray(J)?[]:{};return Object.entries(J).forEach(([y,k])=>{Z[y]=k&&typeof k=="object"?O(k):k}),Z}function K(J){if(!J||typeof J!="object")return J;const Z=[J];for(;Z.length>0;){const y=Z.shift();Object.freeze(y);for(const k in y)if(o.call(y,k)){const x=y[k];typeof x=="object"&&!Object.isFrozen(x)&&!isTypedArray(x)&&Z.push(x)}}return J}const o=Object.prototype.hasOwnProperty;function U(J,Z){return I(J,Z,new Set)}function I(J,Z,y){if(isUndefinedOrNull(J))return J;const k=Z(J);if(typeof k!="undefined")return k;if(Array.isArray(J)){const x=[];for(const g of J)x.push(I(g,Z,y));return x}if(isObject(J)){if(y.has(J))throw new Error("Cannot clone recursive data-structure");y.add(J);const x={};for(const g in J)o.call(J,g)&&(x[g]=I(J[g],Z,y));return y.delete(J),x}return J}function z(J,Z,y=!0){return isObject(J)?(isObject(Z)&&Object.keys(Z).forEach(k=>{k in J?y&&(isObject(J[k])&&isObject(Z[k])?z(J[k],Z[k],y):J[k]=Z[k]):J[k]=Z[k]}),J):Z}function b(J,Z){if(J===Z)return!0;if(J==null||Z===null||Z===void 0||typeof J!=typeof Z||typeof J!="object"||Array.isArray(J)!==Array.isArray(Z))return!1;let y,k;if(Array.isArray(J)){if(J.length!==Z.length)return!1;for(y=0;y<J.length;y++)if(!b(J[y],Z[y]))return!1}else{const x=[];for(k in J)x.push(k);x.sort();const g=[];for(k in Z)g.push(k);if(g.sort(),!b(x,g))return!1;for(y=0;y<x.length;y++)if(!b(J[x[y]],Z[x[y]]))return!1}return!0}function _(J){let Z=[];for(;Object.prototype!==J;)Z=Z.concat(Object.getOwnPropertyNames(J)),J=Object.getPrototypeOf(J);return Z}function B(J){const Z=[];for(const y of _(J))typeof J[y]=="function"&&Z.push(y);return Z}function ae(J,Z){const y=x=>function(){const g=Array.prototype.slice.call(arguments,0);return Z(x,g)},k={};for(const x of J)k[x]=y(x);return k}},9701:function(vt,Se,N){"use strict";var ve;N.d(Se,{EZ:function(){return Me},XX:function(){return se},DZ:function(){return He},v_:function(){return X},Fv:function(){return ne},KR:function(){return ge},Gf:function(){return ie},DB:function(){return G},ir:function(){return Te},Ku:function(){return j}});var O=N(264),K=N(4224);let o;const U=globalThis.vscode;if(typeof U!="undefined"&&typeof U.process!="undefined"){const P=U.process;o={get platform(){return P.platform},get arch(){return P.arch},get env(){return P.env},cwd(){return P.cwd()}}}else typeof K!="undefined"&&typeof((ve=K==null?void 0:K.versions)==null?void 0:ve.node)=="string"?o={get platform(){return K.platform},get arch(){return K.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"./"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"./"}.VSCODE_CWD||K.cwd()}}:o={get platform(){return O.ED?"win32":O.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const I=o.cwd,z=o.env,b=o.platform,_=65,B=97,ae=90,J=122,Z=46,y=47,k=92,x=58,g=63;class ue extends Error{constructor(ee,xe,Fe){let Ue;typeof xe=="string"&&xe.indexOf("not ")===0?(Ue="must not be",xe=xe.replace(/^not /,"")):Ue="must be";const qe=ee.indexOf(".")!==-1?"property":"argument";let Ge=`The "${ee}" ${qe} ${Ue} of type ${xe}`;Ge+=`. Received type ${typeof Fe}`,super(Ge),this.code="ERR_INVALID_ARG_TYPE"}}function fe(P,ee){if(P===null||typeof P!="object")throw new ue(ee,"Object",P)}function T(P,ee){if(typeof P!="string")throw new ue(ee,"string",P)}const S=b==="win32";function w(P){return P===y||P===k}function A(P){return P===y}function M(P){return P>=_&&P<=ae||P>=B&&P<=J}function C(P,ee,xe,Fe){let Ue="",qe=0,Ge=-1,We=0,bt=0;for(let tt=0;tt<=P.length;++tt){if(tt<P.length)bt=P.charCodeAt(tt);else{if(Fe(bt))break;bt=y}if(Fe(bt)){if(!(Ge===tt-1||We===1))if(We===2){if(Ue.length<2||qe!==2||Ue.charCodeAt(Ue.length-1)!==Z||Ue.charCodeAt(Ue.length-2)!==Z){if(Ue.length>2){const ot=Ue.lastIndexOf(xe);ot===-1?(Ue="",qe=0):(Ue=Ue.slice(0,ot),qe=Ue.length-1-Ue.lastIndexOf(xe)),Ge=tt,We=0;continue}else if(Ue.length!==0){Ue="",qe=0,Ge=tt,We=0;continue}}ee&&(Ue+=Ue.length>0?`${xe}..`:"..",qe=2)}else Ue.length>0?Ue+=`${xe}${P.slice(Ge+1,tt)}`:Ue=P.slice(Ge+1,tt),qe=tt-Ge-1;Ge=tt,We=0}else bt===Z&&We!==-1?++We:We=-1}return Ue}function V(P){return P?`${P[0]==="."?"":"."}${P}`:""}function W(P,ee){fe(ee,"pathObject");const xe=ee.dir||ee.root,Fe=ee.base||`${ee.name||""}${V(ee.ext)}`;return xe?xe===ee.root?`${xe}${Fe}`:`${xe}${P}${Fe}`:Fe}const j={resolve(...P){let ee="",xe="",Fe=!1;for(let Ue=P.length-1;Ue>=-1;Ue--){let qe;if(Ue>=0){if(qe=P[Ue],T(qe,`paths[${Ue}]`),qe.length===0)continue}else ee.length===0?qe=I():(qe={NODE_ENV:"production",PUBLIC_PATH:"./"}[`=${ee}`]||I(),(qe===void 0||qe.slice(0,2).toLowerCase()!==ee.toLowerCase()&&qe.charCodeAt(2)===k)&&(qe=`${ee}\\`));const Ge=qe.length;let We=0,bt="",tt=!1;const ot=qe.charCodeAt(0);if(Ge===1)w(ot)&&(We=1,tt=!0);else if(w(ot))if(tt=!0,w(qe.charCodeAt(1))){let lt=2,Dt=lt;for(;lt<Ge&&!w(qe.charCodeAt(lt));)lt++;if(lt<Ge&&lt!==Dt){const nn=qe.slice(Dt,lt);for(Dt=lt;lt<Ge&&w(qe.charCodeAt(lt));)lt++;if(lt<Ge&&lt!==Dt){for(Dt=lt;lt<Ge&&!w(qe.charCodeAt(lt));)lt++;(lt===Ge||lt!==Dt)&&(bt=`\\\\${nn}\\${qe.slice(Dt,lt)}`,We=lt)}}}else We=1;else M(ot)&&qe.charCodeAt(1)===x&&(bt=qe.slice(0,2),We=2,Ge>2&&w(qe.charCodeAt(2))&&(tt=!0,We=3));if(bt.length>0)if(ee.length>0){if(bt.toLowerCase()!==ee.toLowerCase())continue}else ee=bt;if(Fe){if(ee.length>0)break}else if(xe=`${qe.slice(We)}\\${xe}`,Fe=tt,tt&&ee.length>0)break}return xe=C(xe,!Fe,"\\",w),Fe?`${ee}\\${xe}`:`${ee}${xe}`||"."},normalize(P){T(P,"path");const ee=P.length;if(ee===0)return".";let xe=0,Fe,Ue=!1;const qe=P.charCodeAt(0);if(ee===1)return A(qe)?"\\":P;if(w(qe))if(Ue=!0,w(P.charCodeAt(1))){let We=2,bt=We;for(;We<ee&&!w(P.charCodeAt(We));)We++;if(We<ee&&We!==bt){const tt=P.slice(bt,We);for(bt=We;We<ee&&w(P.charCodeAt(We));)We++;if(We<ee&&We!==bt){for(bt=We;We<ee&&!w(P.charCodeAt(We));)We++;if(We===ee)return`\\\\${tt}\\${P.slice(bt)}\\`;We!==bt&&(Fe=`\\\\${tt}\\${P.slice(bt,We)}`,xe=We)}}}else xe=1;else M(qe)&&P.charCodeAt(1)===x&&(Fe=P.slice(0,2),xe=2,ee>2&&w(P.charCodeAt(2))&&(Ue=!0,xe=3));let Ge=xe<ee?C(P.slice(xe),!Ue,"\\",w):"";return Ge.length===0&&!Ue&&(Ge="."),Ge.length>0&&w(P.charCodeAt(ee-1))&&(Ge+="\\"),Fe===void 0?Ue?`\\${Ge}`:Ge:Ue?`${Fe}\\${Ge}`:`${Fe}${Ge}`},isAbsolute(P){T(P,"path");const ee=P.length;if(ee===0)return!1;const xe=P.charCodeAt(0);return w(xe)||ee>2&&M(xe)&&P.charCodeAt(1)===x&&w(P.charCodeAt(2))},join(...P){if(P.length===0)return".";let ee,xe;for(let qe=0;qe<P.length;++qe){const Ge=P[qe];T(Ge,"path"),Ge.length>0&&(ee===void 0?ee=xe=Ge:ee+=`\\${Ge}`)}if(ee===void 0)return".";let Fe=!0,Ue=0;if(typeof xe=="string"&&w(xe.charCodeAt(0))){++Ue;const qe=xe.length;qe>1&&w(xe.charCodeAt(1))&&(++Ue,qe>2&&(w(xe.charCodeAt(2))?++Ue:Fe=!1))}if(Fe){for(;Ue<ee.length&&w(ee.charCodeAt(Ue));)Ue++;Ue>=2&&(ee=`\\${ee.slice(Ue)}`)}return j.normalize(ee)},relative(P,ee){if(T(P,"from"),T(ee,"to"),P===ee)return"";const xe=j.resolve(P),Fe=j.resolve(ee);if(xe===Fe||(P=xe.toLowerCase(),ee=Fe.toLowerCase(),P===ee))return"";let Ue=0;for(;Ue<P.length&&P.charCodeAt(Ue)===k;)Ue++;let qe=P.length;for(;qe-1>Ue&&P.charCodeAt(qe-1)===k;)qe--;const Ge=qe-Ue;let We=0;for(;We<ee.length&&ee.charCodeAt(We)===k;)We++;let bt=ee.length;for(;bt-1>We&&ee.charCodeAt(bt-1)===k;)bt--;const tt=bt-We,ot=Ge<tt?Ge:tt;let lt=-1,Dt=0;for(;Dt<ot;Dt++){const le=P.charCodeAt(Ue+Dt);if(le!==ee.charCodeAt(We+Dt))break;le===k&&(lt=Dt)}if(Dt!==ot){if(lt===-1)return Fe}else{if(tt>ot){if(ee.charCodeAt(We+Dt)===k)return Fe.slice(We+Dt+1);if(Dt===2)return Fe.slice(We+Dt)}Ge>ot&&(P.charCodeAt(Ue+Dt)===k?lt=Dt:Dt===2&&(lt=3)),lt===-1&&(lt=0)}let nn="";for(Dt=Ue+lt+1;Dt<=qe;++Dt)(Dt===qe||P.charCodeAt(Dt)===k)&&(nn+=nn.length===0?"..":"\\..");return We+=lt,nn.length>0?`${nn}${Fe.slice(We,bt)}`:(Fe.charCodeAt(We)===k&&++We,Fe.slice(We,bt))},toNamespacedPath(P){if(typeof P!="string"||P.length===0)return P;const ee=j.resolve(P);if(ee.length<=2)return P;if(ee.charCodeAt(0)===k){if(ee.charCodeAt(1)===k){const xe=ee.charCodeAt(2);if(xe!==g&&xe!==Z)return`\\\\?\\UNC\\${ee.slice(2)}`}}else if(M(ee.charCodeAt(0))&&ee.charCodeAt(1)===x&&ee.charCodeAt(2)===k)return`\\\\?\\${ee}`;return P},dirname(P){T(P,"path");const ee=P.length;if(ee===0)return".";let xe=-1,Fe=0;const Ue=P.charCodeAt(0);if(ee===1)return w(Ue)?P:".";if(w(Ue)){if(xe=Fe=1,w(P.charCodeAt(1))){let We=2,bt=We;for(;We<ee&&!w(P.charCodeAt(We));)We++;if(We<ee&&We!==bt){for(bt=We;We<ee&&w(P.charCodeAt(We));)We++;if(We<ee&&We!==bt){for(bt=We;We<ee&&!w(P.charCodeAt(We));)We++;if(We===ee)return P;We!==bt&&(xe=Fe=We+1)}}}}else M(Ue)&&P.charCodeAt(1)===x&&(xe=ee>2&&w(P.charCodeAt(2))?3:2,Fe=xe);let qe=-1,Ge=!0;for(let We=ee-1;We>=Fe;--We)if(w(P.charCodeAt(We))){if(!Ge){qe=We;break}}else Ge=!1;if(qe===-1){if(xe===-1)return".";qe=xe}return P.slice(0,qe)},basename(P,ee){ee!==void 0&&T(ee,"suffix"),T(P,"path");let xe=0,Fe=-1,Ue=!0,qe;if(P.length>=2&&M(P.charCodeAt(0))&&P.charCodeAt(1)===x&&(xe=2),ee!==void 0&&ee.length>0&&ee.length<=P.length){if(ee===P)return"";let Ge=ee.length-1,We=-1;for(qe=P.length-1;qe>=xe;--qe){const bt=P.charCodeAt(qe);if(w(bt)){if(!Ue){xe=qe+1;break}}else We===-1&&(Ue=!1,We=qe+1),Ge>=0&&(bt===ee.charCodeAt(Ge)?--Ge===-1&&(Fe=qe):(Ge=-1,Fe=We))}return xe===Fe?Fe=We:Fe===-1&&(Fe=P.length),P.slice(xe,Fe)}for(qe=P.length-1;qe>=xe;--qe)if(w(P.charCodeAt(qe))){if(!Ue){xe=qe+1;break}}else Fe===-1&&(Ue=!1,Fe=qe+1);return Fe===-1?"":P.slice(xe,Fe)},extname(P){T(P,"path");let ee=0,xe=-1,Fe=0,Ue=-1,qe=!0,Ge=0;P.length>=2&&P.charCodeAt(1)===x&&M(P.charCodeAt(0))&&(ee=Fe=2);for(let We=P.length-1;We>=ee;--We){const bt=P.charCodeAt(We);if(w(bt)){if(!qe){Fe=We+1;break}continue}Ue===-1&&(qe=!1,Ue=We+1),bt===Z?xe===-1?xe=We:Ge!==1&&(Ge=1):xe!==-1&&(Ge=-1)}return xe===-1||Ue===-1||Ge===0||Ge===1&&xe===Ue-1&&xe===Fe+1?"":P.slice(xe,Ue)},format:W.bind(null,"\\"),parse(P){T(P,"path");const ee={root:"",dir:"",base:"",ext:"",name:""};if(P.length===0)return ee;const xe=P.length;let Fe=0,Ue=P.charCodeAt(0);if(xe===1)return w(Ue)?(ee.root=ee.dir=P,ee):(ee.base=ee.name=P,ee);if(w(Ue)){if(Fe=1,w(P.charCodeAt(1))){let lt=2,Dt=lt;for(;lt<xe&&!w(P.charCodeAt(lt));)lt++;if(lt<xe&&lt!==Dt){for(Dt=lt;lt<xe&&w(P.charCodeAt(lt));)lt++;if(lt<xe&&lt!==Dt){for(Dt=lt;lt<xe&&!w(P.charCodeAt(lt));)lt++;lt===xe?Fe=lt:lt!==Dt&&(Fe=lt+1)}}}}else if(M(Ue)&&P.charCodeAt(1)===x){if(xe<=2)return ee.root=ee.dir=P,ee;if(Fe=2,w(P.charCodeAt(2))){if(xe===3)return ee.root=ee.dir=P,ee;Fe=3}}Fe>0&&(ee.root=P.slice(0,Fe));let qe=-1,Ge=Fe,We=-1,bt=!0,tt=P.length-1,ot=0;for(;tt>=Fe;--tt){if(Ue=P.charCodeAt(tt),w(Ue)){if(!bt){Ge=tt+1;break}continue}We===-1&&(bt=!1,We=tt+1),Ue===Z?qe===-1?qe=tt:ot!==1&&(ot=1):qe!==-1&&(ot=-1)}return We!==-1&&(qe===-1||ot===0||ot===1&&qe===We-1&&qe===Ge+1?ee.base=ee.name=P.slice(Ge,We):(ee.name=P.slice(Ge,qe),ee.base=P.slice(Ge,We),ee.ext=P.slice(qe,We))),Ge>0&&Ge!==Fe?ee.dir=P.slice(0,Ge-1):ee.dir=ee.root,ee},sep:"\\",delimiter:";",win32:null,posix:null},Q=(()=>{if(S){const P=/\\/g;return()=>{const ee=I().replace(P,"/");return ee.slice(ee.indexOf("/"))}}return()=>I()})(),ge={resolve(...P){let ee="",xe=!1;for(let Fe=P.length-1;Fe>=-1&&!xe;Fe--){const Ue=Fe>=0?P[Fe]:Q();T(Ue,`paths[${Fe}]`),Ue.length!==0&&(ee=`${Ue}/${ee}`,xe=Ue.charCodeAt(0)===y)}return ee=C(ee,!xe,"/",A),xe?`/${ee}`:ee.length>0?ee:"."},normalize(P){if(T(P,"path"),P.length===0)return".";const ee=P.charCodeAt(0)===y,xe=P.charCodeAt(P.length-1)===y;return P=C(P,!ee,"/",A),P.length===0?ee?"/":xe?"./":".":(xe&&(P+="/"),ee?`/${P}`:P)},isAbsolute(P){return T(P,"path"),P.length>0&&P.charCodeAt(0)===y},join(...P){if(P.length===0)return".";let ee;for(let xe=0;xe<P.length;++xe){const Fe=P[xe];T(Fe,"path"),Fe.length>0&&(ee===void 0?ee=Fe:ee+=`/${Fe}`)}return ee===void 0?".":ge.normalize(ee)},relative(P,ee){if(T(P,"from"),T(ee,"to"),P===ee||(P=ge.resolve(P),ee=ge.resolve(ee),P===ee))return"";const xe=1,Fe=P.length,Ue=Fe-xe,qe=1,Ge=ee.length-qe,We=Ue<Ge?Ue:Ge;let bt=-1,tt=0;for(;tt<We;tt++){const lt=P.charCodeAt(xe+tt);if(lt!==ee.charCodeAt(qe+tt))break;lt===y&&(bt=tt)}if(tt===We)if(Ge>We){if(ee.charCodeAt(qe+tt)===y)return ee.slice(qe+tt+1);if(tt===0)return ee.slice(qe+tt)}else Ue>We&&(P.charCodeAt(xe+tt)===y?bt=tt:tt===0&&(bt=0));let ot="";for(tt=xe+bt+1;tt<=Fe;++tt)(tt===Fe||P.charCodeAt(tt)===y)&&(ot+=ot.length===0?"..":"/..");return`${ot}${ee.slice(qe+bt)}`},toNamespacedPath(P){return P},dirname(P){if(T(P,"path"),P.length===0)return".";const ee=P.charCodeAt(0)===y;let xe=-1,Fe=!0;for(let Ue=P.length-1;Ue>=1;--Ue)if(P.charCodeAt(Ue)===y){if(!Fe){xe=Ue;break}}else Fe=!1;return xe===-1?ee?"/":".":ee&&xe===1?"//":P.slice(0,xe)},basename(P,ee){ee!==void 0&&T(ee,"ext"),T(P,"path");let xe=0,Fe=-1,Ue=!0,qe;if(ee!==void 0&&ee.length>0&&ee.length<=P.length){if(ee===P)return"";let Ge=ee.length-1,We=-1;for(qe=P.length-1;qe>=0;--qe){const bt=P.charCodeAt(qe);if(bt===y){if(!Ue){xe=qe+1;break}}else We===-1&&(Ue=!1,We=qe+1),Ge>=0&&(bt===ee.charCodeAt(Ge)?--Ge===-1&&(Fe=qe):(Ge=-1,Fe=We))}return xe===Fe?Fe=We:Fe===-1&&(Fe=P.length),P.slice(xe,Fe)}for(qe=P.length-1;qe>=0;--qe)if(P.charCodeAt(qe)===y){if(!Ue){xe=qe+1;break}}else Fe===-1&&(Ue=!1,Fe=qe+1);return Fe===-1?"":P.slice(xe,Fe)},extname(P){T(P,"path");let ee=-1,xe=0,Fe=-1,Ue=!0,qe=0;for(let Ge=P.length-1;Ge>=0;--Ge){const We=P.charCodeAt(Ge);if(We===y){if(!Ue){xe=Ge+1;break}continue}Fe===-1&&(Ue=!1,Fe=Ge+1),We===Z?ee===-1?ee=Ge:qe!==1&&(qe=1):ee!==-1&&(qe=-1)}return ee===-1||Fe===-1||qe===0||qe===1&&ee===Fe-1&&ee===xe+1?"":P.slice(ee,Fe)},format:W.bind(null,"/"),parse(P){T(P,"path");const ee={root:"",dir:"",base:"",ext:"",name:""};if(P.length===0)return ee;const xe=P.charCodeAt(0)===y;let Fe;xe?(ee.root="/",Fe=1):Fe=0;let Ue=-1,qe=0,Ge=-1,We=!0,bt=P.length-1,tt=0;for(;bt>=Fe;--bt){const ot=P.charCodeAt(bt);if(ot===y){if(!We){qe=bt+1;break}continue}Ge===-1&&(We=!1,Ge=bt+1),ot===Z?Ue===-1?Ue=bt:tt!==1&&(tt=1):Ue!==-1&&(tt=-1)}if(Ge!==-1){const ot=qe===0&&xe?1:qe;Ue===-1||tt===0||tt===1&&Ue===Ge-1&&Ue===qe+1?ee.base=ee.name=P.slice(ot,Ge):(ee.name=P.slice(ot,Ue),ee.base=P.slice(ot,Ge),ee.ext=P.slice(Ue,Ge))}return qe>0?ee.dir=P.slice(0,qe-1):xe&&(ee.dir="/"),ee},sep:"/",delimiter:":",win32:null,posix:null};ge.win32=j.win32=j,ge.posix=j.posix=ge;const ne=S?j.normalize:ge.normalize,X=S?j.join:ge.join,G=S?j.resolve:ge.resolve,ie=S?j.relative:ge.relative,se=S?j.dirname:ge.dirname,Me=S?j.basename:ge.basename,He=S?j.extname:ge.extname,Te=S?j.sep:ge.sep},264:function(vt,Se,N){"use strict";var We,bt,tt;N.d(Se,{$L:function(){return Q},ED:function(){return C},G6:function(){return Ue},IJ:function(){return W},OS:function(){return Te},dz:function(){return V},fn:function(){return He},i7:function(){return xe},qB:function(){return ne},r:function(){return ee},tY:function(){return j},un:function(){return qe},vU:function(){return Fe}});var O=N(4329),K=N(4224);const o="en";let U=!1,I=!1,z=!1,b=!1,_=!1,B=!1,ae=!1,J=!1,Z=!1,y=!1,k,x=null,g=null,ue=null,fe;const T=globalThis;let S;typeof T.vscode!="undefined"&&typeof T.vscode.process!="undefined"?S=T.vscode.process:typeof K!="undefined"&&typeof((We=K==null?void 0:K.versions)==null?void 0:We.node)=="string"&&(S=K);const w=typeof((bt=S==null?void 0:S.versions)==null?void 0:bt.electron)=="string",A=w&&(S==null?void 0:S.type)==="renderer";if(typeof S=="object"){U=S.platform==="win32",I=S.platform==="darwin",z=S.platform==="linux",b=z&&!!S.env.SNAP&&!!S.env.SNAP_REVISION,ae=w,Z=!!S.env.CI||!!S.env.BUILD_ARTIFACTSTAGINGDIRECTORY,k=o,x=o;const ot=S.env.VSCODE_NLS_CONFIG;if(ot)try{const lt=JSON.parse(ot);k=lt.userLocale,g=lt.osLocale,x=lt.resolvedLanguage||o,ue=(tt=lt.languagePack)==null?void 0:tt.translationsConfigFile}catch(lt){}_=!0}else typeof navigator=="object"&&!A?(fe=navigator.userAgent,U=fe.indexOf("Windows")>=0,I=fe.indexOf("Macintosh")>=0,J=(fe.indexOf("Macintosh")>=0||fe.indexOf("iPad")>=0||fe.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,z=fe.indexOf("Linux")>=0,y=(fe==null?void 0:fe.indexOf("Mobi"))>=0,B=!0,x=O.fq()||o,k=navigator.language.toLowerCase(),g=k):console.error("Unable to resolve platform.");let M=0;I?M=1:U?M=3:z&&(M=2);const C=U,V=I,W=z,j=_,Q=B,ne=B&&typeof T.importScripts=="function"?T.origin:void 0,X=null,G=null,ie=fe,se=null,Me=typeof T.postMessage=="function"&&!T.importScripts,He=(()=>{if(Me){const ot=[];T.addEventListener("message",Dt=>{if(Dt.data&&Dt.data.vscodeScheduleAsyncWork)for(let nn=0,le=ot.length;nn<le;nn++){const D=ot[nn];if(D.id===Dt.data.vscodeScheduleAsyncWork){ot.splice(nn,1),D.callback();return}}});let lt=0;return Dt=>{const nn=++lt;ot.push({id:nn,callback:Dt}),T.postMessage({vscodeScheduleAsyncWork:nn},"*")}}return ot=>setTimeout(ot)})(),Te=I||J?2:U?1:3;let ve=!0,P=!1;function ee(){if(!P){P=!0;const ot=new Uint8Array(2);ot[0]=1,ot[1]=2,ve=new Uint16Array(ot.buffer)[0]===513}return ve}const xe=!!(ie&&ie.indexOf("Chrome")>=0),Fe=!!(ie&&ie.indexOf("Firefox")>=0),Ue=!!(!xe&&ie&&ie.indexOf("Safari")>=0),qe=!!(ie&&ie.indexOf("Edg/")>=0),Ge=!!(ie&&ie.indexOf("Android")>=0)},8464:function(vt,Se,N){"use strict";N.d(Se,{EZ:function(){return g},Vb:function(){return Q}});var O=N(7661),K=N(5173),o=N(9701),U=N(264),I=N(9632),z=N(9423);function b(ge){return(0,z.q)(ge,!0)}class _{constructor(ne){this._ignorePathCasing=ne}compare(ne,X,G=!1){return ne===X?0:(0,I.qu)(this.getComparisonKey(ne,G),this.getComparisonKey(X,G))}isEqual(ne,X,G=!1){return ne===X?!0:!ne||!X?!1:this.getComparisonKey(ne,G)===this.getComparisonKey(X,G)}getComparisonKey(ne,X=!1){return ne.with({path:this._ignorePathCasing(ne)?ne.path.toLowerCase():void 0,fragment:X?null:void 0}).toString()}isEqualOrParent(ne,X,G=!1){if(ne.scheme===X.scheme){if(ne.scheme===K.lg.file)return O.KM(b(ne),b(X),this._ignorePathCasing(ne))&&ne.query===X.query&&(G||ne.fragment===X.fragment);if(C(ne.authority,X.authority))return O.KM(ne.path,X.path,this._ignorePathCasing(ne),"/")&&ne.query===X.query&&(G||ne.fragment===X.fragment)}return!1}joinPath(ne,...X){return z.o.joinPath(ne,...X)}basenameOrAuthority(ne){return g(ne)||ne.authority}basename(ne){return o.KR.basename(ne.path)}extname(ne){return o.KR.extname(ne.path)}dirname(ne){if(ne.path.length===0)return ne;let X;return ne.scheme===K.lg.file?X=z.o.file(o.XX(b(ne))).path:(X=o.KR.dirname(ne.path),ne.authority&&X.length&&X.charCodeAt(0)!==47&&(console.error(`dirname("${ne.toString})) resulted in a relative path`),X="/")),ne.with({path:X})}normalizePath(ne){if(!ne.path.length)return ne;let X;return ne.scheme===K.lg.file?X=z.o.file(o.Fv(b(ne))).path:X=o.KR.normalize(ne.path),ne.with({path:X})}relativePath(ne,X){if(ne.scheme!==X.scheme||!C(ne.authority,X.authority))return;if(ne.scheme===K.lg.file){const se=o.Gf(b(ne),b(X));return U.ED?O.ej(se):se}let G=ne.path||"/";const ie=X.path||"/";if(this._ignorePathCasing(ne)){let se=0;for(const Me=Math.min(G.length,ie.length);se<Me&&!(G.charCodeAt(se)!==ie.charCodeAt(se)&&G.charAt(se).toLowerCase()!==ie.charAt(se).toLowerCase());se++);G=ie.substr(0,se)+G.substr(se)}return o.KR.relative(G,ie)}resolvePath(ne,X){if(ne.scheme===K.lg.file){const G=z.o.file(o.DB(b(ne),X));return ne.with({authority:G.authority,path:G.path})}return X=O.fn(X),ne.with({path:o.KR.resolve(ne.path,X)})}isAbsolutePath(ne){return!!ne.path&&ne.path[0]==="/"}isEqualAuthority(ne,X){return ne===X||ne!==void 0&&X!==void 0&&(0,I.qq)(ne,X)}hasTrailingPathSeparator(ne,X=o.ir){if(ne.scheme===K.lg.file){const G=b(ne);return G.length>O.yj(G).length&&G[G.length-1]===X}else{const G=ne.path;return G.length>1&&G.charCodeAt(G.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(ne.fsPath)}}removeTrailingPathSeparator(ne,X=o.ir){return V(ne,X)?ne.with({path:ne.path.substr(0,ne.path.length-1)}):ne}addTrailingPathSeparator(ne,X=o.ir){let G=!1;if(ne.scheme===K.lg.file){const ie=b(ne);G=ie!==void 0&&ie.length===O.yj(ie).length&&ie[ie.length-1]===X}else{X="/";const ie=ne.path;G=ie.length===1&&ie.charCodeAt(ie.length-1)===47}return!G&&!V(ne,X)?ne.with({path:ne.path+"/"}):ne}}const B=new _(()=>!1),ae=new _(ge=>ge.scheme===K.lg.file?!U.IJ:!0),J=new _(ge=>!0),Z=B.isEqual.bind(B),y=B.isEqualOrParent.bind(B),k=B.getComparisonKey.bind(B),x=B.basenameOrAuthority.bind(B),g=B.basename.bind(B),ue=B.extname.bind(B),fe=B.dirname.bind(B),T=B.joinPath.bind(B),S=B.normalizePath.bind(B),w=B.relativePath.bind(B),A=B.resolvePath.bind(B),M=B.isAbsolutePath.bind(B),C=B.isEqualAuthority.bind(B),V=B.hasTrailingPathSeparator.bind(B),W=B.removeTrailingPathSeparator.bind(B),j=B.addTrailingPathSeparator.bind(B);var Q;(function(ge){ge.META_DATA_LABEL="label",ge.META_DATA_DESCRIPTION="description",ge.META_DATA_SIZE="size",ge.META_DATA_MIME="mime";function ne(X){const G=new Map;X.path.substring(X.path.indexOf(";")+1,X.path.lastIndexOf(";")).split(";").forEach(Me=>{const[He,Te]=Me.split(":");He&&Te&&G.set(He,Te)});const se=X.path.substring(0,X.path.indexOf(";"));return se&&G.set(ge.META_DATA_MIME,se),G}ge.parseMetaData=ne})(Q||(Q={}))},1984:function(vt,Se,N){"use strict";N.d(Se,{G:function(){return K}});const O=globalThis.performance&&typeof globalThis.performance.now=="function";class K{static create(U){return new K(U)}constructor(U){this._now=O&&U===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}},9632:function(vt,Se,N){"use strict";N.d(Se,{$i:function(){return We},C8:function(){return lt},GF:function(){return k},IO:function(){return x},K7:function(){return ot},LC:function(){return fe},PJ:function(){return D},Qe:function(){return bt},Ut:function(){return qe},W1:function(){return ve},YK:function(){return ie},ZG:function(){return G},ZH:function(){return Me},ZK:function(){return _t},ab:function(){return tt},c1:function(){return Dt},df:function(){return j},ec:function(){return _},fA:function(){return z},j3:function(){return ae},m5:function(){return o},ok:function(){return ge},ow:function(){return S},qq:function(){return Q},qu:function(){return w},rL:function(){return se},uS:function(){return nn},uq:function(){return g},vU:function(){return Ct}});var O=N(44),K=N(7953);function o(m){return!m||typeof m!="string"?!0:m.trim().length===0}const U=/{(\d+)}/g;function I(m,...H){return H.length===0?m:m.replace(U,function(Be,n){const ut=parseInt(n,10);return isNaN(ut)||ut<0||ut>=H.length?Be:H[ut]})}function z(m){return m.replace(/[<>"'&]/g,H=>{switch(H){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return H})}function b(m){return m.replace(/[<>&]/g,function(H){switch(H){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return H}})}function _(m){return m.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function B(m,H=" "){const Be=ae(m,H);return J(Be,H)}function ae(m,H){if(!m||!H)return m;const Be=H.length;if(Be===0||m.length===0)return m;let n=0;for(;m.indexOf(H,n)===n;)n=n+Be;return m.substring(n)}function J(m,H){if(!m||!H)return m;const Be=H.length,n=m.length;if(Be===0||n===0)return m;let ut=n,kt=-1;for(;kt=m.lastIndexOf(H,ut-1),!(kt===-1||kt+Be!==ut);){if(kt===0)return"";ut=kt}return m.substring(0,ut)}function Z(m){return m.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function y(m){return m.replace(/\*/g,"")}function k(m,H,Be={}){if(!m)throw new Error("Cannot create regex from empty string");H||(m=_(m)),Be.wholeWord&&(/\B/.test(m.charAt(0))||(m="\\b"+m),/\B/.test(m.charAt(m.length-1))||(m=m+"\\b"));let n="";return Be.global&&(n+="g"),Be.matchCase||(n+="i"),Be.multiline&&(n+="m"),Be.unicode&&(n+="u"),new RegExp(m,n)}function x(m){return m.source==="^"||m.source==="^$"||m.source==="$"||m.source==="^\\s*$"?!1:!!(m.exec("")&&m.lastIndex===0)}function g(m){return m.split(/\r\n|\r|\n/)}function ue(m){var n;const H=[],Be=m.split(/(\r\n|\r|\n)/);for(let ut=0;ut<Math.ceil(Be.length/2);ut++)H.push(Be[2*ut]+((n=Be[2*ut+1])!=null?n:""));return H}function fe(m){for(let H=0,Be=m.length;H<Be;H++){const n=m.charCodeAt(H);if(n!==32&&n!==9)return H}return-1}function T(m,H=0,Be=m.length){for(let n=H;n<Be;n++){const ut=m.charCodeAt(n);if(ut!==32&&ut!==9)return m.substring(H,n)}return m.substring(H,Be)}function S(m,H=m.length-1){for(let Be=H;Be>=0;Be--){const n=m.charCodeAt(Be);if(n!==32&&n!==9)return Be}return-1}function w(m,H){return m<H?-1:m>H?1:0}function A(m,H,Be=0,n=m.length,ut=0,kt=H.length){for(;Be<n&&ut<kt;Be++,ut++){const cn=m.charCodeAt(Be),un=H.charCodeAt(ut);if(cn<un)return-1;if(cn>un)return 1}const jt=n-Be,Yt=kt-ut;return jt<Yt?-1:jt>Yt?1:0}function M(m,H){return C(m,H,0,m.length,0,H.length)}function C(m,H,Be=0,n=m.length,ut=0,kt=H.length){for(;Be<n&&ut<kt;Be++,ut++){let cn=m.charCodeAt(Be),un=H.charCodeAt(ut);if(cn===un)continue;if(cn>=128||un>=128)return A(m.toLowerCase(),H.toLowerCase(),Be,n,ut,kt);W(cn)&&(cn-=32),W(un)&&(un-=32);const Zt=cn-un;if(Zt!==0)return Zt}const jt=n-Be,Yt=kt-ut;return jt<Yt?-1:jt>Yt?1:0}function V(m){return m>=48&&m<=57}function W(m){return m>=97&&m<=122}function j(m){return m>=65&&m<=90}function Q(m,H){return m.length===H.length&&C(m,H)===0}function ge(m,H){const Be=H.length;return H.length>m.length?!1:C(m,H,0,Be)===0}function ne(m,H){const Be=Math.min(m.length,H.length);let n;for(n=0;n<Be;n++)if(m.charCodeAt(n)!==H.charCodeAt(n))return n;return Be}function X(m,H){const Be=Math.min(m.length,H.length);let n;const ut=m.length-1,kt=H.length-1;for(n=0;n<Be;n++)if(m.charCodeAt(ut-n)!==H.charCodeAt(kt-n))return n;return Be}function G(m){return 55296<=m&&m<=56319}function ie(m){return 56320<=m&&m<=57343}function se(m,H){return(m-55296<<10)+(H-56320)+65536}function Me(m,H,Be){const n=m.charCodeAt(Be);if(G(n)&&Be+1<H){const ut=m.charCodeAt(Be+1);if(ie(ut))return se(n,ut)}return n}function He(m,H){const Be=m.charCodeAt(H-1);if(ie(Be)&&H>1){const n=m.charCodeAt(H-2);if(G(n))return se(n,Be)}return Be}class Te{get offset(){return this._offset}constructor(H,Be=0){this._str=H,this._len=H.length,this._offset=Be}setOffset(H){this._offset=H}prevCodePoint(){const H=He(this._str,this._offset);return this._offset-=H>=65536?2:1,H}nextCodePoint(){const H=Me(this._str,this._len,this._offset);return this._offset+=H>=65536?2:1,H}eol(){return this._offset>=this._len}}class ve{get offset(){return this._iterator.offset}constructor(H,Be=0){this._iterator=new Te(H,Be)}nextGraphemeLength(){const H=ke.getInstance(),Be=this._iterator,n=Be.offset;let ut=H.getGraphemeBreakType(Be.nextCodePoint());for(;!Be.eol();){const kt=Be.offset,jt=H.getGraphemeBreakType(Be.nextCodePoint());if(F(ut,jt)){Be.setOffset(kt);break}ut=jt}return Be.offset-n}prevGraphemeLength(){const H=ke.getInstance(),Be=this._iterator,n=Be.offset;let ut=H.getGraphemeBreakType(Be.prevCodePoint());for(;Be.offset>0;){const kt=Be.offset,jt=H.getGraphemeBreakType(Be.prevCodePoint());if(F(jt,ut)){Be.setOffset(kt);break}ut=jt}return n-Be.offset}eol(){return this._iterator.eol()}}function P(m,H){return new ve(m,H).nextGraphemeLength()}function ee(m,H){return new ve(m,H).prevGraphemeLength()}function xe(m,H){H>0&&ie(m.charCodeAt(H))&&H--;const Be=H+P(m,H);return[Be-ee(m,Be),Be]}let Fe;function Ue(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function qe(m){return Fe||(Fe=Ue()),Fe.test(m)}const Ge=/^[\t\n\r\x20-\x7E]*$/;function We(m){return Ge.test(m)}const bt=/[\u2028\u2029]/;function tt(m){return bt.test(m)}function ot(m){return m>=11904&&m<=55215||m>=63744&&m<=64255||m>=65281&&m<=65374}function lt(m){return m>=127462&&m<=127487||m===8986||m===8987||m===9200||m===9203||m>=9728&&m<=10175||m===11088||m===11093||m>=127744&&m<=128591||m>=128640&&m<=128764||m>=128992&&m<=129008||m>=129280&&m<=129535||m>=129648&&m<=129782}const Dt="\uFEFF";function nn(m){return!!(m&&m.length>0&&m.charCodeAt(0)===65279)}function le(m,H=!1){return m?(H&&(m=m.replace(/\\./g,"")),m.toLowerCase()!==m):!1}function D(m){return m=m%52,m<26?String.fromCharCode(97+m):String.fromCharCode(65+m-26)}function F(m,H){return m===0?H!==5&&H!==7:m===2&&H===3?!1:m===4||m===2||m===3||H===4||H===2||H===3?!0:!(m===8&&(H===8||H===9||H===11||H===12)||(m===11||m===9)&&(H===9||H===10)||(m===12||m===10)&&H===10||H===5||H===13||H===7||m===1||m===13&&H===14||m===6&&H===6)}const Lt=class Lt{static getInstance(){return Lt._INSTANCE||(Lt._INSTANCE=new Lt),Lt._INSTANCE}constructor(){this._data=je()}getGraphemeBreakType(H){if(H<32)return H===10?3:H===13?2:4;if(H<127)return 0;const Be=this._data,n=Be.length/3;let ut=1;for(;ut<=n;)if(H<Be[3*ut])ut=2*ut;else if(H>Be[3*ut+1])ut=2*ut+1;else return Be[3*ut+2];return 0}};Lt._INSTANCE=null;let ke=Lt;function je(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Ye(m,H){if(m===0)return 0;const Be=ht(m,H);if(Be!==void 0)return Be;const n=new Te(H,m);return n.prevCodePoint(),n.offset}function ht(m,H){const Be=new Te(H,m);let n=Be.prevCodePoint();for(;mt(n)||n===65039||n===8419;){if(Be.offset===0)return;n=Be.prevCodePoint()}if(!lt(n))return;let ut=Be.offset;return ut>0&&Be.prevCodePoint()===8205&&(ut=Be.offset),ut}function mt(m){return 127995<=m&&m<=127999}const st="\xA0",Rt=class Rt{static getInstance(H){return Rt.cache.get(Array.from(H))}static getLocales(){return Rt._locales.value}constructor(H){this.confusableDictionary=H}isAmbiguous(H){return this.confusableDictionary.has(H)}getPrimaryConfusable(H){return this.confusableDictionary.get(H)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}};Rt.ambiguousCharacterData=new K.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),Rt.cache=new O.t2({getCacheKey:JSON.stringify},H=>{function Be(Zt){const Ht=new Map;for(let hn=0;hn<Zt.length;hn+=2)Ht.set(Zt[hn],Zt[hn+1]);return Ht}function n(Zt,Ht){const hn=new Map(Zt);for(const[Wn,Tn]of Ht)hn.set(Wn,Tn);return hn}function ut(Zt,Ht){if(!Zt)return Ht;const hn=new Map;for(const[Wn,Tn]of Zt)Ht.has(Wn)&&hn.set(Wn,Tn);return hn}const kt=Rt.ambiguousCharacterData.value;let jt=H.filter(Zt=>!Zt.startsWith("_")&&Zt in kt);jt.length===0&&(jt=["_default"]);let Yt;for(const Zt of jt){const Ht=Be(kt[Zt]);Yt=ut(Yt,Ht)}const cn=Be(kt._common),un=n(cn,Yt);return new Rt(un)}),Rt._locales=new K.o(()=>Object.keys(Rt.ambiguousCharacterData.value).filter(H=>!H.startsWith("_")));let _t=Rt;const pt=class pt{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(pt.getRawData())),this._data}static isInvisibleCharacter(H){return pt.getData().has(H)}static get codePoints(){return pt.getData()}};pt._data=void 0;let Ct=pt},8200:function(vt,Se,N){"use strict";N.d(Se,{HD:function(){return O},Jp:function(){return B},Kn:function(){return K},o8:function(){return b}});function O(x){return typeof x=="string"}function K(x){return typeof x=="object"&&x!==null&&!Array.isArray(x)&&!(x instanceof RegExp)&&!(x instanceof Date)}function o(x){const g=Object.getPrototypeOf(Uint8Array);return typeof x=="object"&&x instanceof g}function U(x){return typeof x=="number"&&!isNaN(x)}function I(x){return!!x&&typeof x[Symbol.iterator]=="function"}function z(x){return x===!0||x===!1}function b(x){return typeof x=="undefined"}function _(x){return!B(x)}function B(x){return b(x)||x===null}function ae(x,g){if(!x)throw new Error(g?`Unexpected type, expected '${g}'`:"Unexpected type")}function J(x){if(B(x))throw new Error("Assertion Failed: argument is undefined or null");return x}function Z(x){return typeof x=="function"}function y(x,g){const ue=Math.min(x.length,g.length);for(let fe=0;fe<ue;fe++)k(x[fe],g[fe])}function k(x,g){if(O(g)){if(typeof x!==g)throw new Error(`argument does not match constraint: typeof ${g}`)}else if(Z(g)){try{if(x instanceof g)return}catch(ue){}if(!B(x)&&x.constructor===g||g.length===1&&g.call(void 0,x)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}},8334:function(vt,Se,N){"use strict";N.d(Se,{A:function(){return K},K:function(){return O}});function O(o){return o<0?0:o>255?255:o|0}function K(o){return o<0?0:o>4294967295?4294967295:o|0}},9423:function(vt,Se,N){"use strict";N.d(Se,{o:function(){return Z},q:function(){return fe}});var O=N(9701),K=N(264);const o=/^\w[\w\d+.-]*$/,U=/^\//,I=/^\/\//;function z(M,C){if(!M.scheme&&C)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${M.authority}", path: "${M.path}", query: "${M.query}", fragment: "${M.fragment}"}`);if(M.scheme&&!o.test(M.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(M.path){if(M.authority){if(!U.test(M.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(I.test(M.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function b(M,C){return!M&&!C?"file":M}function _(M,C){switch(M){case"https":case"http":case"file":C?C[0]!==ae&&(C=ae+C):C=ae;break}return C}const B="",ae="/",J=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Z{static isUri(C){return C instanceof Z?!0:C?typeof C.authority=="string"&&typeof C.fragment=="string"&&typeof C.path=="string"&&typeof C.query=="string"&&typeof C.scheme=="string"&&typeof C.fsPath=="string"&&typeof C.with=="function"&&typeof C.toString=="function":!1}constructor(C,V,W,j,Q,ge=!1){typeof C=="object"?(this.scheme=C.scheme||B,this.authority=C.authority||B,this.path=C.path||B,this.query=C.query||B,this.fragment=C.fragment||B):(this.scheme=b(C,ge),this.authority=V||B,this.path=_(this.scheme,W||B),this.query=j||B,this.fragment=Q||B,z(this,ge))}get fsPath(){return fe(this,!1)}with(C){if(!C)return this;let{scheme:V,authority:W,path:j,query:Q,fragment:ge}=C;return V===void 0?V=this.scheme:V===null&&(V=B),W===void 0?W=this.authority:W===null&&(W=B),j===void 0?j=this.path:j===null&&(j=B),Q===void 0?Q=this.query:Q===null&&(Q=B),ge===void 0?ge=this.fragment:ge===null&&(ge=B),V===this.scheme&&W===this.authority&&j===this.path&&Q===this.query&&ge===this.fragment?this:new k(V,W,j,Q,ge)}static parse(C,V=!1){const W=J.exec(C);return W?new k(W[2]||B,A(W[4]||B),A(W[5]||B),A(W[7]||B),A(W[9]||B),V):new k(B,B,B,B,B)}static file(C){let V=B;if(K.ED&&(C=C.replace(/\\/g,ae)),C[0]===ae&&C[1]===ae){const W=C.indexOf(ae,2);W===-1?(V=C.substring(2),C=ae):(V=C.substring(2,W),C=C.substring(W)||ae)}return new k("file",V,C,B,B)}static from(C,V){return new k(C.scheme,C.authority,C.path,C.query,C.fragment,V)}static joinPath(C,...V){if(!C.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let W;return K.ED&&C.scheme==="file"?W=Z.file(O.Ku.join(fe(C,!0),...V)).path:W=O.KR.join(C.path,...V),C.with({path:W})}toString(C=!1){return T(this,C)}toJSON(){return this}static revive(C){var V,W;if(C){if(C instanceof Z)return C;{const j=new k(C);return j._formatted=(V=C.external)!=null?V:null,j._fsPath=C._sep===y&&(W=C.fsPath)!=null?W:null,j}}else return C}}const y=K.ED?1:void 0;class k extends Z{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=fe(this,!1)),this._fsPath}toString(C=!1){return C?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)}toJSON(){const C={$mid:1};return this._fsPath&&(C.fsPath=this._fsPath,C._sep=y),this._formatted&&(C.external=this._formatted),this.path&&(C.path=this.path),this.scheme&&(C.scheme=this.scheme),this.authority&&(C.authority=this.authority),this.query&&(C.query=this.query),this.fragment&&(C.fragment=this.fragment),C}}const x={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function g(M,C,V){let W,j=-1;for(let Q=0;Q<M.length;Q++){const ge=M.charCodeAt(Q);if(ge>=97&&ge<=122||ge>=65&&ge<=90||ge>=48&&ge<=57||ge===45||ge===46||ge===95||ge===126||C&&ge===47||V&&ge===91||V&&ge===93||V&&ge===58)j!==-1&&(W+=encodeURIComponent(M.substring(j,Q)),j=-1),W!==void 0&&(W+=M.charAt(Q));else{W===void 0&&(W=M.substr(0,Q));const ne=x[ge];ne!==void 0?(j!==-1&&(W+=encodeURIComponent(M.substring(j,Q)),j=-1),W+=ne):j===-1&&(j=Q)}}return j!==-1&&(W+=encodeURIComponent(M.substring(j))),W!==void 0?W:M}function ue(M){let C;for(let V=0;V<M.length;V++){const W=M.charCodeAt(V);W===35||W===63?(C===void 0&&(C=M.substr(0,V)),C+=x[W]):C!==void 0&&(C+=M[V])}return C!==void 0?C:M}function fe(M,C){let V;return M.authority&&M.path.length>1&&M.scheme==="file"?V=`//${M.authority}${M.path}`:M.path.charCodeAt(0)===47&&(M.path.charCodeAt(1)>=65&&M.path.charCodeAt(1)<=90||M.path.charCodeAt(1)>=97&&M.path.charCodeAt(1)<=122)&&M.path.charCodeAt(2)===58?C?V=M.path.substr(1):V=M.path[1].toLowerCase()+M.path.substr(2):V=M.path,K.ED&&(V=V.replace(/\//g,"\\")),V}function T(M,C){const V=C?ue:g;let W="",{scheme:j,authority:Q,path:ge,query:ne,fragment:X}=M;if(j&&(W+=j,W+=":"),(Q||j==="file")&&(W+=ae,W+=ae),Q){let G=Q.indexOf("@");if(G!==-1){const ie=Q.substr(0,G);Q=Q.substr(G+1),G=ie.lastIndexOf(":"),G===-1?W+=V(ie,!1,!1):(W+=V(ie.substr(0,G),!1,!1),W+=":",W+=V(ie.substr(G+1),!1,!0)),W+="@"}Q=Q.toLowerCase(),G=Q.lastIndexOf(":"),G===-1?W+=V(Q,!1,!0):(W+=V(Q.substr(0,G),!1,!0),W+=Q.substr(G))}if(ge){if(ge.length>=3&&ge.charCodeAt(0)===47&&ge.charCodeAt(2)===58){const G=ge.charCodeAt(1);G>=65&&G<=90&&(ge=`/${String.fromCharCode(G+32)}:${ge.substr(3)}`)}else if(ge.length>=2&&ge.charCodeAt(1)===58){const G=ge.charCodeAt(0);G>=65&&G<=90&&(ge=`${String.fromCharCode(G+32)}:${ge.substr(2)}`)}W+=V(ge,!0,!1)}return ne&&(W+="?",W+=V(ne,!1,!1)),X&&(W+="#",W+=C?X:g(X,!1,!1)),W}function S(M){try{return decodeURIComponent(M)}catch(C){return M.length>3?M.substr(0,3)+S(M.substr(3)):M}}const w=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function A(M){return M.match(w)?M.replace(w,C=>S(C)):M}},223:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{SimpleWorkerClient:function(){return fe},SimpleWorkerServer:function(){return w},create:function(){return A},logOnceWebWorkerWarning:function(){return J}});var O=N(561),K=N(3130),o=N(338),U=N(5173),I=N(264),z=N(9632);const b=!0,_="default",B="$initialize";let ae=!1;function J(M){I.$L&&(ae||(ae=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(M.message))}class Z{constructor(C,V,W,j,Q){this.vsWorker=C,this.req=V,this.channel=W,this.method=j,this.args=Q,this.type=0}}class y{constructor(C,V,W,j){this.vsWorker=C,this.seq=V,this.res=W,this.err=j,this.type=1}}class k{constructor(C,V,W,j,Q){this.vsWorker=C,this.req=V,this.channel=W,this.eventName=j,this.arg=Q,this.type=2}}class x{constructor(C,V,W){this.vsWorker=C,this.req=V,this.event=W,this.type=3}}class g{constructor(C,V){this.vsWorker=C,this.req=V,this.type=4}}class ue{constructor(C){this._workerId=-1,this._handler=C,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(C){this._workerId=C}sendMessage(C,V,W){const j=String(++this._lastSentReq);return new Promise((Q,ge)=>{this._pendingReplies[j]={resolve:Q,reject:ge},this._send(new Z(this._workerId,j,C,V,W))})}listen(C,V,W){let j=null;const Q=new K.Q5({onWillAddFirstListener:()=>{j=String(++this._lastSentReq),this._pendingEmitters.set(j,Q),this._send(new k(this._workerId,j,C,V,W))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(j),this._send(new g(this._workerId,j)),j=null}});return Q.event}handleMessage(C){!C||!C.vsWorker||this._workerId!==-1&&C.vsWorker!==this._workerId||this._handleMessage(C)}createProxyToRemoteChannel(C,V){const W={get:(j,Q)=>(typeof Q=="string"&&!j[Q]&&(S(Q)?j[Q]=ge=>this.listen(C,Q,ge):T(Q)?j[Q]=this.listen(C,Q,void 0):Q.charCodeAt(0)===36&&(j[Q]=(...ge)=>sn(this,null,function*(){return yield V==null?void 0:V(),this.sendMessage(C,Q,ge)}))),j[Q])};return new Proxy(Object.create(null),W)}_handleMessage(C){switch(C.type){case 1:return this._handleReplyMessage(C);case 0:return this._handleRequestMessage(C);case 2:return this._handleSubscribeEventMessage(C);case 3:return this._handleEventMessage(C);case 4:return this._handleUnsubscribeEventMessage(C)}}_handleReplyMessage(C){if(!this._pendingReplies[C.seq]){console.warn("Got reply to unknown seq");return}const V=this._pendingReplies[C.seq];if(delete this._pendingReplies[C.seq],C.err){let W=C.err;C.err.$isError&&(W=new Error,W.name=C.err.name,W.message=C.err.message,W.stack=C.err.stack),V.reject(W);return}V.resolve(C.res)}_handleRequestMessage(C){const V=C.req;this._handler.handleMessage(C.channel,C.method,C.args).then(j=>{this._send(new y(this._workerId,V,j,void 0))},j=>{j.detail instanceof Error&&(j.detail=(0,O.ri)(j.detail)),this._send(new y(this._workerId,V,void 0,(0,O.ri)(j)))})}_handleSubscribeEventMessage(C){const V=C.req,W=this._handler.handleEvent(C.channel,C.eventName,C.arg)(j=>{this._send(new x(this._workerId,V,j))});this._pendingEvents.set(V,W)}_handleEventMessage(C){if(!this._pendingEmitters.has(C.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(C.req).fire(C.event)}_handleUnsubscribeEventMessage(C){if(!this._pendingEvents.has(C.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(C.req).dispose(),this._pendingEvents.delete(C.req)}_send(C){const V=[];if(C.type===0)for(let W=0;W<C.args.length;W++)C.args[W]instanceof ArrayBuffer&&V.push(C.args[W]);else C.type===1&&C.res instanceof ArrayBuffer&&V.push(C.res);this._handler.sendMessage(C,V)}}class fe extends o.JT{constructor(C,V){super(),this._localChannels=new Map,this._worker=this._register(C.create({amdModuleId:"vs/base/common/worker/simpleWorker",esmModuleLocation:V.esmModuleLocation,label:V.label},Q=>{this._protocol.handleMessage(Q)},Q=>{(0,O.dL)(Q)})),this._protocol=new ue({sendMessage:(Q,ge)=>{this._worker.postMessage(Q,ge)},handleMessage:(Q,ge,ne)=>this._handleMessage(Q,ge,ne),handleEvent:(Q,ge,ne)=>this._handleEvent(Q,ge,ne)}),this._protocol.setWorkerId(this._worker.getId());let W=null;const j=globalThis.require;typeof j!="undefined"&&typeof j.getConfig=="function"?W=j.getConfig():typeof globalThis.requirejs!="undefined"&&(W=globalThis.requirejs.s.contexts._.config),this._onModuleLoaded=this._protocol.sendMessage(_,B,[this._worker.getId(),JSON.parse(JSON.stringify(W)),V.amdModuleId]),this.proxy=this._protocol.createProxyToRemoteChannel(_,()=>sn(this,null,function*(){yield this._onModuleLoaded})),this._onModuleLoaded.catch(Q=>{this._onError("Worker failed to load "+V.amdModuleId,Q)})}_handleMessage(C,V,W){const j=this._localChannels.get(C);if(!j)return Promise.reject(new Error(`Missing channel ${C} on main thread`));if(typeof j[V]!="function")return Promise.reject(new Error(`Missing method ${V} on main thread channel ${C}`));try{return Promise.resolve(j[V].apply(j,W))}catch(Q){return Promise.reject(Q)}}_handleEvent(C,V,W){const j=this._localChannels.get(C);if(!j)throw new Error(`Missing channel ${C} on main thread`);if(S(V)){const Q=j[V].call(j,W);if(typeof Q!="function")throw new Error(`Missing dynamic event ${V} on main thread channel ${C}.`);return Q}if(T(V)){const Q=j[V];if(typeof Q!="function")throw new Error(`Missing event ${V} on main thread channel ${C}.`);return Q}throw new Error(`Malformed event name ${V}`)}setChannel(C,V){this._localChannels.set(C,V)}_onError(C,V){console.error(C),console.info(V)}}function T(M){return M[0]==="o"&&M[1]==="n"&&z.df(M.charCodeAt(2))}function S(M){return/^onDynamic/.test(M)&&z.df(M.charCodeAt(9))}class w{constructor(C,V){this._localChannels=new Map,this._remoteChannels=new Map,this._requestHandlerFactory=V,this._requestHandler=null,this._protocol=new ue({sendMessage:(W,j)=>{C(W,j)},handleMessage:(W,j,Q)=>this._handleMessage(W,j,Q),handleEvent:(W,j,Q)=>this._handleEvent(W,j,Q)})}onmessage(C){this._protocol.handleMessage(C)}_handleMessage(C,V,W){if(C===_&&V===B)return this.initialize(W[0],W[1],W[2]);const j=C===_?this._requestHandler:this._localChannels.get(C);if(!j)return Promise.reject(new Error(`Missing channel ${C} on worker thread`));if(typeof j[V]!="function")return Promise.reject(new Error(`Missing method ${V} on worker thread channel ${C}`));try{return Promise.resolve(j[V].apply(j,W))}catch(Q){return Promise.reject(Q)}}_handleEvent(C,V,W){const j=C===_?this._requestHandler:this._localChannels.get(C);if(!j)throw new Error(`Missing channel ${C} on worker thread`);if(S(V)){const Q=j[V].call(j,W);if(typeof Q!="function")throw new Error(`Missing dynamic event ${V} on request handler.`);return Q}if(T(V)){const Q=j[V];if(typeof Q!="function")throw new Error(`Missing event ${V} on request handler.`);return Q}throw new Error(`Malformed event name ${V}`)}getChannel(C){if(!this._remoteChannels.has(C)){const V=this._protocol.createProxyToRemoteChannel(C);this._remoteChannels.set(C,V)}return this._remoteChannels.get(C)}initialize(C,V,W){return sn(this,null,function*(){if(this._protocol.setWorkerId(C),this._requestHandlerFactory){this._requestHandler=this._requestHandlerFactory(this);return}if(V&&(typeof V.baseUrl!="undefined"&&delete V.baseUrl,typeof V.paths!="undefined"&&typeof V.paths.vs!="undefined"&&delete V.paths.vs,typeof V.trustedTypesPolicy!="undefined"&&delete V.trustedTypesPolicy,V.catchError=!0,globalThis.require.config(V)),b){const j=U.Gi.asBrowserUri(`${W}.js`).toString(!0);return N(4266)(`${j}`).then(Q=>{if(this._requestHandler=Q.create(this),!this._requestHandler)throw new Error("No RequestHandler!")})}return new Promise((j,Q)=>{const ge=globalThis.require;ge([W],ne=>{if(this._requestHandler=ne.create(this),!this._requestHandler){Q(new Error("No RequestHandler!"));return}j()},Q)})})}}function A(M){return new w(M,null)}},4266:function(vt,Se,N){var O={"./simpleWorker":223,"./simpleWorker.js":223};function K(o){return Promise.resolve().then(function(){if(!N.o(O,o)){var U=new Error("Cannot find module '"+o+"'");throw U.code="MODULE_NOT_FOUND",U}var I=O[o];return N(I)})}K.keys=function(){return Object.keys(O)},K.id=4266,vt.exports=K},5670:function(vt,Se,N){"use strict";N.d(Se,{N:function(){return K}});var O=N(8334);class K{constructor(I){const z=(0,O.K)(I);this._defaultValue=z,this._asciiMap=K._createAsciiMap(z),this._map=new Map}static _createAsciiMap(I){const z=new Uint8Array(256);return z.fill(I),z}set(I,z){const b=(0,O.K)(z);I>=0&&I<256?this._asciiMap[I]=b:this._map.set(I,b)}get(I){return I>=0&&I<256?this._asciiMap[I]:this._map.get(I)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class o{constructor(){this._actual=new K(0)}add(I){this._actual.set(I,1)}has(I){return this._actual.get(I)===1}clear(){return this._actual.clear()}}},3040:function(vt,Se,N){"use strict";N.d(Se,{CE:function(){return F},Re:function(){return Dt},UP:function(){return ke},Vs:function(){return D},eS:function(){return nn},lK:function(){return lt},m1:function(){return Ye},r0:function(){return je},ts:function(){return ht},zJ:function(){return le}});var O=N(4329),K=N(413),o=N(9347),U=N(2357);const I=(0,o.P6G)("editor.lineHighlightBackground",null,O.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),z=(0,o.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:o.lRK},O.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),b=(0,o.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},O.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),_=(0,o.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:o.xL1,hcLight:o.xL1},O.NC("rangeHighlightBorder","Background color of the border around highlighted ranges.")),B=(0,o.P6G)("editor.symbolHighlightBackground",{dark:o.MUv,light:o.MUv,hcDark:null,hcLight:null},O.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),ae=(0,o.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:o.xL1,hcLight:o.xL1},O.NC("symbolHighlightBorder","Background color of the border around highlighted symbols.")),J=(0,o.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:K.Il.black,hcDark:K.Il.white,hcLight:"#0F4A85"},O.NC("caret","Color of the editor cursor.")),Z=(0,o.P6G)("editorCursor.background",null,O.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),y=(0,o.P6G)("editorMultiCursor.primary.foreground",J,O.NC("editorMultiCursorPrimaryForeground","Color of the primary editor cursor when multiple cursors are present.")),k=(0,o.P6G)("editorMultiCursor.primary.background",Z,O.NC("editorMultiCursorPrimaryBackground","The background color of the primary editor cursor when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),x=(0,o.P6G)("editorMultiCursor.secondary.foreground",J,O.NC("editorMultiCursorSecondaryForeground","Color of secondary editor cursors when multiple cursors are present.")),g=(0,o.P6G)("editorMultiCursor.secondary.background",Z,O.NC("editorMultiCursorSecondaryBackground","The background color of secondary editor cursors when multiple cursors are present. Allows customizing the color of a character overlapped by a block cursor.")),ue=(0,o.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},O.NC("editorWhitespaces","Color of whitespace characters in the editor.")),fe=(0,o.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:K.Il.white,hcLight:"#292929"},O.NC("editorLineNumbers","Color of editor line numbers.")),T=(0,o.P6G)("editorIndentGuide.background",ue,O.NC("editorIndentGuides","Color of the editor indentation guides."),!1,O.NC("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),S=(0,o.P6G)("editorIndentGuide.activeBackground",ue,O.NC("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,O.NC("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),w=(0,o.P6G)("editorIndentGuide.background1",T,O.NC("editorIndentGuides1","Color of the editor indentation guides (1).")),A=(0,o.P6G)("editorIndentGuide.background2","#00000000",O.NC("editorIndentGuides2","Color of the editor indentation guides (2).")),M=(0,o.P6G)("editorIndentGuide.background3","#00000000",O.NC("editorIndentGuides3","Color of the editor indentation guides (3).")),C=(0,o.P6G)("editorIndentGuide.background4","#00000000",O.NC("editorIndentGuides4","Color of the editor indentation guides (4).")),V=(0,o.P6G)("editorIndentGuide.background5","#00000000",O.NC("editorIndentGuides5","Color of the editor indentation guides (5).")),W=(0,o.P6G)("editorIndentGuide.background6","#00000000",O.NC("editorIndentGuides6","Color of the editor indentation guides (6).")),j=(0,o.P6G)("editorIndentGuide.activeBackground1",S,O.NC("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),Q=(0,o.P6G)("editorIndentGuide.activeBackground2","#00000000",O.NC("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),ge=(0,o.P6G)("editorIndentGuide.activeBackground3","#00000000",O.NC("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),ne=(0,o.P6G)("editorIndentGuide.activeBackground4","#00000000",O.NC("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),X=(0,o.P6G)("editorIndentGuide.activeBackground5","#00000000",O.NC("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),G=(0,o.P6G)("editorIndentGuide.activeBackground6","#00000000",O.NC("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),ie=(0,o.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:o.xL1,hcLight:o.xL1},O.NC("editorActiveLineNumber","Color of editor active line number"),!1,O.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),se=(0,o.P6G)("editorLineNumber.activeForeground",ie,O.NC("editorActiveLineNumber","Color of editor active line number")),Me=(0,o.P6G)("editorLineNumber.dimmedForeground",null,O.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed.")),He=(0,o.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:K.Il.lightgrey,hcDark:K.Il.white,hcLight:"#292929"},O.NC("editorRuler","Color of the editor rulers.")),Te=(0,o.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},O.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),ve=(0,o.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},O.NC("editorBracketMatchBackground","Background color behind matching brackets")),P=(0,o.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:o.lRK,hcLight:o.lRK},O.NC("editorBracketMatchBorder","Color for matching brackets boxes")),ee=(0,o.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},O.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),xe=(0,o.P6G)("editorOverviewRuler.background",null,O.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),Fe=(0,o.P6G)("editorGutter.background",o.cvW,O.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),Ue=(0,o.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:K.Il.fromHex("#fff").transparent(.8),hcLight:o.lRK},O.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),qe=(0,o.P6G)("editorUnnecessaryCode.opacity",{dark:K.Il.fromHex("#000a"),light:K.Il.fromHex("#0007"),hcDark:null,hcLight:null},O.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),Ge=(0,o.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:K.Il.fromHex("#fff").transparent(.8),hcLight:K.Il.fromHex("#292929").transparent(.8)},O.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),We=(0,o.P6G)("editorGhostText.foreground",{dark:K.Il.fromHex("#ffffff56"),light:K.Il.fromHex("#0007"),hcDark:null,hcLight:null},O.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),bt=(0,o.P6G)("editorGhostText.background",null,O.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),tt=new K.Il(new K.VS(0,122,204,.6)),ot=(0,o.P6G)("editorOverviewRuler.rangeHighlightForeground",tt,O.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),lt=(0,o.P6G)("editorOverviewRuler.errorForeground",{dark:new K.Il(new K.VS(255,18,18,.7)),light:new K.Il(new K.VS(255,18,18,.7)),hcDark:new K.Il(new K.VS(255,50,50,1)),hcLight:"#B5200D"},O.NC("overviewRuleError","Overview ruler marker color for errors.")),Dt=(0,o.P6G)("editorOverviewRuler.warningForeground",{dark:o.uoC,light:o.uoC,hcDark:o.pW3,hcLight:o.pW3},O.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),nn=(0,o.P6G)("editorOverviewRuler.infoForeground",{dark:o.c63,light:o.c63,hcDark:o.T83,hcLight:o.T83},O.NC("overviewRuleInfo","Overview ruler marker color for infos.")),le=(0,o.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},O.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),D=(0,o.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},O.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),F=(0,o.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},O.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),ke=(0,o.P6G)("editorBracketHighlight.foreground4","#00000000",O.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),je=(0,o.P6G)("editorBracketHighlight.foreground5","#00000000",O.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),Ye=(0,o.P6G)("editorBracketHighlight.foreground6","#00000000",O.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ht=(0,o.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new K.Il(new K.VS(255,18,18,.8)),light:new K.Il(new K.VS(255,18,18,.8)),hcDark:"new Color(new RGBA(255, 50, 50, 1))",hcLight:"#B5200D"},O.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),mt=(0,o.P6G)("editorBracketPairGuide.background1","#00000000",O.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),st=(0,o.P6G)("editorBracketPairGuide.background2","#00000000",O.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),_t=(0,o.P6G)("editorBracketPairGuide.background3","#00000000",O.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Ct=(0,o.P6G)("editorBracketPairGuide.background4","#00000000",O.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),Lt=(0,o.P6G)("editorBracketPairGuide.background5","#00000000",O.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),Rt=(0,o.P6G)("editorBracketPairGuide.background6","#00000000",O.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),pt=(0,o.P6G)("editorBracketPairGuide.activeBackground1","#00000000",O.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),m=(0,o.P6G)("editorBracketPairGuide.activeBackground2","#00000000",O.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),H=(0,o.P6G)("editorBracketPairGuide.activeBackground3","#00000000",O.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Be=(0,o.P6G)("editorBracketPairGuide.activeBackground4","#00000000",O.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),n=(0,o.P6G)("editorBracketPairGuide.activeBackground5","#00000000",O.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),ut=(0,o.P6G)("editorBracketPairGuide.activeBackground6","#00000000",O.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),kt=(0,o.P6G)("editorUnicodeHighlight.border",o.uoC,O.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),jt=(0,o.P6G)("editorUnicodeHighlight.background",o.gpD,O.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,U.Ic)((Yt,cn)=>{const un=Yt.getColor(o.cvW),Zt=Yt.getColor(I),Ht=Zt&&!Zt.isTransparent()?Zt:un;Ht&&cn.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Ht}; }`)})},5453:function(vt,Se,N){"use strict";N.d(Se,{Q:function(){return O}});function O(K){let o=0,U=0,I=0,z=0;for(let b=0,_=K.length;b<_;b++){const B=K.charCodeAt(b);B===13?(o===0&&(U=b),o++,b+1<_&&K.charCodeAt(b+1)===10?(z|=2,b++):z|=3,I=b+1):B===10&&(z|=1,o===0&&(U=b),o++,I=b+1)}return o===0&&(U=K.length),[o,U,K.length-I,z]}},2784:function(vt,Se,N){"use strict";N.d(Se,{i:function(){return z},z:function(){return I}});var O=N(561),K=N(6629),o=N(8390),U=N(5902);class I{static fromRangeInclusive(_){return new I(_.startLineNumber,_.endLineNumber+1)}static joinMany(_){if(_.length===0)return[];let B=new z(_[0].slice());for(let ae=1;ae<_.length;ae++)B=B.getUnion(new z(_[ae].slice()));return B.ranges}static join(_){if(_.length===0)throw new O.he("lineRanges cannot be empty");let B=_[0].startLineNumber,ae=_[0].endLineNumberExclusive;for(let J=1;J<_.length;J++)B=Math.min(B,_[J].startLineNumber),ae=Math.max(ae,_[J].endLineNumberExclusive);return new I(B,ae)}static ofLength(_,B){return new I(_,_+B)}static deserialize(_){return new I(_[0],_[1])}constructor(_,B){if(_>B)throw new O.he(`startLineNumber ${_} cannot be after endLineNumberExclusive ${B}`);this.startLineNumber=_,this.endLineNumberExclusive=B}contains(_){return this.startLineNumber<=_&&_<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(_){return new I(this.startLineNumber+_,this.endLineNumberExclusive+_)}deltaLength(_){return new I(this.startLineNumber,this.endLineNumberExclusive+_)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(_){return new I(Math.min(this.startLineNumber,_.startLineNumber),Math.max(this.endLineNumberExclusive,_.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(_){const B=Math.max(this.startLineNumber,_.startLineNumber),ae=Math.min(this.endLineNumberExclusive,_.endLineNumberExclusive);if(B<=ae)return new I(B,ae)}intersectsStrict(_){return this.startLineNumber<_.endLineNumberExclusive&&_.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(_){return this.startLineNumber<=_.endLineNumberExclusive&&_.startLineNumber<=this.endLineNumberExclusive}equals(_){return this.startLineNumber===_.startLineNumber&&this.endLineNumberExclusive===_.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new o.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new o.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(_){const B=[];for(let ae=this.startLineNumber;ae<this.endLineNumberExclusive;ae++)B.push(_(ae));return B}forEach(_){for(let B=this.startLineNumber;B<this.endLineNumberExclusive;B++)_(B)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(_){return this.startLineNumber<=_&&_<this.endLineNumberExclusive}toOffsetRange(){return new K.q(this.startLineNumber-1,this.endLineNumberExclusive-1)}}class z{constructor(_=[]){this._normalizedRanges=_}get ranges(){return this._normalizedRanges}addRange(_){if(_.length===0)return;const B=(0,U.J_)(this._normalizedRanges,J=>J.endLineNumberExclusive>=_.startLineNumber),ae=(0,U.Jw)(this._normalizedRanges,J=>J.startLineNumber<=_.endLineNumberExclusive)+1;if(B===ae)this._normalizedRanges.splice(B,0,_);else if(B===ae-1){const J=this._normalizedRanges[B];this._normalizedRanges[B]=J.join(_)}else{const J=this._normalizedRanges[B].join(this._normalizedRanges[ae-1]).join(_);this._normalizedRanges.splice(B,ae-B,J)}}contains(_){const B=(0,U.ti)(this._normalizedRanges,ae=>ae.startLineNumber<=_);return!!B&&B.endLineNumberExclusive>_}intersects(_){const B=(0,U.ti)(this._normalizedRanges,ae=>ae.startLineNumber<_.endLineNumberExclusive);return!!B&&B.endLineNumberExclusive>_.startLineNumber}getUnion(_){if(this._normalizedRanges.length===0)return _;if(_._normalizedRanges.length===0)return this;const B=[];let ae=0,J=0,Z=null;for(;ae<this._normalizedRanges.length||J<_._normalizedRanges.length;){let y=null;if(ae<this._normalizedRanges.length&&J<_._normalizedRanges.length){const k=this._normalizedRanges[ae],x=_._normalizedRanges[J];k.startLineNumber<x.startLineNumber?(y=k,ae++):(y=x,J++)}else ae<this._normalizedRanges.length?(y=this._normalizedRanges[ae],ae++):(y=_._normalizedRanges[J],J++);Z===null?Z=y:Z.endLineNumberExclusive>=y.startLineNumber?Z=new I(Z.startLineNumber,Math.max(Z.endLineNumberExclusive,y.endLineNumberExclusive)):(B.push(Z),Z=y)}return Z!==null&&B.push(Z),new z(B)}subtractFrom(_){const B=(0,U.J_)(this._normalizedRanges,y=>y.endLineNumberExclusive>=_.startLineNumber),ae=(0,U.Jw)(this._normalizedRanges,y=>y.startLineNumber<=_.endLineNumberExclusive)+1;if(B===ae)return new z([_]);const J=[];let Z=_.startLineNumber;for(let y=B;y<ae;y++){const k=this._normalizedRanges[y];k.startLineNumber>Z&&J.push(new I(Z,k.startLineNumber)),Z=k.endLineNumberExclusive}return Z<_.endLineNumberExclusive&&J.push(new I(Z,_.endLineNumberExclusive)),new z(J)}toString(){return this._normalizedRanges.map(_=>_.toString()).join(", ")}getIntersection(_){const B=[];let ae=0,J=0;for(;ae<this._normalizedRanges.length&&J<_._normalizedRanges.length;){const Z=this._normalizedRanges[ae],y=_._normalizedRanges[J],k=Z.intersect(y);k&&!k.isEmpty&&B.push(k),Z.endLineNumberExclusive<y.endLineNumberExclusive?ae++:J++}return new z(B)}getWithDelta(_){return new z(this._normalizedRanges.map(B=>B.delta(_)))}}},6629:function(vt,Se,N){"use strict";N.d(Se,{q:function(){return K}});var O=N(561);class K{static addRange(I,z){let b=0;for(;b<z.length&&z[b].endExclusive<I.start;)b++;let _=b;for(;_<z.length&&z[_].start<=I.endExclusive;)_++;if(b===_)z.splice(b,0,I);else{const B=Math.min(I.start,z[b].start),ae=Math.max(I.endExclusive,z[_-1].endExclusive);z.splice(b,_-b,new K(B,ae))}}static tryCreate(I,z){if(!(I>z))return new K(I,z)}static ofLength(I){return new K(0,I)}static ofStartAndLength(I,z){return new K(I,I+z)}constructor(I,z){if(this.start=I,this.endExclusive=z,I>z)throw new O.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(I){return new K(this.start+I,this.endExclusive+I)}deltaStart(I){return new K(this.start+I,this.endExclusive)}deltaEnd(I){return new K(this.start,this.endExclusive+I)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(I){return this.start<=I&&I<this.endExclusive}join(I){return new K(Math.min(this.start,I.start),Math.max(this.endExclusive,I.endExclusive))}intersect(I){const z=Math.max(this.start,I.start),b=Math.min(this.endExclusive,I.endExclusive);if(z<=b)return new K(z,b)}intersects(I){const z=Math.max(this.start,I.start),b=Math.min(this.endExclusive,I.endExclusive);return z<b}isBefore(I){return this.endExclusive<=I.start}isAfter(I){return this.start>=I.endExclusive}slice(I){return I.slice(this.start,this.endExclusive)}substring(I){return I.substring(this.start,this.endExclusive)}clip(I){if(this.isEmpty)throw new O.he(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,I))}clipCyclic(I){if(this.isEmpty)throw new O.he(`Invalid clipping range: ${this.toString()}`);return I<this.start?this.endExclusive-(this.start-I)%this.length:I>=this.endExclusive?this.start+(I-this.start)%this.length:I}forEach(I){for(let z=this.start;z<this.endExclusive;z++)I(z)}}class o{constructor(){this._sortedRanges=[]}addRange(I){let z=0;for(;z<this._sortedRanges.length&&this._sortedRanges[z].endExclusive<I.start;)z++;let b=z;for(;b<this._sortedRanges.length&&this._sortedRanges[b].start<=I.endExclusive;)b++;if(z===b)this._sortedRanges.splice(z,0,I);else{const _=Math.min(I.start,this._sortedRanges[z].start),B=Math.max(I.endExclusive,this._sortedRanges[b-1].endExclusive);this._sortedRanges.splice(z,b-z,new K(_,B))}}toString(){return this._sortedRanges.map(I=>I.toString()).join(", ")}intersectsStrict(I){let z=0;for(;z<this._sortedRanges.length&&this._sortedRanges[z].endExclusive<=I.start;)z++;return z<this._sortedRanges.length&&this._sortedRanges[z].start<I.endExclusive}intersectWithRange(I){const z=new o;for(const b of this._sortedRanges){const _=b.intersect(I);_&&z.addRange(_)}return z}intersectWithRangeLength(I){return this.intersectWithRange(I).length}get length(){return this._sortedRanges.reduce((I,z)=>I+z.length,0)}}},2338:function(vt,Se,N){"use strict";N.d(Se,{L:function(){return O}});class O{constructor(o,U){this.lineNumber=o,this.column=U}with(o=this.lineNumber,U=this.column){return o===this.lineNumber&&U===this.column?this:new O(o,U)}delta(o=0,U=0){return this.with(this.lineNumber+o,this.column+U)}equals(o){return O.equals(this,o)}static equals(o,U){return!o&&!U?!0:!!o&&!!U&&o.lineNumber===U.lineNumber&&o.column===U.column}isBefore(o){return O.isBefore(this,o)}static isBefore(o,U){return o.lineNumber<U.lineNumber?!0:U.lineNumber<o.lineNumber?!1:o.column<U.column}isBeforeOrEqual(o){return O.isBeforeOrEqual(this,o)}static isBeforeOrEqual(o,U){return o.lineNumber<U.lineNumber?!0:U.lineNumber<o.lineNumber?!1:o.column<=U.column}static compare(o,U){const I=o.lineNumber|0,z=U.lineNumber|0;if(I===z){const b=o.column|0,_=U.column|0;return b-_}return I-z}clone(){return new O(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(o){return new O(o.lineNumber,o.column)}static isIPosition(o){return o&&typeof o.lineNumber=="number"&&typeof o.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}},8390:function(vt,Se,N){"use strict";N.d(Se,{e:function(){return K}});var O=N(2338);class K{constructor(U,I,z,b){U>z||U===z&&I>b?(this.startLineNumber=z,this.startColumn=b,this.endLineNumber=U,this.endColumn=I):(this.startLineNumber=U,this.startColumn=I,this.endLineNumber=z,this.endColumn=b)}isEmpty(){return K.isEmpty(this)}static isEmpty(U){return U.startLineNumber===U.endLineNumber&&U.startColumn===U.endColumn}containsPosition(U){return K.containsPosition(this,U)}static containsPosition(U,I){return!(I.lineNumber<U.startLineNumber||I.lineNumber>U.endLineNumber||I.lineNumber===U.startLineNumber&&I.column<U.startColumn||I.lineNumber===U.endLineNumber&&I.column>U.endColumn)}static strictContainsPosition(U,I){return!(I.lineNumber<U.startLineNumber||I.lineNumber>U.endLineNumber||I.lineNumber===U.startLineNumber&&I.column<=U.startColumn||I.lineNumber===U.endLineNumber&&I.column>=U.endColumn)}containsRange(U){return K.containsRange(this,U)}static containsRange(U,I){return!(I.startLineNumber<U.startLineNumber||I.endLineNumber<U.startLineNumber||I.startLineNumber>U.endLineNumber||I.endLineNumber>U.endLineNumber||I.startLineNumber===U.startLineNumber&&I.startColumn<U.startColumn||I.endLineNumber===U.endLineNumber&&I.endColumn>U.endColumn)}strictContainsRange(U){return K.strictContainsRange(this,U)}static strictContainsRange(U,I){return!(I.startLineNumber<U.startLineNumber||I.endLineNumber<U.startLineNumber||I.startLineNumber>U.endLineNumber||I.endLineNumber>U.endLineNumber||I.startLineNumber===U.startLineNumber&&I.startColumn<=U.startColumn||I.endLineNumber===U.endLineNumber&&I.endColumn>=U.endColumn)}plusRange(U){return K.plusRange(this,U)}static plusRange(U,I){let z,b,_,B;return I.startLineNumber<U.startLineNumber?(z=I.startLineNumber,b=I.startColumn):I.startLineNumber===U.startLineNumber?(z=I.startLineNumber,b=Math.min(I.startColumn,U.startColumn)):(z=U.startLineNumber,b=U.startColumn),I.endLineNumber>U.endLineNumber?(_=I.endLineNumber,B=I.endColumn):I.endLineNumber===U.endLineNumber?(_=I.endLineNumber,B=Math.max(I.endColumn,U.endColumn)):(_=U.endLineNumber,B=U.endColumn),new K(z,b,_,B)}intersectRanges(U){return K.intersectRanges(this,U)}static intersectRanges(U,I){let z=U.startLineNumber,b=U.startColumn,_=U.endLineNumber,B=U.endColumn;const ae=I.startLineNumber,J=I.startColumn,Z=I.endLineNumber,y=I.endColumn;return z<ae?(z=ae,b=J):z===ae&&(b=Math.max(b,J)),_>Z?(_=Z,B=y):_===Z&&(B=Math.min(B,y)),z>_||z===_&&b>B?null:new K(z,b,_,B)}equalsRange(U){return K.equalsRange(this,U)}static equalsRange(U,I){return!U&&!I?!0:!!U&&!!I&&U.startLineNumber===I.startLineNumber&&U.startColumn===I.startColumn&&U.endLineNumber===I.endLineNumber&&U.endColumn===I.endColumn}getEndPosition(){return K.getEndPosition(this)}static getEndPosition(U){return new O.L(U.endLineNumber,U.endColumn)}getStartPosition(){return K.getStartPosition(this)}static getStartPosition(U){return new O.L(U.startLineNumber,U.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(U,I){return new K(this.startLineNumber,this.startColumn,U,I)}setStartPosition(U,I){return new K(U,I,this.endLineNumber,this.endColumn)}collapseToStart(){return K.collapseToStart(this)}static collapseToStart(U){return new K(U.startLineNumber,U.startColumn,U.startLineNumber,U.startColumn)}collapseToEnd(){return K.collapseToEnd(this)}static collapseToEnd(U){return new K(U.endLineNumber,U.endColumn,U.endLineNumber,U.endColumn)}delta(U){return new K(this.startLineNumber+U,this.startColumn,this.endLineNumber+U,this.endColumn)}static fromPositions(U,I=U){return new K(U.lineNumber,U.column,I.lineNumber,I.column)}static lift(U){return U?new K(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn):null}static isIRange(U){return U&&typeof U.startLineNumber=="number"&&typeof U.startColumn=="number"&&typeof U.endLineNumber=="number"&&typeof U.endColumn=="number"}static areIntersectingOrTouching(U,I){return!(U.endLineNumber<I.startLineNumber||U.endLineNumber===I.startLineNumber&&U.endColumn<I.startColumn||I.endLineNumber<U.startLineNumber||I.endLineNumber===U.startLineNumber&&I.endColumn<U.startColumn)}static areIntersecting(U,I){return!(U.endLineNumber<I.startLineNumber||U.endLineNumber===I.startLineNumber&&U.endColumn<=I.startColumn||I.endLineNumber<U.startLineNumber||I.endLineNumber===U.startLineNumber&&I.endColumn<=U.startColumn)}static compareRangesUsingStarts(U,I){if(U&&I){const _=U.startLineNumber|0,B=I.startLineNumber|0;if(_===B){const ae=U.startColumn|0,J=I.startColumn|0;if(ae===J){const Z=U.endLineNumber|0,y=I.endLineNumber|0;if(Z===y){const k=U.endColumn|0,x=I.endColumn|0;return k-x}return Z-y}return ae-J}return _-B}return(U?1:0)-(I?1:0)}static compareRangesUsingEnds(U,I){return U.endLineNumber===I.endLineNumber?U.endColumn===I.endColumn?U.startLineNumber===I.startLineNumber?U.startColumn-I.startColumn:U.startLineNumber-I.startLineNumber:U.endColumn-I.endColumn:U.endLineNumber-I.endLineNumber}static spansMultipleLines(U){return U.endLineNumber>U.startLineNumber}toJSON(){return this}}},4360:function(vt,Se,N){"use strict";N.d(Se,{Y:function(){return o}});var O=N(2338),K=N(8390);class o extends K.e{constructor(I,z,b,_){super(I,z,b,_),this.selectionStartLineNumber=I,this.selectionStartColumn=z,this.positionLineNumber=b,this.positionColumn=_}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(I){return o.selectionsEqual(this,I)}static selectionsEqual(I,z){return I.selectionStartLineNumber===z.selectionStartLineNumber&&I.selectionStartColumn===z.selectionStartColumn&&I.positionLineNumber===z.positionLineNumber&&I.positionColumn===z.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(I,z){return this.getDirection()===0?new o(this.startLineNumber,this.startColumn,I,z):new o(I,z,this.startLineNumber,this.startColumn)}getPosition(){return new O.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new O.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(I,z){return this.getDirection()===0?new o(I,z,this.endLineNumber,this.endColumn):new o(this.endLineNumber,this.endColumn,I,z)}static fromPositions(I,z=I){return new o(I.lineNumber,I.column,z.lineNumber,z.column)}static fromRange(I,z){return z===0?new o(I.startLineNumber,I.startColumn,I.endLineNumber,I.endColumn):new o(I.endLineNumber,I.endColumn,I.startLineNumber,I.startColumn)}static liftSelection(I){return new o(I.selectionStartLineNumber,I.selectionStartColumn,I.positionLineNumber,I.positionColumn)}static selectionsArrEqual(I,z){if(I&&!z||!I&&z)return!1;if(!I&&!z)return!0;if(I.length!==z.length)return!1;for(let b=0,_=I.length;b<_;b++)if(!this.selectionsEqual(I[b],z[b]))return!1;return!0}static isISelection(I){return I&&typeof I.selectionStartLineNumber=="number"&&typeof I.selectionStartColumn=="number"&&typeof I.positionLineNumber=="number"&&typeof I.positionColumn=="number"}static createWithDirection(I,z,b,_,B){return B===0?new o(I,z,b,_):new o(b,_,I,z)}}},858:function(vt,Se,N){"use strict";N.d(Se,{A:function(){return o}});var O=N(2338),K=N(8390);const U=class U{static betweenPositions(z,b){return z.lineNumber===b.lineNumber?new U(0,b.column-z.column):new U(b.lineNumber-z.lineNumber,b.column-1)}static ofRange(z){return U.betweenPositions(z.getStartPosition(),z.getEndPosition())}static ofText(z){let b=0,_=0;for(const B of z)B===`
`?(b++,_=0):_++;return new U(b,_)}constructor(z,b){this.lineCount=z,this.columnCount=b}isGreaterThanOrEqualTo(z){return this.lineCount!==z.lineCount?this.lineCount>z.lineCount:this.columnCount>=z.columnCount}createRange(z){return this.lineCount===0?new K.e(z.lineNumber,z.column,z.lineNumber,z.column+this.columnCount):new K.e(z.lineNumber,z.column,z.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(z){return this.lineCount===0?new O.L(z.lineNumber,z.column+this.columnCount):new O.L(z.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}};U.zero=new U(0,0);let o=U},2343:function(vt,Se,N){"use strict";N.d(Se,{Af:function(){return I},eq:function(){return z},t2:function(){return _}});var O=N(2982),K=N(8310);const o="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function U(ae=""){let J="(-?\\d*\\.\\d\\w*)|([^";for(const Z of o)ae.indexOf(Z)>=0||(J+="\\"+Z);return J+="\\s]+)",new RegExp(J,"g")}const I=U();function z(ae){let J=I;if(ae&&ae instanceof RegExp)if(ae.global)J=ae;else{let Z="g";ae.ignoreCase&&(Z+="i"),ae.multiline&&(Z+="m"),ae.unicode&&(Z+="u"),J=new RegExp(ae.source,Z)}return J.lastIndex=0,J}const b=new K.S;b.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function _(ae,J,Z,y,k){if(J=z(J),k||(k=O.$.first(b)),Z.length>k.maxLen){let T=ae-k.maxLen/2;return T<0?T=0:y+=T,Z=Z.substring(T,ae+k.maxLen/2),_(ae,J,Z,y,k)}const x=Date.now(),g=ae-1-y;let ue=-1,fe=null;for(let T=1;!(Date.now()-x>=k.timeBudget);T++){const S=g-k.windowSize*T;J.lastIndex=Math.max(0,S);const w=B(J,Z,g,ue);if(!w&&fe||(fe=w,S<=0))break;ue=S}if(fe){const T={word:fe[0],startColumn:y+1+fe.index,endColumn:y+1+fe.index+fe[0].length};return J.lastIndex=0,T}return null}function B(ae,J,Z,y){let k;for(;k=ae.exec(J);){const x=k.index||0;if(x<=Z&&ae.lastIndex>=Z)return k;if(y>0&&x>y)return null}return null}},4864:function(vt,Se,N){"use strict";N.d(Se,{N:function(){return O}});class O{static getLanguageId(o){return(o&255)>>>0}static getTokenType(o){return(o&768)>>>8}static containsBalancedBrackets(o){return(o&1024)!==0}static getFontStyle(o){return(o&30720)>>>11}static getForeground(o){return(o&16744448)>>>15}static getBackground(o){return(o&4278190080)>>>24}static getClassNameFromMetadata(o){let I="mtk"+this.getForeground(o);const z=this.getFontStyle(o);return z&1&&(I+=" mtki"),z&2&&(I+=" mtkb"),z&4&&(I+=" mtku"),z&8&&(I+=" mtks"),I}static getInlineStyleFromMetadata(o,U){const I=this.getForeground(o),z=this.getFontStyle(o);let b=`color: ${U[I]};`;z&1&&(b+="font-style: italic;"),z&2&&(b+="font-weight: bold;");let _="";return z&4&&(_+=" underline"),z&8&&(_+=" line-through"),_&&(b+=`text-decoration:${_};`),b}static getPresentationFromMetadata(o){const U=this.getForeground(o),I=this.getFontStyle(o);return{foreground:U,italic:!!(I&1),bold:!!(I&2),underline:!!(I&4),strikethrough:!!(I&8)}}}},3655:function(vt,Se,N){"use strict";N.d(Se,{DI:function(){return ae},WU:function(){return _},RW:function(){return ge},A3:function(){return ne}});var O=N(3290),K=N(9423),o=N(3130),U=N(338);class I{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new o.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(se){this._onDidChange.fire({changedLanguages:se,changedColorMap:!1})}register(se,Me){return this._tokenizationSupports.set(se,Me),this.handleChange([se]),(0,U.OF)(()=>{this._tokenizationSupports.get(se)===Me&&(this._tokenizationSupports.delete(se),this.handleChange([se]))})}get(se){return this._tokenizationSupports.get(se)||null}registerFactory(se,Me){var Te;(Te=this._factories.get(se))==null||Te.dispose();const He=new z(this,se,Me);return this._factories.set(se,He),(0,U.OF)(()=>{const ve=this._factories.get(se);!ve||ve!==He||(this._factories.delete(se),ve.dispose())})}getOrCreate(se){return sn(this,null,function*(){const Me=this.get(se);if(Me)return Me;const He=this._factories.get(se);return!He||He.isResolved?null:(yield He.resolve(),this.get(se))})}isResolved(se){if(this.get(se))return!0;const He=this._factories.get(se);return!!(!He||He.isResolved)}setColorMap(se){this._colorMap=se,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class z extends U.JT{get isResolved(){return this._isResolved}constructor(se,Me,He){super(),this._registry=se,this._languageId=Me,this._factory=He,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return sn(this,null,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return sn(this,null,function*(){const se=yield this._factory.tokenizationSupport;this._isResolved=!0,se&&!this._isDisposed&&this._register(this._registry.register(this._languageId,se))})}}var b=N(4329);class _{constructor(se,Me,He){this.offset=se,this.type=Me,this.language=He,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class B{constructor(se,Me){this.tokens=se,this.endState=Me,this._tokenizationResultBrand=void 0}}class ae{constructor(se,Me){this.tokens=se,this.endState=Me,this._encodedTokenizationResultBrand=void 0}}var J;(function(ie){ie[ie.Increase=0]="Increase",ie[ie.Decrease=1]="Decrease"})(J||(J={}));var Z;(function(ie){const se=new Map;se.set(0,O.l.symbolMethod),se.set(1,O.l.symbolFunction),se.set(2,O.l.symbolConstructor),se.set(3,O.l.symbolField),se.set(4,O.l.symbolVariable),se.set(5,O.l.symbolClass),se.set(6,O.l.symbolStruct),se.set(7,O.l.symbolInterface),se.set(8,O.l.symbolModule),se.set(9,O.l.symbolProperty),se.set(10,O.l.symbolEvent),se.set(11,O.l.symbolOperator),se.set(12,O.l.symbolUnit),se.set(13,O.l.symbolValue),se.set(15,O.l.symbolEnum),se.set(14,O.l.symbolConstant),se.set(15,O.l.symbolEnum),se.set(16,O.l.symbolEnumMember),se.set(17,O.l.symbolKeyword),se.set(27,O.l.symbolSnippet),se.set(18,O.l.symbolText),se.set(19,O.l.symbolColor),se.set(20,O.l.symbolFile),se.set(21,O.l.symbolReference),se.set(22,O.l.symbolCustomColor),se.set(23,O.l.symbolFolder),se.set(24,O.l.symbolTypeParameter),se.set(25,O.l.account),se.set(26,O.l.issues);function Me(ve){let P=se.get(ve);return P||(console.info("No codicon found for CompletionItemKind "+ve),P=O.l.symbolProperty),P}ie.toIcon=Me;const He=new Map;He.set("method",0),He.set("function",1),He.set("constructor",2),He.set("field",3),He.set("variable",4),He.set("class",5),He.set("struct",6),He.set("interface",7),He.set("module",8),He.set("property",9),He.set("event",10),He.set("operator",11),He.set("unit",12),He.set("value",13),He.set("constant",14),He.set("enum",15),He.set("enum-member",16),He.set("enumMember",16),He.set("keyword",17),He.set("snippet",27),He.set("text",18),He.set("color",19),He.set("file",20),He.set("reference",21),He.set("customcolor",22),He.set("folder",23),He.set("type-parameter",24),He.set("typeParameter",24),He.set("account",25),He.set("issue",26);function Te(ve,P){let ee=He.get(ve);return typeof ee=="undefined"&&!P&&(ee=9),ee}ie.fromString=Te})(Z||(Z={}));var y;(function(ie){ie[ie.Automatic=0]="Automatic",ie[ie.Explicit=1]="Explicit"})(y||(y={}));class k{constructor(se,Me,He,Te){this.range=se,this.text=Me,this.completionKind=He,this.isSnippetText=Te}equals(se){return Range.lift(this.range).equalsRange(se.range)&&this.text===se.text&&this.completionKind===se.completionKind&&this.isSnippetText===se.isSnippetText}}var x;(function(ie){ie[ie.Automatic=0]="Automatic",ie[ie.PasteAs=1]="PasteAs"})(x||(x={}));var g;(function(ie){ie[ie.Invoke=1]="Invoke",ie[ie.TriggerCharacter=2]="TriggerCharacter",ie[ie.ContentChange=3]="ContentChange"})(g||(g={}));var ue;(function(ie){ie[ie.Text=0]="Text",ie[ie.Read=1]="Read",ie[ie.Write=2]="Write"})(ue||(ue={}));function fe(ie){return ie&&URI.isUri(ie.uri)&&Range.isIRange(ie.range)&&(Range.isIRange(ie.originSelectionRange)||Range.isIRange(ie.targetSelectionRange))}const T={17:(0,b.NC)("Array","array"),16:(0,b.NC)("Boolean","boolean"),4:(0,b.NC)("Class","class"),13:(0,b.NC)("Constant","constant"),8:(0,b.NC)("Constructor","constructor"),9:(0,b.NC)("Enum","enumeration"),21:(0,b.NC)("EnumMember","enumeration member"),23:(0,b.NC)("Event","event"),7:(0,b.NC)("Field","field"),0:(0,b.NC)("File","file"),11:(0,b.NC)("Function","function"),10:(0,b.NC)("Interface","interface"),19:(0,b.NC)("Key","key"),5:(0,b.NC)("Method","method"),1:(0,b.NC)("Module","module"),2:(0,b.NC)("Namespace","namespace"),20:(0,b.NC)("Null","null"),15:(0,b.NC)("Number","number"),18:(0,b.NC)("Object","object"),24:(0,b.NC)("Operator","operator"),3:(0,b.NC)("Package","package"),6:(0,b.NC)("Property","property"),14:(0,b.NC)("String","string"),22:(0,b.NC)("Struct","struct"),25:(0,b.NC)("TypeParameter","type parameter"),12:(0,b.NC)("Variable","variable")};function S(ie,se){return localize("symbolAriaLabel","{0} ({1})",ie,T[se])}var w;(function(ie){const se=new Map;se.set(0,O.l.symbolFile),se.set(1,O.l.symbolModule),se.set(2,O.l.symbolNamespace),se.set(3,O.l.symbolPackage),se.set(4,O.l.symbolClass),se.set(5,O.l.symbolMethod),se.set(6,O.l.symbolProperty),se.set(7,O.l.symbolField),se.set(8,O.l.symbolConstructor),se.set(9,O.l.symbolEnum),se.set(10,O.l.symbolInterface),se.set(11,O.l.symbolFunction),se.set(12,O.l.symbolVariable),se.set(13,O.l.symbolConstant),se.set(14,O.l.symbolString),se.set(15,O.l.symbolNumber),se.set(16,O.l.symbolBoolean),se.set(17,O.l.symbolArray),se.set(18,O.l.symbolObject),se.set(19,O.l.symbolKey),se.set(20,O.l.symbolNull),se.set(21,O.l.symbolEnumMember),se.set(22,O.l.symbolStruct),se.set(23,O.l.symbolEvent),se.set(24,O.l.symbolOperator),se.set(25,O.l.symbolTypeParameter);function Me(He){let Te=se.get(He);return Te||(console.info("No codicon found for SymbolKind "+He),Te=O.l.symbolProperty),Te}ie.toIcon=Me})(w||(w={}));class A{}const G=class G{static fromValue(se){switch(se){case"comment":return G.Comment;case"imports":return G.Imports;case"region":return G.Region}return new G(se)}constructor(se){this.value=se}};G.Comment=new G("comment"),G.Imports=new G("imports"),G.Region=new G("region");let M=G;var C;(function(ie){ie[ie.AIGenerated=1]="AIGenerated"})(C||(C={}));var V;(function(ie){ie[ie.Invoke=0]="Invoke",ie[ie.Automatic=1]="Automatic"})(V||(V={}));var W;(function(ie){function se(Me){return!Me||typeof Me!="object"?!1:typeof Me.id=="string"&&typeof Me.title=="string"}ie.is=se})(W||(W={}));var j;(function(ie){ie[ie.Type=1]="Type",ie[ie.Parameter=2]="Parameter"})(j||(j={}));class Q{constructor(se){this.createSupport=se,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(se=>{se&&se.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const ge=new I,ne=new I;var X;(function(ie){ie[ie.Invoke=0]="Invoke",ie[ie.Automatic=1]="Automatic"})(X||(X={}))},4033:function(vt,Se,N){"use strict";N.d(Se,{O:function(){return K}});var O=N(1721);const K=(0,O.yh)("languageService")},3274:function(vt,Se,N){"use strict";N.d(Se,{bd:function(){return B},dQ:function(){return _}});var O=N(4329),K=N(3130),o=N(4311),U=N(2542),I=N(5085);const z={ModesRegistry:"editor.modesRegistry"};class b{constructor(){this._onDidChangeLanguages=new K.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(Z){return this._languages.push(Z),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let y=0,k=this._languages.length;y<k;y++)if(this._languages[y]===Z){this._languages.splice(y,1);return}}}}getLanguages(){return this._languages}}const _=new b;o.B.add(z.ModesRegistry,_);const B="plaintext";_.registerLanguage({id:B,extensions:[".txt"],aliases:[O.NC("plainText.alias","Plain Text"),"text"],mimetypes:[U.v.text]}),o.B.as(I.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},3480:function(vt,Se,N){"use strict";N.d(Se,{Hf:function(){return b},Qi:function(){return _},Tx:function(){return B},U:function(){return o},dJ:function(){return I},je:function(){return ae},pt:function(){return J},sh:function(){return K},tk:function(){return z}});var O=N(6364),K;(function(Z){Z[Z.Left=1]="Left",Z[Z.Center=2]="Center",Z[Z.Right=4]="Right",Z[Z.Full=7]="Full"})(K||(K={}));var o;(function(Z){Z[Z.Left=1]="Left",Z[Z.Center=2]="Center",Z[Z.Right=3]="Right"})(o||(o={}));var U;(function(Z){Z[Z.Both=0]="Both",Z[Z.Right=1]="Right",Z[Z.Left=2]="Left",Z[Z.None=3]="None"})(U||(U={}));class I{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(y){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,y.tabSize|0),y.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,y.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!y.insertSpaces,this.defaultEOL=y.defaultEOL|0,this.trimAutoWhitespace=!!y.trimAutoWhitespace,this.bracketPairColorizationOptions=y.bracketPairColorizationOptions}equals(y){return this.tabSize===y.tabSize&&this._indentSizeIsTabSize===y._indentSizeIsTabSize&&this.indentSize===y.indentSize&&this.insertSpaces===y.insertSpaces&&this.defaultEOL===y.defaultEOL&&this.trimAutoWhitespace===y.trimAutoWhitespace&&(0,O.fS)(this.bracketPairColorizationOptions,y.bracketPairColorizationOptions)}createChangeEvent(y){return{tabSize:this.tabSize!==y.tabSize,indentSize:this.indentSize!==y.indentSize,insertSpaces:this.insertSpaces!==y.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==y.trimAutoWhitespace}}}class z{constructor(y,k){this._findMatchBrand=void 0,this.range=y,this.matches=k}}function b(Z){return Z&&typeof Z.read=="function"}class _{constructor(y,k,x,g,ue,fe){this.identifier=y,this.range=k,this.text=x,this.forceMoveMarkers=g,this.isAutoWhitespaceEdit=ue,this._isTracked=fe}}class B{constructor(y,k,x){this.regex=y,this.wordSeparators=k,this.simpleSearch=x}}class ae{constructor(y,k,x){this.reverseEdits=y,this.changes=k,this.trimAutoWhitespaceLineNumbers=x}}function J(Z){return!Z.isTooLargeForSyncing()&&!Z.isForSimpleWidget}},8470:function(vt,Se,N){"use strict";N.d(Se,{bc:function(){return J},sz:function(){return T},pM:function(){return x},iE:function(){return y},cM:function(){return fe}});var O=N(9632),K=N(9941),o=N(5670);class U extends o.N{constructor(w,A){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=A,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let M=0,C=w.length;M<C;M++)this.set(w.charCodeAt(M),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(w,A){let M=null;for(const C of this._getIntlSegmenterWordsOnLine(w)){if(C.index>A)break;M=C}return M}findNextIntlWordAtOrAfterOffset(w,A){for(const M of this._getIntlSegmenterWordsOnLine(w))if(!(M.index<A))return M;return null}_getIntlSegmenterWordsOnLine(w){return this._segmenter?this._cachedLine===w?this._cachedSegments:(this._cachedLine=w,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(w)),this._cachedSegments):[]}_filterWordSegments(w){const A=[];for(const M of w)this._isWordLike(M)&&A.push(M);return A}_isWordLike(w){return!!w.isWordLike}}const I=new K.z6(10);function z(S,w){const A=`${S}/${w.join(",")}`;let M=I.get(A);return M||(M=new U(S,w),I.set(A,M)),M}var b=N(2338),_=N(8390),B=N(3480);const ae=999;class J{constructor(w,A,M,C){this.searchString=w,this.isRegex=A,this.matchCase=M,this.wordSeparators=C}parseSearchRequest(){if(this.searchString==="")return null;let w;this.isRegex?w=Z(this.searchString):w=this.searchString.indexOf(`
`)>=0;let A=null;try{A=O.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:w,global:!0,unicode:!0})}catch(C){return null}if(!A)return null;let M=!this.isRegex&&!w;return M&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(M=this.matchCase),new B.Tx(A,this.wordSeparators?z(this.wordSeparators,[]):null,M?this.searchString:null)}}function Z(S){if(!S||S.length===0)return!1;for(let w=0,A=S.length;w<A;w++){const M=S.charCodeAt(w);if(M===10)return!0;if(M===92){if(w++,w>=A)break;const C=S.charCodeAt(w);if(C===110||C===114||C===87)return!0}}return!1}function y(S,w,A){if(!A)return new B.tk(S,null);const M=[];for(let C=0,V=w.length;C<V;C++)M[C]=w[C];return new B.tk(S,M)}class k{constructor(w){const A=[];let M=0;for(let C=0,V=w.length;C<V;C++)w.charCodeAt(C)===10&&(A[M++]=C);this._lineFeedsOffsets=A}findLineFeedCountBeforeOffset(w){const A=this._lineFeedsOffsets;let M=0,C=A.length-1;if(C===-1||w<=A[0])return 0;for(;M<C;){const V=M+((C-M)/2>>0);A[V]>=w?C=V-1:A[V+1]>=w?(M=V,C=V):M=V+1}return M+1}}class x{static findMatches(w,A,M,C,V){const W=A.parseSearchRequest();return W?W.regex.multiline?this._doFindMatchesMultiline(w,M,new T(W.wordSeparators,W.regex),C,V):this._doFindMatchesLineByLine(w,M,W,C,V):[]}static _getMultilineMatchRange(w,A,M,C,V,W){let j,Q=0;C?(Q=C.findLineFeedCountBeforeOffset(V),j=A+V+Q):j=A+V;let ge;if(C){const ie=C.findLineFeedCountBeforeOffset(V+W.length)-Q;ge=j+W.length+ie}else ge=j+W.length;const ne=w.getPositionAt(j),X=w.getPositionAt(ge);return new _.e(ne.lineNumber,ne.column,X.lineNumber,X.column)}static _doFindMatchesMultiline(w,A,M,C,V){const W=w.getOffsetAt(A.getStartPosition()),j=w.getValueInRange(A,1),Q=w.getEOL()===`\r
`?new k(j):null,ge=[];let ne=0,X;for(M.reset(0);X=M.next(j);)if(ge[ne++]=y(this._getMultilineMatchRange(w,W,j,Q,X.index,X[0]),X,C),ne>=V)return ge;return ge}static _doFindMatchesLineByLine(w,A,M,C,V){const W=[];let j=0;if(A.startLineNumber===A.endLineNumber){const ge=w.getLineContent(A.startLineNumber).substring(A.startColumn-1,A.endColumn-1);return j=this._findMatchesInLine(M,ge,A.startLineNumber,A.startColumn-1,j,W,C,V),W}const Q=w.getLineContent(A.startLineNumber).substring(A.startColumn-1);j=this._findMatchesInLine(M,Q,A.startLineNumber,A.startColumn-1,j,W,C,V);for(let ge=A.startLineNumber+1;ge<A.endLineNumber&&j<V;ge++)j=this._findMatchesInLine(M,w.getLineContent(ge),ge,0,j,W,C,V);if(j<V){const ge=w.getLineContent(A.endLineNumber).substring(0,A.endColumn-1);j=this._findMatchesInLine(M,ge,A.endLineNumber,0,j,W,C,V)}return W}static _findMatchesInLine(w,A,M,C,V,W,j,Q){const ge=w.wordSeparators;if(!j&&w.simpleSearch){const G=w.simpleSearch,ie=G.length,se=A.length;let Me=-ie;for(;(Me=A.indexOf(G,Me+ie))!==-1;)if((!ge||fe(ge,A,se,Me,ie))&&(W[V++]=new B.tk(new _.e(M,Me+1+C,M,Me+1+ie+C),null),V>=Q))return V;return V}const ne=new T(w.wordSeparators,w.regex);let X;ne.reset(0);do if(X=ne.next(A),X&&(W[V++]=y(new _.e(M,X.index+1+C,M,X.index+1+X[0].length+C),X,j),V>=Q))return V;while(X);return V}static findNextMatch(w,A,M,C){const V=A.parseSearchRequest();if(!V)return null;const W=new T(V.wordSeparators,V.regex);return V.regex.multiline?this._doFindNextMatchMultiline(w,M,W,C):this._doFindNextMatchLineByLine(w,M,W,C)}static _doFindNextMatchMultiline(w,A,M,C){const V=new b.L(A.lineNumber,1),W=w.getOffsetAt(V),j=w.getLineCount(),Q=w.getValueInRange(new _.e(V.lineNumber,V.column,j,w.getLineMaxColumn(j)),1),ge=w.getEOL()===`\r
`?new k(Q):null;M.reset(A.column-1);const ne=M.next(Q);return ne?y(this._getMultilineMatchRange(w,W,Q,ge,ne.index,ne[0]),ne,C):A.lineNumber!==1||A.column!==1?this._doFindNextMatchMultiline(w,new b.L(1,1),M,C):null}static _doFindNextMatchLineByLine(w,A,M,C){const V=w.getLineCount(),W=A.lineNumber,j=w.getLineContent(W),Q=this._findFirstMatchInLine(M,j,W,A.column,C);if(Q)return Q;for(let ge=1;ge<=V;ge++){const ne=(W+ge-1)%V,X=w.getLineContent(ne+1),G=this._findFirstMatchInLine(M,X,ne+1,1,C);if(G)return G}return null}static _findFirstMatchInLine(w,A,M,C,V){w.reset(C-1);const W=w.next(A);return W?y(new _.e(M,W.index+1,M,W.index+1+W[0].length),W,V):null}static findPreviousMatch(w,A,M,C){const V=A.parseSearchRequest();if(!V)return null;const W=new T(V.wordSeparators,V.regex);return V.regex.multiline?this._doFindPreviousMatchMultiline(w,M,W,C):this._doFindPreviousMatchLineByLine(w,M,W,C)}static _doFindPreviousMatchMultiline(w,A,M,C){const V=this._doFindMatchesMultiline(w,new _.e(1,1,A.lineNumber,A.column),M,C,10*ae);if(V.length>0)return V[V.length-1];const W=w.getLineCount();return A.lineNumber!==W||A.column!==w.getLineMaxColumn(W)?this._doFindPreviousMatchMultiline(w,new b.L(W,w.getLineMaxColumn(W)),M,C):null}static _doFindPreviousMatchLineByLine(w,A,M,C){const V=w.getLineCount(),W=A.lineNumber,j=w.getLineContent(W).substring(0,A.column-1),Q=this._findLastMatchInLine(M,j,W,C);if(Q)return Q;for(let ge=1;ge<=V;ge++){const ne=(V+W-ge-1)%V,X=w.getLineContent(ne+1),G=this._findLastMatchInLine(M,X,ne+1,C);if(G)return G}return null}static _findLastMatchInLine(w,A,M,C){let V=null,W;for(w.reset(0);W=w.next(A);)V=y(new _.e(M,W.index+1,M,W.index+1+W[0].length),W,C);return V}}function g(S,w,A,M,C){if(M===0)return!0;const V=w.charCodeAt(M-1);if(S.get(V)!==0||V===13||V===10)return!0;if(C>0){const W=w.charCodeAt(M);if(S.get(W)!==0)return!0}return!1}function ue(S,w,A,M,C){if(M+C===A)return!0;const V=w.charCodeAt(M+C);if(S.get(V)!==0||V===13||V===10)return!0;if(C>0){const W=w.charCodeAt(M+C-1);if(S.get(W)!==0)return!0}return!1}function fe(S,w,A,M,C){return g(S,w,A,M,C)&&ue(S,w,A,M,C)}class T{constructor(w,A){this._wordSeparators=w,this._searchRegex=A,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(w){this._searchRegex.lastIndex=w,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(w){const A=w.length;let M;do{if(this._prevMatchStartIndex+this._prevMatchLength===A||(M=this._searchRegex.exec(w),!M))return null;const C=M.index,V=M[0].length;if(C===this._prevMatchStartIndex&&V===this._prevMatchLength){if(V===0){O.ZH(w,A,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=C,this._prevMatchLength=V,!this._wordSeparators||fe(this._wordSeparators,w,A,C,V))return M}while(M);return null}}},2726:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{KeyMod:function(){return m},createMonacoBaseAPI:function(){return H}});var O=N(3738),K=N(3130);class o{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(ut,kt){this._keyCodeToStr[ut]=kt,this._strToKeyCode[kt.toLowerCase()]=ut}keyCodeToStr(ut){return this._keyCodeToStr[ut]}strToKeyCode(ut){return this._strToKeyCode[ut.toLowerCase()]||0}}const U=new o,I=new o,z=new o,b=new Array(230),_={},B=[],ae=Object.create(null),J=Object.create(null),Z=[],y=[];for(let n=0;n<=193;n++)Z[n]=-1;for(let n=0;n<=132;n++)y[n]=-1;(function(){const n="",ut=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",n,n],[1,1,"Hyper",0,n,0,n,n,n],[1,2,"Super",0,n,0,n,n,n],[1,3,"Fn",0,n,0,n,n,n],[1,4,"FnLock",0,n,0,n,n,n],[1,5,"Suspend",0,n,0,n,n,n],[1,6,"Resume",0,n,0,n,n,n],[1,7,"Turbo",0,n,0,n,n,n],[1,8,"Sleep",0,n,0,"VK_SLEEP",n,n],[1,9,"WakeUp",0,n,0,n,n,n],[0,10,"KeyA",31,"A",65,"VK_A",n,n],[0,11,"KeyB",32,"B",66,"VK_B",n,n],[0,12,"KeyC",33,"C",67,"VK_C",n,n],[0,13,"KeyD",34,"D",68,"VK_D",n,n],[0,14,"KeyE",35,"E",69,"VK_E",n,n],[0,15,"KeyF",36,"F",70,"VK_F",n,n],[0,16,"KeyG",37,"G",71,"VK_G",n,n],[0,17,"KeyH",38,"H",72,"VK_H",n,n],[0,18,"KeyI",39,"I",73,"VK_I",n,n],[0,19,"KeyJ",40,"J",74,"VK_J",n,n],[0,20,"KeyK",41,"K",75,"VK_K",n,n],[0,21,"KeyL",42,"L",76,"VK_L",n,n],[0,22,"KeyM",43,"M",77,"VK_M",n,n],[0,23,"KeyN",44,"N",78,"VK_N",n,n],[0,24,"KeyO",45,"O",79,"VK_O",n,n],[0,25,"KeyP",46,"P",80,"VK_P",n,n],[0,26,"KeyQ",47,"Q",81,"VK_Q",n,n],[0,27,"KeyR",48,"R",82,"VK_R",n,n],[0,28,"KeyS",49,"S",83,"VK_S",n,n],[0,29,"KeyT",50,"T",84,"VK_T",n,n],[0,30,"KeyU",51,"U",85,"VK_U",n,n],[0,31,"KeyV",52,"V",86,"VK_V",n,n],[0,32,"KeyW",53,"W",87,"VK_W",n,n],[0,33,"KeyX",54,"X",88,"VK_X",n,n],[0,34,"KeyY",55,"Y",89,"VK_Y",n,n],[0,35,"KeyZ",56,"Z",90,"VK_Z",n,n],[0,36,"Digit1",22,"1",49,"VK_1",n,n],[0,37,"Digit2",23,"2",50,"VK_2",n,n],[0,38,"Digit3",24,"3",51,"VK_3",n,n],[0,39,"Digit4",25,"4",52,"VK_4",n,n],[0,40,"Digit5",26,"5",53,"VK_5",n,n],[0,41,"Digit6",27,"6",54,"VK_6",n,n],[0,42,"Digit7",28,"7",55,"VK_7",n,n],[0,43,"Digit8",29,"8",56,"VK_8",n,n],[0,44,"Digit9",30,"9",57,"VK_9",n,n],[0,45,"Digit0",21,"0",48,"VK_0",n,n],[1,46,"Enter",3,"Enter",13,"VK_RETURN",n,n],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",n,n],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",n,n],[1,49,"Tab",2,"Tab",9,"VK_TAB",n,n],[1,50,"Space",10,"Space",32,"VK_SPACE",n,n],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,n,0,n,n,n],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",n,n],[1,64,"F1",59,"F1",112,"VK_F1",n,n],[1,65,"F2",60,"F2",113,"VK_F2",n,n],[1,66,"F3",61,"F3",114,"VK_F3",n,n],[1,67,"F4",62,"F4",115,"VK_F4",n,n],[1,68,"F5",63,"F5",116,"VK_F5",n,n],[1,69,"F6",64,"F6",117,"VK_F6",n,n],[1,70,"F7",65,"F7",118,"VK_F7",n,n],[1,71,"F8",66,"F8",119,"VK_F8",n,n],[1,72,"F9",67,"F9",120,"VK_F9",n,n],[1,73,"F10",68,"F10",121,"VK_F10",n,n],[1,74,"F11",69,"F11",122,"VK_F11",n,n],[1,75,"F12",70,"F12",123,"VK_F12",n,n],[1,76,"PrintScreen",0,n,0,n,n,n],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",n,n],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",n,n],[1,79,"Insert",19,"Insert",45,"VK_INSERT",n,n],[1,80,"Home",14,"Home",36,"VK_HOME",n,n],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",n,n],[1,82,"Delete",20,"Delete",46,"VK_DELETE",n,n],[1,83,"End",13,"End",35,"VK_END",n,n],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",n,n],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",n],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",n],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",n],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",n],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",n,n],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",n,n],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",n,n],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",n,n],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",n,n],[1,94,"NumpadEnter",3,n,0,n,n,n],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",n,n],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",n,n],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",n,n],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",n,n],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",n,n],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",n,n],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",n,n],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",n,n],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",n,n],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",n,n],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",n,n],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",n,n],[1,107,"ContextMenu",58,"ContextMenu",93,n,n,n],[1,108,"Power",0,n,0,n,n,n],[1,109,"NumpadEqual",0,n,0,n,n,n],[1,110,"F13",71,"F13",124,"VK_F13",n,n],[1,111,"F14",72,"F14",125,"VK_F14",n,n],[1,112,"F15",73,"F15",126,"VK_F15",n,n],[1,113,"F16",74,"F16",127,"VK_F16",n,n],[1,114,"F17",75,"F17",128,"VK_F17",n,n],[1,115,"F18",76,"F18",129,"VK_F18",n,n],[1,116,"F19",77,"F19",130,"VK_F19",n,n],[1,117,"F20",78,"F20",131,"VK_F20",n,n],[1,118,"F21",79,"F21",132,"VK_F21",n,n],[1,119,"F22",80,"F22",133,"VK_F22",n,n],[1,120,"F23",81,"F23",134,"VK_F23",n,n],[1,121,"F24",82,"F24",135,"VK_F24",n,n],[1,122,"Open",0,n,0,n,n,n],[1,123,"Help",0,n,0,n,n,n],[1,124,"Select",0,n,0,n,n,n],[1,125,"Again",0,n,0,n,n,n],[1,126,"Undo",0,n,0,n,n,n],[1,127,"Cut",0,n,0,n,n,n],[1,128,"Copy",0,n,0,n,n,n],[1,129,"Paste",0,n,0,n,n,n],[1,130,"Find",0,n,0,n,n,n],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",n,n],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",n,n],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",n,n],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",n,n],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",n,n],[1,136,"KanaMode",0,n,0,n,n,n],[0,137,"IntlYen",0,n,0,n,n,n],[1,138,"Convert",0,n,0,n,n,n],[1,139,"NonConvert",0,n,0,n,n,n],[1,140,"Lang1",0,n,0,n,n,n],[1,141,"Lang2",0,n,0,n,n,n],[1,142,"Lang3",0,n,0,n,n,n],[1,143,"Lang4",0,n,0,n,n,n],[1,144,"Lang5",0,n,0,n,n,n],[1,145,"Abort",0,n,0,n,n,n],[1,146,"Props",0,n,0,n,n,n],[1,147,"NumpadParenLeft",0,n,0,n,n,n],[1,148,"NumpadParenRight",0,n,0,n,n,n],[1,149,"NumpadBackspace",0,n,0,n,n,n],[1,150,"NumpadMemoryStore",0,n,0,n,n,n],[1,151,"NumpadMemoryRecall",0,n,0,n,n,n],[1,152,"NumpadMemoryClear",0,n,0,n,n,n],[1,153,"NumpadMemoryAdd",0,n,0,n,n,n],[1,154,"NumpadMemorySubtract",0,n,0,n,n,n],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",n,n],[1,156,"NumpadClearEntry",0,n,0,n,n,n],[1,0,n,5,"Ctrl",17,"VK_CONTROL",n,n],[1,0,n,4,"Shift",16,"VK_SHIFT",n,n],[1,0,n,6,"Alt",18,"VK_MENU",n,n],[1,0,n,57,"Meta",91,"VK_COMMAND",n,n],[1,157,"ControlLeft",5,n,0,"VK_LCONTROL",n,n],[1,158,"ShiftLeft",4,n,0,"VK_LSHIFT",n,n],[1,159,"AltLeft",6,n,0,"VK_LMENU",n,n],[1,160,"MetaLeft",57,n,0,"VK_LWIN",n,n],[1,161,"ControlRight",5,n,0,"VK_RCONTROL",n,n],[1,162,"ShiftRight",4,n,0,"VK_RSHIFT",n,n],[1,163,"AltRight",6,n,0,"VK_RMENU",n,n],[1,164,"MetaRight",57,n,0,"VK_RWIN",n,n],[1,165,"BrightnessUp",0,n,0,n,n,n],[1,166,"BrightnessDown",0,n,0,n,n,n],[1,167,"MediaPlay",0,n,0,n,n,n],[1,168,"MediaRecord",0,n,0,n,n,n],[1,169,"MediaFastForward",0,n,0,n,n,n],[1,170,"MediaRewind",0,n,0,n,n,n],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",n,n],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",n,n],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",n,n],[1,174,"Eject",0,n,0,n,n,n],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",n,n],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",n,n],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",n,n],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",n,n],[1,179,"LaunchApp1",0,n,0,"VK_MEDIA_LAUNCH_APP1",n,n],[1,180,"SelectTask",0,n,0,n,n,n],[1,181,"LaunchScreenSaver",0,n,0,n,n,n],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",n,n],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",n,n],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",n,n],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",n,n],[1,186,"BrowserStop",0,n,0,"VK_BROWSER_STOP",n,n],[1,187,"BrowserRefresh",0,n,0,"VK_BROWSER_REFRESH",n,n],[1,188,"BrowserFavorites",0,n,0,"VK_BROWSER_FAVORITES",n,n],[1,189,"ZoomToggle",0,n,0,n,n,n],[1,190,"MailReply",0,n,0,n,n,n],[1,191,"MailForward",0,n,0,n,n,n],[1,192,"MailSend",0,n,0,n,n,n],[1,0,n,114,"KeyInComposition",229,n,n,n],[1,0,n,116,"ABNT_C2",194,"VK_ABNT_C2",n,n],[1,0,n,96,"OEM_8",223,"VK_OEM_8",n,n],[1,0,n,0,n,0,"VK_KANA",n,n],[1,0,n,0,n,0,"VK_HANGUL",n,n],[1,0,n,0,n,0,"VK_JUNJA",n,n],[1,0,n,0,n,0,"VK_FINAL",n,n],[1,0,n,0,n,0,"VK_HANJA",n,n],[1,0,n,0,n,0,"VK_KANJI",n,n],[1,0,n,0,n,0,"VK_CONVERT",n,n],[1,0,n,0,n,0,"VK_NONCONVERT",n,n],[1,0,n,0,n,0,"VK_ACCEPT",n,n],[1,0,n,0,n,0,"VK_MODECHANGE",n,n],[1,0,n,0,n,0,"VK_SELECT",n,n],[1,0,n,0,n,0,"VK_PRINT",n,n],[1,0,n,0,n,0,"VK_EXECUTE",n,n],[1,0,n,0,n,0,"VK_SNAPSHOT",n,n],[1,0,n,0,n,0,"VK_HELP",n,n],[1,0,n,0,n,0,"VK_APPS",n,n],[1,0,n,0,n,0,"VK_PROCESSKEY",n,n],[1,0,n,0,n,0,"VK_PACKET",n,n],[1,0,n,0,n,0,"VK_DBE_SBCSCHAR",n,n],[1,0,n,0,n,0,"VK_DBE_DBCSCHAR",n,n],[1,0,n,0,n,0,"VK_ATTN",n,n],[1,0,n,0,n,0,"VK_CRSEL",n,n],[1,0,n,0,n,0,"VK_EXSEL",n,n],[1,0,n,0,n,0,"VK_EREOF",n,n],[1,0,n,0,n,0,"VK_PLAY",n,n],[1,0,n,0,n,0,"VK_ZOOM",n,n],[1,0,n,0,n,0,"VK_NONAME",n,n],[1,0,n,0,n,0,"VK_PA1",n,n],[1,0,n,0,n,0,"VK_OEM_CLEAR",n,n]],kt=[],jt=[];for(const Yt of ut){const[cn,un,Zt,Ht,hn,Wn,Tn,Qn,Vi]=Yt;if(jt[un]||(jt[un]=!0,B[un]=Zt,ae[Zt]=un,J[Zt.toLowerCase()]=un,cn&&(Z[un]=Ht,Ht!==0&&Ht!==3&&Ht!==5&&Ht!==4&&Ht!==6&&Ht!==57&&(y[Ht]=un))),!kt[Ht]){if(kt[Ht]=!0,!hn)throw new Error(`String representation missing for key code ${Ht} around scan code ${Zt}`);U.define(Ht,hn),I.define(Ht,Qn||hn),z.define(Ht,Vi||Qn||hn)}Wn&&(b[Wn]=Ht),Tn&&(_[Tn]=Ht)}y[3]=46})();var k;(function(n){function ut(Zt){return U.keyCodeToStr(Zt)}n.toString=ut;function kt(Zt){return U.strToKeyCode(Zt)}n.fromString=kt;function jt(Zt){return I.keyCodeToStr(Zt)}n.toUserSettingsUS=jt;function Yt(Zt){return z.keyCodeToStr(Zt)}n.toUserSettingsGeneral=Yt;function cn(Zt){return I.strToKeyCode(Zt)||z.strToKeyCode(Zt)}n.fromUserSettings=cn;function un(Zt){if(Zt>=98&&Zt<=113)return null;switch(Zt){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return U.keyCodeToStr(Zt)}n.toElectronAccelerator=un})(k||(k={}));function x(n,ut){const kt=(ut&65535)<<16>>>0;return(n|kt)>>>0}var g=N(9423),ue=N(2338),fe=N(8390),T=N(4360),S=N(3655),w;(function(n){n[n.Unknown=0]="Unknown",n[n.Disabled=1]="Disabled",n[n.Enabled=2]="Enabled"})(w||(w={}));var A;(function(n){n[n.Invoke=1]="Invoke",n[n.Auto=2]="Auto"})(A||(A={}));var M;(function(n){n[n.None=0]="None",n[n.KeepWhitespace=1]="KeepWhitespace",n[n.InsertAsSnippet=4]="InsertAsSnippet"})(M||(M={}));var C;(function(n){n[n.Method=0]="Method",n[n.Function=1]="Function",n[n.Constructor=2]="Constructor",n[n.Field=3]="Field",n[n.Variable=4]="Variable",n[n.Class=5]="Class",n[n.Struct=6]="Struct",n[n.Interface=7]="Interface",n[n.Module=8]="Module",n[n.Property=9]="Property",n[n.Event=10]="Event",n[n.Operator=11]="Operator",n[n.Unit=12]="Unit",n[n.Value=13]="Value",n[n.Constant=14]="Constant",n[n.Enum=15]="Enum",n[n.EnumMember=16]="EnumMember",n[n.Keyword=17]="Keyword",n[n.Text=18]="Text",n[n.Color=19]="Color",n[n.File=20]="File",n[n.Reference=21]="Reference",n[n.Customcolor=22]="Customcolor",n[n.Folder=23]="Folder",n[n.TypeParameter=24]="TypeParameter",n[n.User=25]="User",n[n.Issue=26]="Issue",n[n.Snippet=27]="Snippet"})(C||(C={}));var V;(function(n){n[n.Deprecated=1]="Deprecated"})(V||(V={}));var W;(function(n){n[n.Invoke=0]="Invoke",n[n.TriggerCharacter=1]="TriggerCharacter",n[n.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(W||(W={}));var j;(function(n){n[n.EXACT=0]="EXACT",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW"})(j||(j={}));var Q;(function(n){n[n.NotSet=0]="NotSet",n[n.ContentFlush=1]="ContentFlush",n[n.RecoverFromMarkers=2]="RecoverFromMarkers",n[n.Explicit=3]="Explicit",n[n.Paste=4]="Paste",n[n.Undo=5]="Undo",n[n.Redo=6]="Redo"})(Q||(Q={}));var ge;(function(n){n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(ge||(ge={}));var ne;(function(n){n[n.Text=0]="Text",n[n.Read=1]="Read",n[n.Write=2]="Write"})(ne||(ne={}));var X;(function(n){n[n.None=0]="None",n[n.Keep=1]="Keep",n[n.Brackets=2]="Brackets",n[n.Advanced=3]="Advanced",n[n.Full=4]="Full"})(X||(X={}));var G;(function(n){n[n.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",n[n.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",n[n.accessibilitySupport=2]="accessibilitySupport",n[n.accessibilityPageSize=3]="accessibilityPageSize",n[n.ariaLabel=4]="ariaLabel",n[n.ariaRequired=5]="ariaRequired",n[n.autoClosingBrackets=6]="autoClosingBrackets",n[n.autoClosingComments=7]="autoClosingComments",n[n.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",n[n.autoClosingDelete=9]="autoClosingDelete",n[n.autoClosingOvertype=10]="autoClosingOvertype",n[n.autoClosingQuotes=11]="autoClosingQuotes",n[n.autoIndent=12]="autoIndent",n[n.automaticLayout=13]="automaticLayout",n[n.autoSurround=14]="autoSurround",n[n.bracketPairColorization=15]="bracketPairColorization",n[n.guides=16]="guides",n[n.codeLens=17]="codeLens",n[n.codeLensFontFamily=18]="codeLensFontFamily",n[n.codeLensFontSize=19]="codeLensFontSize",n[n.colorDecorators=20]="colorDecorators",n[n.colorDecoratorsLimit=21]="colorDecoratorsLimit",n[n.columnSelection=22]="columnSelection",n[n.comments=23]="comments",n[n.contextmenu=24]="contextmenu",n[n.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",n[n.cursorBlinking=26]="cursorBlinking",n[n.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",n[n.cursorStyle=28]="cursorStyle",n[n.cursorSurroundingLines=29]="cursorSurroundingLines",n[n.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",n[n.cursorWidth=31]="cursorWidth",n[n.disableLayerHinting=32]="disableLayerHinting",n[n.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",n[n.domReadOnly=34]="domReadOnly",n[n.dragAndDrop=35]="dragAndDrop",n[n.dropIntoEditor=36]="dropIntoEditor",n[n.emptySelectionClipboard=37]="emptySelectionClipboard",n[n.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",n[n.extraEditorClassName=39]="extraEditorClassName",n[n.fastScrollSensitivity=40]="fastScrollSensitivity",n[n.find=41]="find",n[n.fixedOverflowWidgets=42]="fixedOverflowWidgets",n[n.folding=43]="folding",n[n.foldingStrategy=44]="foldingStrategy",n[n.foldingHighlight=45]="foldingHighlight",n[n.foldingImportsByDefault=46]="foldingImportsByDefault",n[n.foldingMaximumRegions=47]="foldingMaximumRegions",n[n.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",n[n.fontFamily=49]="fontFamily",n[n.fontInfo=50]="fontInfo",n[n.fontLigatures=51]="fontLigatures",n[n.fontSize=52]="fontSize",n[n.fontWeight=53]="fontWeight",n[n.fontVariations=54]="fontVariations",n[n.formatOnPaste=55]="formatOnPaste",n[n.formatOnType=56]="formatOnType",n[n.glyphMargin=57]="glyphMargin",n[n.gotoLocation=58]="gotoLocation",n[n.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",n[n.hover=60]="hover",n[n.inDiffEditor=61]="inDiffEditor",n[n.inlineSuggest=62]="inlineSuggest",n[n.inlineEdit=63]="inlineEdit",n[n.letterSpacing=64]="letterSpacing",n[n.lightbulb=65]="lightbulb",n[n.lineDecorationsWidth=66]="lineDecorationsWidth",n[n.lineHeight=67]="lineHeight",n[n.lineNumbers=68]="lineNumbers",n[n.lineNumbersMinChars=69]="lineNumbersMinChars",n[n.linkedEditing=70]="linkedEditing",n[n.links=71]="links",n[n.matchBrackets=72]="matchBrackets",n[n.minimap=73]="minimap",n[n.mouseStyle=74]="mouseStyle",n[n.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",n[n.mouseWheelZoom=76]="mouseWheelZoom",n[n.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",n[n.multiCursorModifier=78]="multiCursorModifier",n[n.multiCursorPaste=79]="multiCursorPaste",n[n.multiCursorLimit=80]="multiCursorLimit",n[n.occurrencesHighlight=81]="occurrencesHighlight",n[n.overviewRulerBorder=82]="overviewRulerBorder",n[n.overviewRulerLanes=83]="overviewRulerLanes",n[n.padding=84]="padding",n[n.pasteAs=85]="pasteAs",n[n.parameterHints=86]="parameterHints",n[n.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",n[n.placeholder=88]="placeholder",n[n.definitionLinkOpensInPeek=89]="definitionLinkOpensInPeek",n[n.quickSuggestions=90]="quickSuggestions",n[n.quickSuggestionsDelay=91]="quickSuggestionsDelay",n[n.readOnly=92]="readOnly",n[n.readOnlyMessage=93]="readOnlyMessage",n[n.renameOnType=94]="renameOnType",n[n.renderControlCharacters=95]="renderControlCharacters",n[n.renderFinalNewline=96]="renderFinalNewline",n[n.renderLineHighlight=97]="renderLineHighlight",n[n.renderLineHighlightOnlyWhenFocus=98]="renderLineHighlightOnlyWhenFocus",n[n.renderValidationDecorations=99]="renderValidationDecorations",n[n.renderWhitespace=100]="renderWhitespace",n[n.revealHorizontalRightPadding=101]="revealHorizontalRightPadding",n[n.roundedSelection=102]="roundedSelection",n[n.rulers=103]="rulers",n[n.scrollbar=104]="scrollbar",n[n.scrollBeyondLastColumn=105]="scrollBeyondLastColumn",n[n.scrollBeyondLastLine=106]="scrollBeyondLastLine",n[n.scrollPredominantAxis=107]="scrollPredominantAxis",n[n.selectionClipboard=108]="selectionClipboard",n[n.selectionHighlight=109]="selectionHighlight",n[n.selectOnLineNumbers=110]="selectOnLineNumbers",n[n.showFoldingControls=111]="showFoldingControls",n[n.showUnused=112]="showUnused",n[n.snippetSuggestions=113]="snippetSuggestions",n[n.smartSelect=114]="smartSelect",n[n.smoothScrolling=115]="smoothScrolling",n[n.stickyScroll=116]="stickyScroll",n[n.stickyTabStops=117]="stickyTabStops",n[n.stopRenderingLineAfter=118]="stopRenderingLineAfter",n[n.suggest=119]="suggest",n[n.suggestFontSize=120]="suggestFontSize",n[n.suggestLineHeight=121]="suggestLineHeight",n[n.suggestOnTriggerCharacters=122]="suggestOnTriggerCharacters",n[n.suggestSelection=123]="suggestSelection",n[n.tabCompletion=124]="tabCompletion",n[n.tabIndex=125]="tabIndex",n[n.unicodeHighlighting=126]="unicodeHighlighting",n[n.unusualLineTerminators=127]="unusualLineTerminators",n[n.useShadowDOM=128]="useShadowDOM",n[n.useTabStops=129]="useTabStops",n[n.wordBreak=130]="wordBreak",n[n.wordSegmenterLocales=131]="wordSegmenterLocales",n[n.wordSeparators=132]="wordSeparators",n[n.wordWrap=133]="wordWrap",n[n.wordWrapBreakAfterCharacters=134]="wordWrapBreakAfterCharacters",n[n.wordWrapBreakBeforeCharacters=135]="wordWrapBreakBeforeCharacters",n[n.wordWrapColumn=136]="wordWrapColumn",n[n.wordWrapOverride1=137]="wordWrapOverride1",n[n.wordWrapOverride2=138]="wordWrapOverride2",n[n.wrappingIndent=139]="wrappingIndent",n[n.wrappingStrategy=140]="wrappingStrategy",n[n.showDeprecated=141]="showDeprecated",n[n.inlayHints=142]="inlayHints",n[n.editorClassName=143]="editorClassName",n[n.pixelRatio=144]="pixelRatio",n[n.tabFocusMode=145]="tabFocusMode",n[n.layoutInfo=146]="layoutInfo",n[n.wrappingInfo=147]="wrappingInfo",n[n.defaultColorDecorators=148]="defaultColorDecorators",n[n.colorDecoratorsActivatedOn=149]="colorDecoratorsActivatedOn",n[n.inlineCompletionsAccessibilityVerbose=150]="inlineCompletionsAccessibilityVerbose"})(G||(G={}));var ie;(function(n){n[n.TextDefined=0]="TextDefined",n[n.LF=1]="LF",n[n.CRLF=2]="CRLF"})(ie||(ie={}));var se;(function(n){n[n.LF=0]="LF",n[n.CRLF=1]="CRLF"})(se||(se={}));var Me;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=3]="Right"})(Me||(Me={}));var He;(function(n){n[n.Increase=0]="Increase",n[n.Decrease=1]="Decrease"})(He||(He={}));var Te;(function(n){n[n.None=0]="None",n[n.Indent=1]="Indent",n[n.IndentOutdent=2]="IndentOutdent",n[n.Outdent=3]="Outdent"})(Te||(Te={}));var ve;(function(n){n[n.Both=0]="Both",n[n.Right=1]="Right",n[n.Left=2]="Left",n[n.None=3]="None"})(ve||(ve={}));var P;(function(n){n[n.Type=1]="Type",n[n.Parameter=2]="Parameter"})(P||(P={}));var ee;(function(n){n[n.Automatic=0]="Automatic",n[n.Explicit=1]="Explicit"})(ee||(ee={}));var xe;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(xe||(xe={}));var Fe;(function(n){n[n.DependsOnKbLayout=-1]="DependsOnKbLayout",n[n.Unknown=0]="Unknown",n[n.Backspace=1]="Backspace",n[n.Tab=2]="Tab",n[n.Enter=3]="Enter",n[n.Shift=4]="Shift",n[n.Ctrl=5]="Ctrl",n[n.Alt=6]="Alt",n[n.PauseBreak=7]="PauseBreak",n[n.CapsLock=8]="CapsLock",n[n.Escape=9]="Escape",n[n.Space=10]="Space",n[n.PageUp=11]="PageUp",n[n.PageDown=12]="PageDown",n[n.End=13]="End",n[n.Home=14]="Home",n[n.LeftArrow=15]="LeftArrow",n[n.UpArrow=16]="UpArrow",n[n.RightArrow=17]="RightArrow",n[n.DownArrow=18]="DownArrow",n[n.Insert=19]="Insert",n[n.Delete=20]="Delete",n[n.Digit0=21]="Digit0",n[n.Digit1=22]="Digit1",n[n.Digit2=23]="Digit2",n[n.Digit3=24]="Digit3",n[n.Digit4=25]="Digit4",n[n.Digit5=26]="Digit5",n[n.Digit6=27]="Digit6",n[n.Digit7=28]="Digit7",n[n.Digit8=29]="Digit8",n[n.Digit9=30]="Digit9",n[n.KeyA=31]="KeyA",n[n.KeyB=32]="KeyB",n[n.KeyC=33]="KeyC",n[n.KeyD=34]="KeyD",n[n.KeyE=35]="KeyE",n[n.KeyF=36]="KeyF",n[n.KeyG=37]="KeyG",n[n.KeyH=38]="KeyH",n[n.KeyI=39]="KeyI",n[n.KeyJ=40]="KeyJ",n[n.KeyK=41]="KeyK",n[n.KeyL=42]="KeyL",n[n.KeyM=43]="KeyM",n[n.KeyN=44]="KeyN",n[n.KeyO=45]="KeyO",n[n.KeyP=46]="KeyP",n[n.KeyQ=47]="KeyQ",n[n.KeyR=48]="KeyR",n[n.KeyS=49]="KeyS",n[n.KeyT=50]="KeyT",n[n.KeyU=51]="KeyU",n[n.KeyV=52]="KeyV",n[n.KeyW=53]="KeyW",n[n.KeyX=54]="KeyX",n[n.KeyY=55]="KeyY",n[n.KeyZ=56]="KeyZ",n[n.Meta=57]="Meta",n[n.ContextMenu=58]="ContextMenu",n[n.F1=59]="F1",n[n.F2=60]="F2",n[n.F3=61]="F3",n[n.F4=62]="F4",n[n.F5=63]="F5",n[n.F6=64]="F6",n[n.F7=65]="F7",n[n.F8=66]="F8",n[n.F9=67]="F9",n[n.F10=68]="F10",n[n.F11=69]="F11",n[n.F12=70]="F12",n[n.F13=71]="F13",n[n.F14=72]="F14",n[n.F15=73]="F15",n[n.F16=74]="F16",n[n.F17=75]="F17",n[n.F18=76]="F18",n[n.F19=77]="F19",n[n.F20=78]="F20",n[n.F21=79]="F21",n[n.F22=80]="F22",n[n.F23=81]="F23",n[n.F24=82]="F24",n[n.NumLock=83]="NumLock",n[n.ScrollLock=84]="ScrollLock",n[n.Semicolon=85]="Semicolon",n[n.Equal=86]="Equal",n[n.Comma=87]="Comma",n[n.Minus=88]="Minus",n[n.Period=89]="Period",n[n.Slash=90]="Slash",n[n.Backquote=91]="Backquote",n[n.BracketLeft=92]="BracketLeft",n[n.Backslash=93]="Backslash",n[n.BracketRight=94]="BracketRight",n[n.Quote=95]="Quote",n[n.OEM_8=96]="OEM_8",n[n.IntlBackslash=97]="IntlBackslash",n[n.Numpad0=98]="Numpad0",n[n.Numpad1=99]="Numpad1",n[n.Numpad2=100]="Numpad2",n[n.Numpad3=101]="Numpad3",n[n.Numpad4=102]="Numpad4",n[n.Numpad5=103]="Numpad5",n[n.Numpad6=104]="Numpad6",n[n.Numpad7=105]="Numpad7",n[n.Numpad8=106]="Numpad8",n[n.Numpad9=107]="Numpad9",n[n.NumpadMultiply=108]="NumpadMultiply",n[n.NumpadAdd=109]="NumpadAdd",n[n.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",n[n.NumpadSubtract=111]="NumpadSubtract",n[n.NumpadDecimal=112]="NumpadDecimal",n[n.NumpadDivide=113]="NumpadDivide",n[n.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",n[n.ABNT_C1=115]="ABNT_C1",n[n.ABNT_C2=116]="ABNT_C2",n[n.AudioVolumeMute=117]="AudioVolumeMute",n[n.AudioVolumeUp=118]="AudioVolumeUp",n[n.AudioVolumeDown=119]="AudioVolumeDown",n[n.BrowserSearch=120]="BrowserSearch",n[n.BrowserHome=121]="BrowserHome",n[n.BrowserBack=122]="BrowserBack",n[n.BrowserForward=123]="BrowserForward",n[n.MediaTrackNext=124]="MediaTrackNext",n[n.MediaTrackPrevious=125]="MediaTrackPrevious",n[n.MediaStop=126]="MediaStop",n[n.MediaPlayPause=127]="MediaPlayPause",n[n.LaunchMediaPlayer=128]="LaunchMediaPlayer",n[n.LaunchMail=129]="LaunchMail",n[n.LaunchApp2=130]="LaunchApp2",n[n.Clear=131]="Clear",n[n.MAX_VALUE=132]="MAX_VALUE"})(Fe||(Fe={}));var Ue;(function(n){n[n.Hint=1]="Hint",n[n.Info=2]="Info",n[n.Warning=4]="Warning",n[n.Error=8]="Error"})(Ue||(Ue={}));var qe;(function(n){n[n.Unnecessary=1]="Unnecessary",n[n.Deprecated=2]="Deprecated"})(qe||(qe={}));var Ge;(function(n){n[n.Inline=1]="Inline",n[n.Gutter=2]="Gutter"})(Ge||(Ge={}));var We;(function(n){n[n.Normal=1]="Normal",n[n.Underlined=2]="Underlined"})(We||(We={}));var bt;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.TEXTAREA=1]="TEXTAREA",n[n.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",n[n.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",n[n.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",n[n.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",n[n.CONTENT_TEXT=6]="CONTENT_TEXT",n[n.CONTENT_EMPTY=7]="CONTENT_EMPTY",n[n.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",n[n.CONTENT_WIDGET=9]="CONTENT_WIDGET",n[n.OVERVIEW_RULER=10]="OVERVIEW_RULER",n[n.SCROLLBAR=11]="SCROLLBAR",n[n.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",n[n.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(bt||(bt={}));var tt;(function(n){n[n.AIGenerated=1]="AIGenerated"})(tt||(tt={}));var ot;(function(n){n[n.Invoke=0]="Invoke",n[n.Automatic=1]="Automatic"})(ot||(ot={}));var lt;(function(n){n[n.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",n[n.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",n[n.TOP_CENTER=2]="TOP_CENTER"})(lt||(lt={}));var Dt;(function(n){n[n.Left=1]="Left",n[n.Center=2]="Center",n[n.Right=4]="Right",n[n.Full=7]="Full"})(Dt||(Dt={}));var nn;(function(n){n[n.Word=0]="Word",n[n.Line=1]="Line",n[n.Suggest=2]="Suggest"})(nn||(nn={}));var le;(function(n){n[n.Left=0]="Left",n[n.Right=1]="Right",n[n.None=2]="None",n[n.LeftOfInjectedText=3]="LeftOfInjectedText",n[n.RightOfInjectedText=4]="RightOfInjectedText"})(le||(le={}));var D;(function(n){n[n.Off=0]="Off",n[n.On=1]="On",n[n.Relative=2]="Relative",n[n.Interval=3]="Interval",n[n.Custom=4]="Custom"})(D||(D={}));var F;(function(n){n[n.None=0]="None",n[n.Text=1]="Text",n[n.Blocks=2]="Blocks"})(F||(F={}));var ke;(function(n){n[n.Smooth=0]="Smooth",n[n.Immediate=1]="Immediate"})(ke||(ke={}));var je;(function(n){n[n.Auto=1]="Auto",n[n.Hidden=2]="Hidden",n[n.Visible=3]="Visible"})(je||(je={}));var Ye;(function(n){n[n.LTR=0]="LTR",n[n.RTL=1]="RTL"})(Ye||(Ye={}));var ht;(function(n){n.Off="off",n.OnCode="onCode",n.On="on"})(ht||(ht={}));var mt;(function(n){n[n.Invoke=1]="Invoke",n[n.TriggerCharacter=2]="TriggerCharacter",n[n.ContentChange=3]="ContentChange"})(mt||(mt={}));var st;(function(n){n[n.File=0]="File",n[n.Module=1]="Module",n[n.Namespace=2]="Namespace",n[n.Package=3]="Package",n[n.Class=4]="Class",n[n.Method=5]="Method",n[n.Property=6]="Property",n[n.Field=7]="Field",n[n.Constructor=8]="Constructor",n[n.Enum=9]="Enum",n[n.Interface=10]="Interface",n[n.Function=11]="Function",n[n.Variable=12]="Variable",n[n.Constant=13]="Constant",n[n.String=14]="String",n[n.Number=15]="Number",n[n.Boolean=16]="Boolean",n[n.Array=17]="Array",n[n.Object=18]="Object",n[n.Key=19]="Key",n[n.Null=20]="Null",n[n.EnumMember=21]="EnumMember",n[n.Struct=22]="Struct",n[n.Event=23]="Event",n[n.Operator=24]="Operator",n[n.TypeParameter=25]="TypeParameter"})(st||(st={}));var _t;(function(n){n[n.Deprecated=1]="Deprecated"})(_t||(_t={}));var Ct;(function(n){n[n.Hidden=0]="Hidden",n[n.Blink=1]="Blink",n[n.Smooth=2]="Smooth",n[n.Phase=3]="Phase",n[n.Expand=4]="Expand",n[n.Solid=5]="Solid"})(Ct||(Ct={}));var Lt;(function(n){n[n.Line=1]="Line",n[n.Block=2]="Block",n[n.Underline=3]="Underline",n[n.LineThin=4]="LineThin",n[n.BlockOutline=5]="BlockOutline",n[n.UnderlineThin=6]="UnderlineThin"})(Lt||(Lt={}));var Rt;(function(n){n[n.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",n[n.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",n[n.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",n[n.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(Rt||(Rt={}));var pt;(function(n){n[n.None=0]="None",n[n.Same=1]="Same",n[n.Indent=2]="Indent",n[n.DeepIndent=3]="DeepIndent"})(pt||(pt={}));const Be=class Be{static chord(ut,kt){return x(ut,kt)}};Be.CtrlCmd=2048,Be.Shift=1024,Be.Alt=512,Be.WinCtrl=256;let m=Be;function H(){return{editor:void 0,languages:void 0,CancellationTokenSource:O.AU,Emitter:K.Q5,KeyCode:Fe,KeyMod:m,Position:ue.L,Range:fe.e,Selection:T.Y,SelectionDirection:Ye,MarkerSeverity:Ue,MarkerTag:qe,Uri:g.o,Token:S.WU}}},1945:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{BaseEditorSimpleWorker:function(){return Wi},EditorSimpleWorker:function(){return fi},create:function(){return lr}});class O{constructor(u,v,$,re){this.originalStart=u,this.originalLength=v,this.modifiedStart=$,this.modifiedLength=re}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var K=N(3849);class o{constructor(u){this.source=u}getElements(){const u=this.source,v=new Int32Array(u.length);for(let $=0,re=u.length;$<re;$++)v[$]=u.charCodeAt($);return v}}function U(Ne,u,v){return new _(new o(Ne),new o(u)).ComputeDiff(v).changes}class I{static Assert(u,v){if(!u)throw new Error(v)}}class z{static Copy(u,v,$,re,he){for(let Le=0;Le<he;Le++)$[re+Le]=u[v+Le]}static Copy2(u,v,$,re,he){for(let Le=0;Le<he;Le++)$[re+Le]=u[v+Le]}}class b{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new O(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(u,v){this.m_originalStart=Math.min(this.m_originalStart,u),this.m_modifiedStart=Math.min(this.m_modifiedStart,v),this.m_originalCount++}AddModifiedElement(u,v){this.m_originalStart=Math.min(this.m_originalStart,u),this.m_modifiedStart=Math.min(this.m_modifiedStart,v),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class _{constructor(u,v,$=null){this.ContinueProcessingPredicate=$,this._originalSequence=u,this._modifiedSequence=v;const[re,he,Le]=_._getElements(u),[De,be,Ae]=_._getElements(v);this._hasStrings=Le&&Ae,this._originalStringElements=re,this._originalElementsOrHash=he,this._modifiedStringElements=De,this._modifiedElementsOrHash=be,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(u){return u.length>0&&typeof u[0]=="string"}static _getElements(u){const v=u.getElements();if(_._isStringArray(v)){const $=new Int32Array(v.length);for(let re=0,he=v.length;re<he;re++)$[re]=(0,K.Cv)(v[re],0);return[v,$,!0]}return v instanceof Int32Array?[[],v,!1]:[[],new Int32Array(v),!1]}ElementsAreEqual(u,v){return this._originalElementsOrHash[u]!==this._modifiedElementsOrHash[v]?!1:this._hasStrings?this._originalStringElements[u]===this._modifiedStringElements[v]:!0}ElementsAreStrictEqual(u,v){if(!this.ElementsAreEqual(u,v))return!1;const $=_._getStrictElement(this._originalSequence,u),re=_._getStrictElement(this._modifiedSequence,v);return $===re}static _getStrictElement(u,v){return typeof u.getStrictElement=="function"?u.getStrictElement(v):null}OriginalElementsAreEqual(u,v){return this._originalElementsOrHash[u]!==this._originalElementsOrHash[v]?!1:this._hasStrings?this._originalStringElements[u]===this._originalStringElements[v]:!0}ModifiedElementsAreEqual(u,v){return this._modifiedElementsOrHash[u]!==this._modifiedElementsOrHash[v]?!1:this._hasStrings?this._modifiedStringElements[u]===this._modifiedStringElements[v]:!0}ComputeDiff(u){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,u)}_ComputeDiff(u,v,$,re,he){const Le=[!1];let De=this.ComputeDiffRecursive(u,v,$,re,Le);return he&&(De=this.PrettifyChanges(De)),{quitEarly:Le[0],changes:De}}ComputeDiffRecursive(u,v,$,re,he){for(he[0]=!1;u<=v&&$<=re&&this.ElementsAreEqual(u,$);)u++,$++;for(;v>=u&&re>=$&&this.ElementsAreEqual(v,re);)v--,re--;if(u>v||$>re){let Ze;return $<=re?(I.Assert(u===v+1,"originalStart should only be one more than originalEnd"),Ze=[new O(u,0,$,re-$+1)]):u<=v?(I.Assert($===re+1,"modifiedStart should only be one more than modifiedEnd"),Ze=[new O(u,v-u+1,$,0)]):(I.Assert(u===v+1,"originalStart should only be one more than originalEnd"),I.Assert($===re+1,"modifiedStart should only be one more than modifiedEnd"),Ze=[]),Ze}const Le=[0],De=[0],be=this.ComputeRecursionPoint(u,v,$,re,Le,De,he),Ae=Le[0],Ke=De[0];if(be!==null)return be;if(!he[0]){const Ze=this.ComputeDiffRecursive(u,Ae,$,Ke,he);let _e=[];return he[0]?_e=[new O(Ae+1,v-(Ae+1)+1,Ke+1,re-(Ke+1)+1)]:_e=this.ComputeDiffRecursive(Ae+1,v,Ke+1,re,he),this.ConcatenateChanges(Ze,_e)}return[new O(u,v-u+1,$,re-$+1)]}WALKTRACE(u,v,$,re,he,Le,De,be,Ae,Ke,Ze,_e,at,ct,xt,Tt,zt,Gt){let Ft=null,qt=null,Ot=new b,Kt=v,en=$,Wt=at[0]-Tt[0]-re,Nn=-1073741824,Hn=this.m_forwardHistory.length-1;do{const mn=Wt+u;mn===Kt||mn<en&&Ae[mn-1]<Ae[mn+1]?(Ze=Ae[mn+1],ct=Ze-Wt-re,Ze<Nn&&Ot.MarkNextChange(),Nn=Ze,Ot.AddModifiedElement(Ze+1,ct),Wt=mn+1-u):(Ze=Ae[mn-1]+1,ct=Ze-Wt-re,Ze<Nn&&Ot.MarkNextChange(),Nn=Ze-1,Ot.AddOriginalElement(Ze,ct+1),Wt=mn-1-u),Hn>=0&&(Ae=this.m_forwardHistory[Hn],u=Ae[0],Kt=1,en=Ae.length-1)}while(--Hn>=-1);if(Ft=Ot.getReverseChanges(),Gt[0]){let mn=at[0]+1,on=Tt[0]+1;if(Ft!==null&&Ft.length>0){const ai=Ft[Ft.length-1];mn=Math.max(mn,ai.getOriginalEnd()),on=Math.max(on,ai.getModifiedEnd())}qt=[new O(mn,_e-mn+1,on,xt-on+1)]}else{Ot=new b,Kt=Le,en=De,Wt=at[0]-Tt[0]-be,Nn=1073741824,Hn=zt?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const mn=Wt+he;mn===Kt||mn<en&&Ke[mn-1]>=Ke[mn+1]?(Ze=Ke[mn+1]-1,ct=Ze-Wt-be,Ze>Nn&&Ot.MarkNextChange(),Nn=Ze+1,Ot.AddOriginalElement(Ze+1,ct+1),Wt=mn+1-he):(Ze=Ke[mn-1],ct=Ze-Wt-be,Ze>Nn&&Ot.MarkNextChange(),Nn=Ze,Ot.AddModifiedElement(Ze+1,ct+1),Wt=mn-1-he),Hn>=0&&(Ke=this.m_reverseHistory[Hn],he=Ke[0],Kt=1,en=Ke.length-1)}while(--Hn>=-1);qt=Ot.getChanges()}return this.ConcatenateChanges(Ft,qt)}ComputeRecursionPoint(u,v,$,re,he,Le,De){let be=0,Ae=0,Ke=0,Ze=0,_e=0,at=0;u--,$--,he[0]=0,Le[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const ct=v-u+(re-$),xt=ct+1,Tt=new Int32Array(xt),zt=new Int32Array(xt),Gt=re-$,Ft=v-u,qt=u-$,Ot=v-re,en=(Ft-Gt)%2===0;Tt[Gt]=u,zt[Ft]=v,De[0]=!1;for(let Wt=1;Wt<=ct/2+1;Wt++){let Nn=0,Hn=0;Ke=this.ClipDiagonalBound(Gt-Wt,Wt,Gt,xt),Ze=this.ClipDiagonalBound(Gt+Wt,Wt,Gt,xt);for(let on=Ke;on<=Ze;on+=2){on===Ke||on<Ze&&Tt[on-1]<Tt[on+1]?be=Tt[on+1]:be=Tt[on-1]+1,Ae=be-(on-Gt)-qt;const ai=be;for(;be<v&&Ae<re&&this.ElementsAreEqual(be+1,Ae+1);)be++,Ae++;if(Tt[on]=be,be+Ae>Nn+Hn&&(Nn=be,Hn=Ae),!en&&Math.abs(on-Ft)<=Wt-1&&be>=zt[on])return he[0]=be,Le[0]=Ae,ai<=zt[on]&&Wt<=1448?this.WALKTRACE(Gt,Ke,Ze,qt,Ft,_e,at,Ot,Tt,zt,be,v,he,Ae,re,Le,en,De):null}const mn=(Nn-u+(Hn-$)-Wt)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(Nn,mn))return De[0]=!0,he[0]=Nn,Le[0]=Hn,mn>0&&Wt<=1448?this.WALKTRACE(Gt,Ke,Ze,qt,Ft,_e,at,Ot,Tt,zt,be,v,he,Ae,re,Le,en,De):(u++,$++,[new O(u,v-u+1,$,re-$+1)]);_e=this.ClipDiagonalBound(Ft-Wt,Wt,Ft,xt),at=this.ClipDiagonalBound(Ft+Wt,Wt,Ft,xt);for(let on=_e;on<=at;on+=2){on===_e||on<at&&zt[on-1]>=zt[on+1]?be=zt[on+1]-1:be=zt[on-1],Ae=be-(on-Ft)-Ot;const ai=be;for(;be>u&&Ae>$&&this.ElementsAreEqual(be,Ae);)be--,Ae--;if(zt[on]=be,en&&Math.abs(on-Gt)<=Wt&&be<=Tt[on])return he[0]=be,Le[0]=Ae,ai>=Tt[on]&&Wt<=1448?this.WALKTRACE(Gt,Ke,Ze,qt,Ft,_e,at,Ot,Tt,zt,be,v,he,Ae,re,Le,en,De):null}if(Wt<=1447){let on=new Int32Array(Ze-Ke+2);on[0]=Gt-Ke+1,z.Copy2(Tt,Ke,on,1,Ze-Ke+1),this.m_forwardHistory.push(on),on=new Int32Array(at-_e+2),on[0]=Ft-_e+1,z.Copy2(zt,_e,on,1,at-_e+1),this.m_reverseHistory.push(on)}}return this.WALKTRACE(Gt,Ke,Ze,qt,Ft,_e,at,Ot,Tt,zt,be,v,he,Ae,re,Le,en,De)}PrettifyChanges(u){for(let v=0;v<u.length;v++){const $=u[v],re=v<u.length-1?u[v+1].originalStart:this._originalElementsOrHash.length,he=v<u.length-1?u[v+1].modifiedStart:this._modifiedElementsOrHash.length,Le=$.originalLength>0,De=$.modifiedLength>0;for(;$.originalStart+$.originalLength<re&&$.modifiedStart+$.modifiedLength<he&&(!Le||this.OriginalElementsAreEqual($.originalStart,$.originalStart+$.originalLength))&&(!De||this.ModifiedElementsAreEqual($.modifiedStart,$.modifiedStart+$.modifiedLength));){const Ae=this.ElementsAreStrictEqual($.originalStart,$.modifiedStart);if(this.ElementsAreStrictEqual($.originalStart+$.originalLength,$.modifiedStart+$.modifiedLength)&&!Ae)break;$.originalStart++,$.modifiedStart++}const be=[null];if(v<u.length-1&&this.ChangesOverlap(u[v],u[v+1],be)){u[v]=be[0],u.splice(v+1,1),v--;continue}}for(let v=u.length-1;v>=0;v--){const $=u[v];let re=0,he=0;if(v>0){const Ze=u[v-1];re=Ze.originalStart+Ze.originalLength,he=Ze.modifiedStart+Ze.modifiedLength}const Le=$.originalLength>0,De=$.modifiedLength>0;let be=0,Ae=this._boundaryScore($.originalStart,$.originalLength,$.modifiedStart,$.modifiedLength);for(let Ze=1;;Ze++){const _e=$.originalStart-Ze,at=$.modifiedStart-Ze;if(_e<re||at<he||Le&&!this.OriginalElementsAreEqual(_e,_e+$.originalLength)||De&&!this.ModifiedElementsAreEqual(at,at+$.modifiedLength))break;const xt=(_e===re&&at===he?5:0)+this._boundaryScore(_e,$.originalLength,at,$.modifiedLength);xt>Ae&&(Ae=xt,be=Ze)}$.originalStart-=be,$.modifiedStart-=be;const Ke=[null];if(v>0&&this.ChangesOverlap(u[v-1],u[v],Ke)){u[v-1]=Ke[0],u.splice(v,1),v++;continue}}if(this._hasStrings)for(let v=1,$=u.length;v<$;v++){const re=u[v-1],he=u[v],Le=he.originalStart-re.originalStart-re.originalLength,De=re.originalStart,be=he.originalStart+he.originalLength,Ae=be-De,Ke=re.modifiedStart,Ze=he.modifiedStart+he.modifiedLength,_e=Ze-Ke;if(Le<5&&Ae<20&&_e<20){const at=this._findBetterContiguousSequence(De,Ae,Ke,_e,Le);if(at){const[ct,xt]=at;(ct!==re.originalStart+re.originalLength||xt!==re.modifiedStart+re.modifiedLength)&&(re.originalLength=ct-re.originalStart,re.modifiedLength=xt-re.modifiedStart,he.originalStart=ct+Le,he.modifiedStart=xt+Le,he.originalLength=be-he.originalStart,he.modifiedLength=Ze-he.modifiedStart)}}}return u}_findBetterContiguousSequence(u,v,$,re,he){if(v<he||re<he)return null;const Le=u+v-he+1,De=$+re-he+1;let be=0,Ae=0,Ke=0;for(let Ze=u;Ze<Le;Ze++)for(let _e=$;_e<De;_e++){const at=this._contiguousSequenceScore(Ze,_e,he);at>0&&at>be&&(be=at,Ae=Ze,Ke=_e)}return be>0?[Ae,Ke]:null}_contiguousSequenceScore(u,v,$){let re=0;for(let he=0;he<$;he++){if(!this.ElementsAreEqual(u+he,v+he))return 0;re+=this._originalStringElements[u+he].length}return re}_OriginalIsBoundary(u){return u<=0||u>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[u])}_OriginalRegionIsBoundary(u,v){if(this._OriginalIsBoundary(u)||this._OriginalIsBoundary(u-1))return!0;if(v>0){const $=u+v;if(this._OriginalIsBoundary($-1)||this._OriginalIsBoundary($))return!0}return!1}_ModifiedIsBoundary(u){return u<=0||u>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[u])}_ModifiedRegionIsBoundary(u,v){if(this._ModifiedIsBoundary(u)||this._ModifiedIsBoundary(u-1))return!0;if(v>0){const $=u+v;if(this._ModifiedIsBoundary($-1)||this._ModifiedIsBoundary($))return!0}return!1}_boundaryScore(u,v,$,re){const he=this._OriginalRegionIsBoundary(u,v)?1:0,Le=this._ModifiedRegionIsBoundary($,re)?1:0;return he+Le}ConcatenateChanges(u,v){const $=[];if(u.length===0||v.length===0)return v.length>0?v:u;if(this.ChangesOverlap(u[u.length-1],v[0],$)){const re=new Array(u.length+v.length-1);return z.Copy(u,0,re,0,u.length-1),re[u.length-1]=$[0],z.Copy(v,1,re,u.length,v.length-1),re}else{const re=new Array(u.length+v.length);return z.Copy(u,0,re,0,u.length),z.Copy(v,0,re,u.length,v.length),re}}ChangesOverlap(u,v,$){if(I.Assert(u.originalStart<=v.originalStart,"Left change is not less than or equal to right change"),I.Assert(u.modifiedStart<=v.modifiedStart,"Left change is not less than or equal to right change"),u.originalStart+u.originalLength>=v.originalStart||u.modifiedStart+u.modifiedLength>=v.modifiedStart){const re=u.originalStart;let he=u.originalLength;const Le=u.modifiedStart;let De=u.modifiedLength;return u.originalStart+u.originalLength>=v.originalStart&&(he=v.originalStart+v.originalLength-u.originalStart),u.modifiedStart+u.modifiedLength>=v.modifiedStart&&(De=v.modifiedStart+v.modifiedLength-u.modifiedStart),$[0]=new O(re,he,Le,De),!0}else return $[0]=null,!1}ClipDiagonalBound(u,v,$,re){if(u>=0&&u<re)return u;const he=$,Le=re-$-1,De=v%2===0;if(u<0){const be=he%2===0;return De===be?0:1}else{const be=Le%2===0;return De===be?re-1:re-2}}}var B=N(8390),ae=N(5670);class J{constructor(u,v,$){const re=new Uint8Array(u*v);for(let he=0,Le=u*v;he<Le;he++)re[he]=$;this._data=re,this.rows=u,this.cols=v}get(u,v){return this._data[u*this.cols+v]}set(u,v,$){this._data[u*this.cols+v]=$}}class Z{constructor(u){let v=0,$=0;for(let he=0,Le=u.length;he<Le;he++){const[De,be,Ae]=u[he];be>v&&(v=be),De>$&&($=De),Ae>$&&($=Ae)}v++,$++;const re=new J($,v,0);for(let he=0,Le=u.length;he<Le;he++){const[De,be,Ae]=u[he];re.set(De,be,Ae)}this._states=re,this._maxCharCode=v}nextState(u,v){return v<0||v>=this._maxCharCode?0:this._states.get(u,v)}}let y=null;function k(){return y===null&&(y=new Z([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),y}let x=null;function g(){if(x===null){x=new ae.N(0);const Ne=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let v=0;v<Ne.length;v++)x.set(Ne.charCodeAt(v),1);const u=".,;:";for(let v=0;v<u.length;v++)x.set(u.charCodeAt(v),2)}return x}class ue{static _createLink(u,v,$,re,he){let Le=he-1;do{const De=v.charCodeAt(Le);if(u.get(De)!==2)break;Le--}while(Le>re);if(re>0){const De=v.charCodeAt(re-1),be=v.charCodeAt(Le);(De===40&&be===41||De===91&&be===93||De===123&&be===125)&&Le--}return{range:{startLineNumber:$,startColumn:re+1,endLineNumber:$,endColumn:Le+2},url:v.substring(re,Le+1)}}static computeLinks(u,v=k()){const $=g(),re=[];for(let he=1,Le=u.getLineCount();he<=Le;he++){const De=u.getLineContent(he),be=De.length;let Ae=0,Ke=0,Ze=0,_e=1,at=!1,ct=!1,xt=!1,Tt=!1;for(;Ae<be;){let zt=!1;const Gt=De.charCodeAt(Ae);if(_e===13){let Ft;switch(Gt){case 40:at=!0,Ft=0;break;case 41:Ft=at?0:1;break;case 91:xt=!0,ct=!0,Ft=0;break;case 93:xt=!1,Ft=ct?0:1;break;case 123:Tt=!0,Ft=0;break;case 125:Ft=Tt?0:1;break;case 39:case 34:case 96:Ze===Gt?Ft=1:Ze===39||Ze===34||Ze===96?Ft=0:Ft=1;break;case 42:Ft=Ze===42?1:0;break;case 124:Ft=Ze===124?1:0;break;case 32:Ft=xt?0:1;break;default:Ft=$.get(Gt)}Ft===1&&(re.push(ue._createLink($,De,he,Ke,Ae)),zt=!0)}else if(_e===12){let Ft;Gt===91?(ct=!0,Ft=0):Ft=$.get(Gt),Ft===1?zt=!0:_e=13}else _e=v.nextState(_e,Gt),_e===0&&(zt=!0);zt&&(_e=1,at=!1,ct=!1,Tt=!1,Ke=Ae+1,Ze=Gt),Ae++}_e===13&&re.push(ue._createLink($,De,he,Ke,be))}return re}}function fe(Ne){return!Ne||typeof Ne.getLineCount!="function"||typeof Ne.getLineContent!="function"?[]:ue.computeLinks(Ne)}const ji=class ji{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(u,v,$,re,he){if(u&&v){const Le=this.doNavigateValueSet(v,he);if(Le)return{range:u,value:Le}}if($&&re){const Le=this.doNavigateValueSet(re,he);if(Le)return{range:$,value:Le}}return null}doNavigateValueSet(u,v){const $=this.numberReplace(u,v);return $!==null?$:this.textReplace(u,v)}numberReplace(u,v){const $=Math.pow(10,u.length-(u.lastIndexOf(".")+1));let re=Number(u);const he=parseFloat(u);return!isNaN(re)&&!isNaN(he)&&re===he?re===0&&!v?null:(re=Math.floor(re*$),re+=v?$:-$,String(re/$)):null}textReplace(u,v){return this.valueSetsReplace(this._defaultValueSet,u,v)}valueSetsReplace(u,v,$){let re=null;for(let he=0,Le=u.length;re===null&&he<Le;he++)re=this.valueSetReplace(u[he],v,$);return re}valueSetReplace(u,v,$){let re=u.indexOf(v);return re>=0?(re+=$?1:-1,re<0?re=u.length-1:re%=u.length,u[re]):null}};ji.INSTANCE=new ji;let T=ji;var S=N(2726),w=N(7570),A=N(1984),M=N(9810);class C{constructor(u,v,$){this.changes=u,this.moves=v,this.hitTimeout=$}}class V{constructor(u,v){this.lineRangeMapping=u,this.changes=v}}var W=N(561),j=N(2784),Q=N(2338),ge=N(6038),ne=N(6629),X=N(858);class G{constructor(u){this.text=u,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let v=0;v<u.length;v++)u.charAt(v)===`
`&&this.lineStartOffsetByLineIdx.push(v+1)}getOffset(u){return this.lineStartOffsetByLineIdx[u.lineNumber-1]+u.column-1}getOffsetRange(u){return new OffsetRange(this.getOffset(u.getStartPosition()),this.getOffset(u.getEndPosition()))}get textLength(){const u=this.lineStartOffsetByLineIdx.length-1;return new TextLength(u,this.text.length-this.lineStartOffsetByLineIdx[u])}}class ie{constructor(u){this.edits=u,assertFn(()=>checkAdjacentItems(u,(v,$)=>v.range.getEndPosition().isBeforeOrEqual($.range.getStartPosition())))}apply(u){let v="",$=new Position(1,1);for(const he of this.edits){const Le=he.range,De=Le.getStartPosition(),be=Le.getEndPosition(),Ae=Me($,De);Ae.isEmpty()||(v+=u.getValueOfRange(Ae)),v+=he.text,$=be}const re=Me($,u.endPositionExclusive);return re.isEmpty()||(v+=u.getValueOfRange(re)),v}applyToString(u){const v=new Te(u);return this.apply(v)}getNewRanges(){const u=[];let v=0,$=0,re=0;for(const he of this.edits){const Le=TextLength.ofText(he.text),De=Position.lift({lineNumber:he.range.startLineNumber+$,column:he.range.startColumn+(he.range.startLineNumber===v?re:0)}),be=Le.createRange(De);u.push(be),$=be.endLineNumber-he.range.endLineNumber,re=be.endColumn-he.range.endColumn,v=he.range.endLineNumber}return u}}class se{constructor(u,v){this.range=u,this.text=v}toSingleEditOperation(){return{range:this.range,text:this.text}}}function Me(Ne,u){if(Ne.lineNumber===u.lineNumber&&Ne.column===Number.MAX_SAFE_INTEGER)return Range.fromPositions(u,u);if(!Ne.isBeforeOrEqual(u))throw new BugIndicatingError("start must be before end");return new Range(Ne.lineNumber,Ne.column,u.lineNumber,u.column)}class He{get endPositionExclusive(){return this.length.addToPosition(new Position(1,1))}}class Te extends null{constructor(u){super(),this.value=u,this._t=new PositionOffsetTransformer(this.value)}getValueOfRange(u){return this._t.getOffsetRange(u).substring(this.value)}get length(){return this._t.textLength}}class ve{static inverse(u,v,$){const re=[];let he=1,Le=1;for(const be of u){const Ae=new ve(new j.z(he,be.original.startLineNumber),new j.z(Le,be.modified.startLineNumber));Ae.modified.isEmpty||re.push(Ae),he=be.original.endLineNumberExclusive,Le=be.modified.endLineNumberExclusive}const De=new ve(new j.z(he,v+1),new j.z(Le,$+1));return De.modified.isEmpty||re.push(De),re}static clip(u,v,$){const re=[];for(const he of u){const Le=he.original.intersect(v),De=he.modified.intersect($);Le&&!Le.isEmpty&&De&&!De.isEmpty&&re.push(new ve(Le,De))}return re}constructor(u,v){this.original=u,this.modified=v}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new ve(this.modified,this.original)}join(u){return new ve(this.original.join(u.original),this.modified.join(u.modified))}toRangeMapping(){const u=this.original.toInclusiveRange(),v=this.modified.toInclusiveRange();if(u&&v)return new Fe(u,v);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new W.he("not a valid diff");return new Fe(new B.e(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new B.e(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new Fe(new B.e(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new B.e(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}toRangeMapping2(u,v){if(ee(this.original.endLineNumberExclusive,u)&&ee(this.modified.endLineNumberExclusive,v))return new Fe(new B.e(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new B.e(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1));if(!this.original.isEmpty&&!this.modified.isEmpty)return new Fe(B.e.fromPositions(new Q.L(this.original.startLineNumber,1),P(new Q.L(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),u)),B.e.fromPositions(new Q.L(this.modified.startLineNumber,1),P(new Q.L(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),v)));if(this.original.startLineNumber>1&&this.modified.startLineNumber>1)return new Fe(B.e.fromPositions(P(new Q.L(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER),u),P(new Q.L(this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),u)),B.e.fromPositions(P(new Q.L(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER),v),P(new Q.L(this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),v)));throw new W.he}}function P(Ne,u){if(Ne.lineNumber<1)return new Q.L(1,1);if(Ne.lineNumber>u.length)return new Q.L(u.length,u[u.length-1].length+1);const v=u[Ne.lineNumber-1];return Ne.column>v.length+1?new Q.L(Ne.lineNumber,v.length+1):Ne}function ee(Ne,u){return Ne>=1&&Ne<=u.length}class xe extends ve{static fromRangeMappings(u){const v=j.z.join(u.map(re=>j.z.fromRangeInclusive(re.originalRange))),$=j.z.join(u.map(re=>j.z.fromRangeInclusive(re.modifiedRange)));return new xe(v,$,u)}constructor(u,v,$){super(u,v),this.innerChanges=$}flip(){var u;return new xe(this.modified,this.original,(u=this.innerChanges)==null?void 0:u.map(v=>v.flip()))}withInnerChangesFromLineRanges(){return new xe(this.original,this.modified,[this.toRangeMapping()])}}class Fe{static assertSorted(u){for(let v=1;v<u.length;v++){const $=u[v-1],re=u[v];if(!($.originalRange.getEndPosition().isBeforeOrEqual(re.originalRange.getStartPosition())&&$.modifiedRange.getEndPosition().isBeforeOrEqual(re.modifiedRange.getStartPosition())))throw new W.he("Range mappings must be sorted")}}constructor(u,v){this.originalRange=u,this.modifiedRange=v}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new Fe(this.modifiedRange,this.originalRange)}toTextEdit(u){const v=u.getValueOfRange(this.modifiedRange);return new se(this.originalRange,v)}}var Ue=N(9632);const qe=3;class Ge{computeDiff(u,v,$){var be;const he=new nn(u,v,{maxComputationTime:$.maxComputationTimeMs,shouldIgnoreTrimWhitespace:$.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),Le=[];let De=null;for(const Ae of he.changes){let Ke;Ae.originalEndLineNumber===0?Ke=new j.z(Ae.originalStartLineNumber+1,Ae.originalStartLineNumber+1):Ke=new j.z(Ae.originalStartLineNumber,Ae.originalEndLineNumber+1);let Ze;Ae.modifiedEndLineNumber===0?Ze=new j.z(Ae.modifiedStartLineNumber+1,Ae.modifiedStartLineNumber+1):Ze=new j.z(Ae.modifiedStartLineNumber,Ae.modifiedEndLineNumber+1);let _e=new xe(Ke,Ze,(be=Ae.charChanges)==null?void 0:be.map(at=>new Fe(new B.e(at.originalStartLineNumber,at.originalStartColumn,at.originalEndLineNumber,at.originalEndColumn),new B.e(at.modifiedStartLineNumber,at.modifiedStartColumn,at.modifiedEndLineNumber,at.modifiedEndColumn))));De&&(De.modified.endLineNumberExclusive===_e.modified.startLineNumber||De.original.endLineNumberExclusive===_e.original.startLineNumber)&&(_e=new xe(De.original.join(_e.original),De.modified.join(_e.modified),De.innerChanges&&_e.innerChanges?De.innerChanges.concat(_e.innerChanges):void 0),Le.pop()),Le.push(_e),De=_e}return(0,ge.eZ)(()=>(0,ge.DM)(Le,(Ae,Ke)=>Ke.original.startLineNumber-Ae.original.endLineNumberExclusive===Ke.modified.startLineNumber-Ae.modified.endLineNumberExclusive&&Ae.original.endLineNumberExclusive<Ke.original.startLineNumber&&Ae.modified.endLineNumberExclusive<Ke.modified.startLineNumber)),new C(Le,[],he.quitEarly)}}function We(Ne,u,v,$){return new _(Ne,u,v).ComputeDiff($)}class bt{constructor(u){const v=[],$=[];for(let re=0,he=u.length;re<he;re++)v[re]=le(u[re],1),$[re]=D(u[re],1);this.lines=u,this._startColumns=v,this._endColumns=$}getElements(){const u=[];for(let v=0,$=this.lines.length;v<$;v++)u[v]=this.lines[v].substring(this._startColumns[v]-1,this._endColumns[v]-1);return u}getStrictElement(u){return this.lines[u]}getStartLineNumber(u){return u+1}getEndLineNumber(u){return u+1}createCharSequence(u,v,$){const re=[],he=[],Le=[];let De=0;for(let be=v;be<=$;be++){const Ae=this.lines[be],Ke=u?this._startColumns[be]:1,Ze=u?this._endColumns[be]:Ae.length+1;for(let _e=Ke;_e<Ze;_e++)re[De]=Ae.charCodeAt(_e-1),he[De]=be+1,Le[De]=_e,De++;!u&&be<$&&(re[De]=10,he[De]=be+1,Le[De]=Ae.length+1,De++)}return new tt(re,he,Le)}}class tt{constructor(u,v,$){this._charCodes=u,this._lineNumbers=v,this._columns=$}toString(){return"["+this._charCodes.map((u,v)=>(u===10?"\\n":String.fromCharCode(u))+`-(${this._lineNumbers[v]},${this._columns[v]})`).join(", ")+"]"}_assertIndex(u,v){if(u<0||u>=v.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(u){return u>0&&u===this._lineNumbers.length?this.getEndLineNumber(u-1):(this._assertIndex(u,this._lineNumbers),this._lineNumbers[u])}getEndLineNumber(u){return u===-1?this.getStartLineNumber(u+1):(this._assertIndex(u,this._lineNumbers),this._charCodes[u]===10?this._lineNumbers[u]+1:this._lineNumbers[u])}getStartColumn(u){return u>0&&u===this._columns.length?this.getEndColumn(u-1):(this._assertIndex(u,this._columns),this._columns[u])}getEndColumn(u){return u===-1?this.getStartColumn(u+1):(this._assertIndex(u,this._columns),this._charCodes[u]===10?1:this._columns[u]+1)}}class ot{constructor(u,v,$,re,he,Le,De,be){this.originalStartLineNumber=u,this.originalStartColumn=v,this.originalEndLineNumber=$,this.originalEndColumn=re,this.modifiedStartLineNumber=he,this.modifiedStartColumn=Le,this.modifiedEndLineNumber=De,this.modifiedEndColumn=be}static createFromDiffChange(u,v,$){const re=v.getStartLineNumber(u.originalStart),he=v.getStartColumn(u.originalStart),Le=v.getEndLineNumber(u.originalStart+u.originalLength-1),De=v.getEndColumn(u.originalStart+u.originalLength-1),be=$.getStartLineNumber(u.modifiedStart),Ae=$.getStartColumn(u.modifiedStart),Ke=$.getEndLineNumber(u.modifiedStart+u.modifiedLength-1),Ze=$.getEndColumn(u.modifiedStart+u.modifiedLength-1);return new ot(re,he,Le,De,be,Ae,Ke,Ze)}}function lt(Ne){if(Ne.length<=1)return Ne;const u=[Ne[0]];let v=u[0];for(let $=1,re=Ne.length;$<re;$++){const he=Ne[$],Le=he.originalStart-(v.originalStart+v.originalLength),De=he.modifiedStart-(v.modifiedStart+v.modifiedLength);Math.min(Le,De)<qe?(v.originalLength=he.originalStart+he.originalLength-v.originalStart,v.modifiedLength=he.modifiedStart+he.modifiedLength-v.modifiedStart):(u.push(he),v=he)}return u}class Dt{constructor(u,v,$,re,he){this.originalStartLineNumber=u,this.originalEndLineNumber=v,this.modifiedStartLineNumber=$,this.modifiedEndLineNumber=re,this.charChanges=he}static createFromDiffResult(u,v,$,re,he,Le,De){let be,Ae,Ke,Ze,_e;if(v.originalLength===0?(be=$.getStartLineNumber(v.originalStart)-1,Ae=0):(be=$.getStartLineNumber(v.originalStart),Ae=$.getEndLineNumber(v.originalStart+v.originalLength-1)),v.modifiedLength===0?(Ke=re.getStartLineNumber(v.modifiedStart)-1,Ze=0):(Ke=re.getStartLineNumber(v.modifiedStart),Ze=re.getEndLineNumber(v.modifiedStart+v.modifiedLength-1)),Le&&v.originalLength>0&&v.originalLength<20&&v.modifiedLength>0&&v.modifiedLength<20&&he()){const at=$.createCharSequence(u,v.originalStart,v.originalStart+v.originalLength-1),ct=re.createCharSequence(u,v.modifiedStart,v.modifiedStart+v.modifiedLength-1);if(at.getElements().length>0&&ct.getElements().length>0){let xt=We(at,ct,he,!0).changes;De&&(xt=lt(xt)),_e=[];for(let Tt=0,zt=xt.length;Tt<zt;Tt++)_e.push(ot.createFromDiffChange(xt[Tt],at,ct))}}return new Dt(be,Ae,Ke,Ze,_e)}}class nn{constructor(u,v,$){this.shouldComputeCharChanges=$.shouldComputeCharChanges,this.shouldPostProcessCharChanges=$.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=$.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=$.shouldMakePrettyDiff,this.originalLines=u,this.modifiedLines=v,this.original=new bt(u),this.modified=new bt(v),this.continueLineDiff=F($.maxComputationTime),this.continueCharDiff=F($.maxComputationTime===0?0:Math.min($.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const u=We(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),v=u.changes,$=u.quitEarly;if(this.shouldIgnoreTrimWhitespace){const De=[];for(let be=0,Ae=v.length;be<Ae;be++)De.push(Dt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,v[be],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:$,changes:De}}const re=[];let he=0,Le=0;for(let De=-1,be=v.length;De<be;De++){const Ae=De+1<be?v[De+1]:null,Ke=Ae?Ae.originalStart:this.originalLines.length,Ze=Ae?Ae.modifiedStart:this.modifiedLines.length;for(;he<Ke&&Le<Ze;){const _e=this.originalLines[he],at=this.modifiedLines[Le];if(_e!==at){{let ct=le(_e,1),xt=le(at,1);for(;ct>1&&xt>1;){const Tt=_e.charCodeAt(ct-2),zt=at.charCodeAt(xt-2);if(Tt!==zt)break;ct--,xt--}(ct>1||xt>1)&&this._pushTrimWhitespaceCharChange(re,he+1,1,ct,Le+1,1,xt)}{let ct=D(_e,1),xt=D(at,1);const Tt=_e.length+1,zt=at.length+1;for(;ct<Tt&&xt<zt;){const Gt=_e.charCodeAt(ct-1),Ft=_e.charCodeAt(xt-1);if(Gt!==Ft)break;ct++,xt++}(ct<Tt||xt<zt)&&this._pushTrimWhitespaceCharChange(re,he+1,ct,Tt,Le+1,xt,zt)}}he++,Le++}Ae&&(re.push(Dt.createFromDiffResult(this.shouldIgnoreTrimWhitespace,Ae,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),he+=Ae.originalLength,Le+=Ae.modifiedLength)}return{quitEarly:$,changes:re}}_pushTrimWhitespaceCharChange(u,v,$,re,he,Le,De){if(this._mergeTrimWhitespaceCharChange(u,v,$,re,he,Le,De))return;let be;this.shouldComputeCharChanges&&(be=[new ot(v,$,v,re,he,Le,he,De)]),u.push(new Dt(v,v,he,he,be))}_mergeTrimWhitespaceCharChange(u,v,$,re,he,Le,De){const be=u.length;if(be===0)return!1;const Ae=u[be-1];return Ae.originalEndLineNumber===0||Ae.modifiedEndLineNumber===0?!1:Ae.originalEndLineNumber===v&&Ae.modifiedEndLineNumber===he?(this.shouldComputeCharChanges&&Ae.charChanges&&Ae.charChanges.push(new ot(v,$,v,re,he,Le,he,De)),!0):Ae.originalEndLineNumber+1===v&&Ae.modifiedEndLineNumber+1===he?(Ae.originalEndLineNumber=v,Ae.modifiedEndLineNumber=he,this.shouldComputeCharChanges&&Ae.charChanges&&Ae.charChanges.push(new ot(v,$,v,re,he,Le,he,De)),!0):!1}}function le(Ne,u){const v=Ue.LC(Ne);return v===-1?u:v+1}function D(Ne,u){const v=Ue.ow(Ne);return v===-1?u:v+2}function F(Ne){if(Ne===0)return()=>!0;const u=Date.now();return()=>Date.now()-u<Ne}var ke=N(7894);class je{static trivial(u,v){return new je([new Ye(ne.q.ofLength(u.length),ne.q.ofLength(v.length))],!1)}static trivialTimedOut(u,v){return new je([new Ye(ne.q.ofLength(u.length),ne.q.ofLength(v.length))],!0)}constructor(u,v){this.diffs=u,this.hitTimeout=v}}class Ye{static invert(u,v){const $=[];return(0,ke.zy)(u,(re,he)=>{$.push(Ye.fromOffsetPairs(re?re.getEndExclusives():ht.zero,he?he.getStarts():new ht(v,(re?re.seq2Range.endExclusive-re.seq1Range.endExclusive:0)+v)))}),$}static fromOffsetPairs(u,v){return new Ye(new ne.q(u.offset1,v.offset1),new ne.q(u.offset2,v.offset2))}static assertSorted(u){let v;for(const $ of u){if(v&&!(v.seq1Range.endExclusive<=$.seq1Range.start&&v.seq2Range.endExclusive<=$.seq2Range.start))throw new W.he("Sequence diffs must be sorted");v=$}}constructor(u,v){this.seq1Range=u,this.seq2Range=v}swap(){return new Ye(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(u){return new Ye(this.seq1Range.join(u.seq1Range),this.seq2Range.join(u.seq2Range))}delta(u){return u===0?this:new Ye(this.seq1Range.delta(u),this.seq2Range.delta(u))}deltaStart(u){return u===0?this:new Ye(this.seq1Range.deltaStart(u),this.seq2Range.deltaStart(u))}deltaEnd(u){return u===0?this:new Ye(this.seq1Range.deltaEnd(u),this.seq2Range.deltaEnd(u))}intersect(u){const v=this.seq1Range.intersect(u.seq1Range),$=this.seq2Range.intersect(u.seq2Range);if(!(!v||!$))return new Ye(v,$)}getStarts(){return new ht(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new ht(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}const oi=class oi{constructor(u,v){this.offset1=u,this.offset2=v}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(u){return u===0?this:new oi(this.offset1+u,this.offset2+u)}equals(u){return this.offset1===u.offset1&&this.offset2===u.offset2}};oi.zero=new oi(0,0),oi.max=new oi(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);let ht=oi;const ri=class ri{isValid(){return!0}};ri.instance=new ri;let mt=ri;class st{constructor(u){if(this.timeout=u,this.startTime=Date.now(),this.valid=!0,u<=0)throw new W.he("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}class _t{constructor(u,v){this.width=u,this.height=v,this.array=[],this.array=new Array(u*v)}get(u,v){return this.array[u+v*this.width]}set(u,v,$){this.array[u+v*this.width]=$}}function Ct(Ne){return Ne===32||Ne===9}const di=class di{static getKey(u){let v=this.chrKeys.get(u);return v===void 0&&(v=this.chrKeys.size,this.chrKeys.set(u,v)),v}constructor(u,v,$){this.range=u,this.lines=v,this.source=$,this.histogram=[];let re=0;for(let he=u.startLineNumber-1;he<u.endLineNumberExclusive-1;he++){const Le=v[he];for(let be=0;be<Le.length;be++){re++;const Ae=Le[be],Ke=di.getKey(Ae);this.histogram[Ke]=(this.histogram[Ke]||0)+1}re++;const De=di.getKey(`
`);this.histogram[De]=(this.histogram[De]||0)+1}this.totalCount=re}computeSimilarity(u){var re,he;let v=0;const $=Math.max(this.histogram.length,u.histogram.length);for(let Le=0;Le<$;Le++)v+=Math.abs(((re=this.histogram[Le])!=null?re:0)-((he=u.histogram[Le])!=null?he:0));return 1-v/(this.totalCount+u.totalCount)}};di.chrKeys=new Map;let Lt=di;class Rt{compute(u,v,$=mt.instance,re){if(u.length===0||v.length===0)return je.trivial(u,v);const he=new _t(u.length,v.length),Le=new _t(u.length,v.length),De=new _t(u.length,v.length);for(let ct=0;ct<u.length;ct++)for(let xt=0;xt<v.length;xt++){if(!$.isValid())return je.trivialTimedOut(u,v);const Tt=ct===0?0:he.get(ct-1,xt),zt=xt===0?0:he.get(ct,xt-1);let Gt;u.getElement(ct)===v.getElement(xt)?(ct===0||xt===0?Gt=0:Gt=he.get(ct-1,xt-1),ct>0&&xt>0&&Le.get(ct-1,xt-1)===3&&(Gt+=De.get(ct-1,xt-1)),Gt+=re?re(ct,xt):1):Gt=-1;const Ft=Math.max(Tt,zt,Gt);if(Ft===Gt){const qt=ct>0&&xt>0?De.get(ct-1,xt-1):0;De.set(ct,xt,qt+1),Le.set(ct,xt,3)}else Ft===Tt?(De.set(ct,xt,0),Le.set(ct,xt,1)):Ft===zt&&(De.set(ct,xt,0),Le.set(ct,xt,2));he.set(ct,xt,Ft)}const be=[];let Ae=u.length,Ke=v.length;function Ze(ct,xt){(ct+1!==Ae||xt+1!==Ke)&&be.push(new Ye(new ne.q(ct+1,Ae),new ne.q(xt+1,Ke))),Ae=ct,Ke=xt}let _e=u.length-1,at=v.length-1;for(;_e>=0&&at>=0;)Le.get(_e,at)===3?(Ze(_e,at),_e--,at--):Le.get(_e,at)===1?_e--:at--;return Ze(-1,-1),be.reverse(),new je(be,!1)}}class pt{compute(u,v,$=mt.instance){if(u.length===0||v.length===0)return je.trivial(u,v);const re=u,he=v;function Le(xt,Tt){for(;xt<re.length&&Tt<he.length&&re.getElement(xt)===he.getElement(Tt);)xt++,Tt++;return xt}let De=0;const be=new H;be.set(0,Le(0,0));const Ae=new Be;Ae.set(0,be.get(0)===0?null:new m(null,0,0,be.get(0)));let Ke=0;e:for(;;){if(De++,!$.isValid())return je.trivialTimedOut(re,he);const xt=-Math.min(De,he.length+De%2),Tt=Math.min(De,re.length+De%2);for(Ke=xt;Ke<=Tt;Ke+=2){let zt=0;const Gt=Ke===Tt?-1:be.get(Ke+1),Ft=Ke===xt?-1:be.get(Ke-1)+1;zt++;const qt=Math.min(Math.max(Gt,Ft),re.length),Ot=qt-Ke;if(zt++,qt>re.length||Ot>he.length)continue;const Kt=Le(qt,Ot);be.set(Ke,Kt);const en=qt===Gt?Ae.get(Ke+1):Ae.get(Ke-1);if(Ae.set(Ke,Kt!==qt?new m(en,qt,Ot,Kt-qt):en),be.get(Ke)===re.length&&be.get(Ke)-Ke===he.length)break e}}let Ze=Ae.get(Ke);const _e=[];let at=re.length,ct=he.length;for(;;){const xt=Ze?Ze.x+Ze.length:0,Tt=Ze?Ze.y+Ze.length:0;if((xt!==at||Tt!==ct)&&_e.push(new Ye(new ne.q(xt,at),new ne.q(Tt,ct))),!Ze)break;at=Ze.x,ct=Ze.y,Ze=Ze.prev}return _e.reverse(),new je(_e,!1)}}class m{constructor(u,v,$,re){this.prev=u,this.x=v,this.y=$,this.length=re}}class H{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(u){return u<0?(u=-u-1,this.negativeArr[u]):this.positiveArr[u]}set(u,v){if(u<0){if(u=-u-1,u>=this.negativeArr.length){const $=this.negativeArr;this.negativeArr=new Int32Array($.length*2),this.negativeArr.set($)}this.negativeArr[u]=v}else{if(u>=this.positiveArr.length){const $=this.positiveArr;this.positiveArr=new Int32Array($.length*2),this.positiveArr.set($)}this.positiveArr[u]=v}}}class Be{constructor(){this.positiveArr=[],this.negativeArr=[]}get(u){return u<0?(u=-u-1,this.negativeArr[u]):this.positiveArr[u]}set(u,v){u<0?(u=-u-1,this.negativeArr[u]=v):this.positiveArr[u]=v}}var n=N(5902),ut=N(9941);class kt{constructor(u,v,$){this.lines=u,this.range=v,this.considerWhitespaceChanges=$,this.elements=[],this.firstElementOffsetByLineIdx=[],this.lineStartOffsets=[],this.trimmedWsLengthsByLineIdx=[],this.firstElementOffsetByLineIdx.push(0);for(let re=this.range.startLineNumber;re<=this.range.endLineNumber;re++){let he=u[re-1],Le=0;re===this.range.startLineNumber&&this.range.startColumn>1&&(Le=this.range.startColumn-1,he=he.substring(Le)),this.lineStartOffsets.push(Le);let De=0;if(!$){const Ae=he.trimStart();De=he.length-Ae.length,he=Ae.trimEnd()}this.trimmedWsLengthsByLineIdx.push(De);const be=re===this.range.endLineNumber?Math.min(this.range.endColumn-1-Le-De,he.length):he.length;for(let Ae=0;Ae<be;Ae++)this.elements.push(he.charCodeAt(Ae));re<this.range.endLineNumber&&(this.elements.push(10),this.firstElementOffsetByLineIdx.push(this.elements.length))}}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new ne.q(0,this.length))}getText(u){return this.elements.slice(u.start,u.endExclusive).map(v=>String.fromCharCode(v)).join("")}getElement(u){return this.elements[u]}get length(){return this.elements.length}getBoundaryScore(u){const v=un(u>0?this.elements[u-1]:-1),$=un(u<this.elements.length?this.elements[u]:-1);if(v===7&&$===8)return 0;if(v===8)return 150;let re=0;return v!==$&&(re+=10,v===0&&$===1&&(re+=1)),re+=cn(v),re+=cn($),re}translateOffset(u,v="right"){const $=(0,n.Jw)(this.firstElementOffsetByLineIdx,he=>he<=u),re=u-this.firstElementOffsetByLineIdx[$];return new Q.L(this.range.startLineNumber+$,1+this.lineStartOffsets[$]+re+(re===0&&v==="left"?0:this.trimmedWsLengthsByLineIdx[$]))}translateRange(u){const v=this.translateOffset(u.start,"right"),$=this.translateOffset(u.endExclusive,"left");return $.isBefore(v)?B.e.fromPositions($,$):B.e.fromPositions(v,$)}findWordContaining(u){if(u<0||u>=this.elements.length||!jt(this.elements[u]))return;let v=u;for(;v>0&&jt(this.elements[v-1]);)v--;let $=u;for(;$<this.elements.length&&jt(this.elements[$]);)$++;return new ne.q(v,$)}countLinesIn(u){return this.translateOffset(u.endExclusive).lineNumber-this.translateOffset(u.start).lineNumber}isStronglyEqual(u,v){return this.elements[u]===this.elements[v]}extendToFullLines(u){var re,he;const v=(re=(0,n.ti)(this.firstElementOffsetByLineIdx,Le=>Le<=u.start))!=null?re:0,$=(he=(0,n.cn)(this.firstElementOffsetByLineIdx,Le=>u.endExclusive<=Le))!=null?he:this.elements.length;return new ne.q(v,$)}}function jt(Ne){return Ne>=97&&Ne<=122||Ne>=65&&Ne<=90||Ne>=48&&Ne<=57}const Yt={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function cn(Ne){return Yt[Ne]}function un(Ne){return Ne===10?8:Ne===13?7:Ct(Ne)?6:Ne>=97&&Ne<=122?0:Ne>=65&&Ne<=90?1:Ne>=48&&Ne<=57?2:Ne===-1?3:Ne===44||Ne===59?5:4}function Zt(Ne,u,v,$,re,he){let{moves:Le,excludedChanges:De}=hn(Ne,u,v,he);if(!he.isValid())return[];const be=Ne.filter(Ke=>!De.has(Ke)),Ae=Wn(be,$,re,u,v,he);return(0,ke.vA)(Le,Ae),Le=Qn(Le),Le=Le.filter(Ke=>{const Ze=Ke.original.toOffsetRange().slice(u).map(at=>at.trim());return Ze.join(`
`).length>=15&&Ht(Ze,at=>at.length>=2)>=2}),Le=Vi(Ne,Le),Le}function Ht(Ne,u){let v=0;for(const $ of Ne)u($)&&v++;return v}function hn(Ne,u,v,$){const re=[],he=Ne.filter(be=>be.modified.isEmpty&&be.original.length>=3).map(be=>new Lt(be.original,u,be)),Le=new Set(Ne.filter(be=>be.original.isEmpty&&be.modified.length>=3).map(be=>new Lt(be.modified,v,be))),De=new Set;for(const be of he){let Ae=-1,Ke;for(const Ze of Le){const _e=be.computeSimilarity(Ze);_e>Ae&&(Ae=_e,Ke=Ze)}if(Ae>.9&&Ke&&(Le.delete(Ke),re.push(new ve(be.range,Ke.range)),De.add(be.source),De.add(Ke.source)),!$.isValid())return{moves:re,excludedChanges:De}}return{moves:re,excludedChanges:De}}function Wn(Ne,u,v,$,re,he){const Le=[],De=new ut.ri;for(const _e of Ne)for(let at=_e.original.startLineNumber;at<_e.original.endLineNumberExclusive-2;at++){const ct=`${u[at-1]}:${u[at+1-1]}:${u[at+2-1]}`;De.add(ct,{range:new j.z(at,at+3)})}const be=[];Ne.sort((0,ke.tT)(_e=>_e.modified.startLineNumber,ke.fv));for(const _e of Ne){let at=[];for(let ct=_e.modified.startLineNumber;ct<_e.modified.endLineNumberExclusive-2;ct++){const xt=`${v[ct-1]}:${v[ct+1-1]}:${v[ct+2-1]}`,Tt=new j.z(ct,ct+3),zt=[];De.forEach(xt,({range:Gt})=>{for(const qt of at)if(qt.originalLineRange.endLineNumberExclusive+1===Gt.endLineNumberExclusive&&qt.modifiedLineRange.endLineNumberExclusive+1===Tt.endLineNumberExclusive){qt.originalLineRange=new j.z(qt.originalLineRange.startLineNumber,Gt.endLineNumberExclusive),qt.modifiedLineRange=new j.z(qt.modifiedLineRange.startLineNumber,Tt.endLineNumberExclusive),zt.push(qt);return}const Ft={modifiedLineRange:Tt,originalLineRange:Gt};be.push(Ft),zt.push(Ft)}),at=zt}if(!he.isValid())return[]}be.sort((0,ke.BV)((0,ke.tT)(_e=>_e.modifiedLineRange.length,ke.fv)));const Ae=new j.i,Ke=new j.i;for(const _e of be){const at=_e.modifiedLineRange.startLineNumber-_e.originalLineRange.startLineNumber,ct=Ae.subtractFrom(_e.modifiedLineRange),xt=Ke.subtractFrom(_e.originalLineRange).getWithDelta(at),Tt=ct.getIntersection(xt);for(const zt of Tt.ranges){if(zt.length<3)continue;const Gt=zt,Ft=zt.delta(-at);Le.push(new ve(Ft,Gt)),Ae.addRange(Gt),Ke.addRange(Ft)}}Le.sort((0,ke.tT)(_e=>_e.original.startLineNumber,ke.fv));const Ze=new n.b1(Ne);for(let _e=0;_e<Le.length;_e++){const at=Le[_e],ct=Ze.findLastMonotonous(Kt=>Kt.original.startLineNumber<=at.original.startLineNumber),xt=(0,n.ti)(Ne,Kt=>Kt.modified.startLineNumber<=at.modified.startLineNumber),Tt=Math.max(at.original.startLineNumber-ct.original.startLineNumber,at.modified.startLineNumber-xt.modified.startLineNumber),zt=Ze.findLastMonotonous(Kt=>Kt.original.startLineNumber<at.original.endLineNumberExclusive),Gt=(0,n.ti)(Ne,Kt=>Kt.modified.startLineNumber<at.modified.endLineNumberExclusive),Ft=Math.max(zt.original.endLineNumberExclusive-at.original.endLineNumberExclusive,Gt.modified.endLineNumberExclusive-at.modified.endLineNumberExclusive);let qt;for(qt=0;qt<Tt;qt++){const Kt=at.original.startLineNumber-qt-1,en=at.modified.startLineNumber-qt-1;if(Kt>$.length||en>re.length||Ae.contains(en)||Ke.contains(Kt)||!Tn($[Kt-1],re[en-1],he))break}qt>0&&(Ke.addRange(new j.z(at.original.startLineNumber-qt,at.original.startLineNumber)),Ae.addRange(new j.z(at.modified.startLineNumber-qt,at.modified.startLineNumber)));let Ot;for(Ot=0;Ot<Ft;Ot++){const Kt=at.original.endLineNumberExclusive+Ot,en=at.modified.endLineNumberExclusive+Ot;if(Kt>$.length||en>re.length||Ae.contains(en)||Ke.contains(Kt)||!Tn($[Kt-1],re[en-1],he))break}Ot>0&&(Ke.addRange(new j.z(at.original.endLineNumberExclusive,at.original.endLineNumberExclusive+Ot)),Ae.addRange(new j.z(at.modified.endLineNumberExclusive,at.modified.endLineNumberExclusive+Ot))),(qt>0||Ot>0)&&(Le[_e]=new ve(new j.z(at.original.startLineNumber-qt,at.original.endLineNumberExclusive+Ot),new j.z(at.modified.startLineNumber-qt,at.modified.endLineNumberExclusive+Ot)))}return Le}function Tn(Ne,u,v){if(Ne.trim()===u.trim())return!0;if(Ne.length>300&&u.length>300)return!1;const re=new pt().compute(new kt([Ne],new B.e(1,1,1,Ne.length),!1),new kt([u],new B.e(1,1,1,u.length),!1),v);let he=0;const Le=Ye.invert(re.diffs,Ne.length);for(const Ke of Le)Ke.seq1Range.forEach(Ze=>{Ct(Ne.charCodeAt(Ze))||he++});function De(Ke){let Ze=0;for(let _e=0;_e<Ne.length;_e++)Ct(Ke.charCodeAt(_e))||Ze++;return Ze}const be=De(Ne.length>u.length?Ne:u);return he/be>.6&&be>10}function Qn(Ne){if(Ne.length===0)return Ne;Ne.sort((0,ke.tT)(v=>v.original.startLineNumber,ke.fv));const u=[Ne[0]];for(let v=1;v<Ne.length;v++){const $=u[u.length-1],re=Ne[v],he=re.original.startLineNumber-$.original.endLineNumberExclusive,Le=re.modified.startLineNumber-$.modified.endLineNumberExclusive;if(he>=0&&Le>=0&&he+Le<=2){u[u.length-1]=$.join(re);continue}u.push(re)}return u}function Vi(Ne,u){const v=new n.b1(Ne);return u=u.filter($=>{const re=v.findLastMonotonous(De=>De.original.startLineNumber<$.original.endLineNumberExclusive)||new ve(new j.z(1,1),new j.z(1,1)),he=(0,n.ti)(Ne,De=>De.modified.startLineNumber<$.modified.endLineNumberExclusive);return re!==he}),u}function Ui(Ne,u,v){let $=v;return $=Ai(Ne,u,$),$=Ai(Ne,u,$),$=ni(Ne,u,$),$}function Ai(Ne,u,v){if(v.length===0)return v;const $=[];$.push(v[0]);for(let he=1;he<v.length;he++){const Le=$[$.length-1];let De=v[he];if(De.seq1Range.isEmpty||De.seq2Range.isEmpty){const be=De.seq1Range.start-Le.seq1Range.endExclusive;let Ae;for(Ae=1;Ae<=be&&!(Ne.getElement(De.seq1Range.start-Ae)!==Ne.getElement(De.seq1Range.endExclusive-Ae)||u.getElement(De.seq2Range.start-Ae)!==u.getElement(De.seq2Range.endExclusive-Ae));Ae++);if(Ae--,Ae===be){$[$.length-1]=new Ye(new ne.q(Le.seq1Range.start,De.seq1Range.endExclusive-be),new ne.q(Le.seq2Range.start,De.seq2Range.endExclusive-be));continue}De=De.delta(-Ae)}$.push(De)}const re=[];for(let he=0;he<$.length-1;he++){const Le=$[he+1];let De=$[he];if(De.seq1Range.isEmpty||De.seq2Range.isEmpty){const be=Le.seq1Range.start-De.seq1Range.endExclusive;let Ae;for(Ae=0;Ae<be&&!(!Ne.isStronglyEqual(De.seq1Range.start+Ae,De.seq1Range.endExclusive+Ae)||!u.isStronglyEqual(De.seq2Range.start+Ae,De.seq2Range.endExclusive+Ae));Ae++);if(Ae===be){$[he+1]=new Ye(new ne.q(De.seq1Range.start+be,Le.seq1Range.endExclusive),new ne.q(De.seq2Range.start+be,Le.seq2Range.endExclusive));continue}Ae>0&&(De=De.delta(Ae))}re.push(De)}return $.length>0&&re.push($[$.length-1]),re}function ni(Ne,u,v){if(!Ne.getBoundaryScore||!u.getBoundaryScore)return v;for(let $=0;$<v.length;$++){const re=$>0?v[$-1]:void 0,he=v[$],Le=$+1<v.length?v[$+1]:void 0,De=new ne.q(re?re.seq1Range.endExclusive+1:0,Le?Le.seq1Range.start-1:Ne.length),be=new ne.q(re?re.seq2Range.endExclusive+1:0,Le?Le.seq2Range.start-1:u.length);he.seq1Range.isEmpty?v[$]=On(he,Ne,u,De,be):he.seq2Range.isEmpty&&(v[$]=On(he.swap(),u,Ne,be,De).swap())}return v}function On(Ne,u,v,$,re){let Le=1;for(;Ne.seq1Range.start-Le>=$.start&&Ne.seq2Range.start-Le>=re.start&&v.isStronglyEqual(Ne.seq2Range.start-Le,Ne.seq2Range.endExclusive-Le)&&Le<100;)Le++;Le--;let De=0;for(;Ne.seq1Range.start+De<$.endExclusive&&Ne.seq2Range.endExclusive+De<re.endExclusive&&v.isStronglyEqual(Ne.seq2Range.start+De,Ne.seq2Range.endExclusive+De)&&De<100;)De++;if(Le===0&&De===0)return Ne;let be=0,Ae=-1;for(let Ke=-Le;Ke<=De;Ke++){const Ze=Ne.seq2Range.start+Ke,_e=Ne.seq2Range.endExclusive+Ke,at=Ne.seq1Range.start+Ke,ct=u.getBoundaryScore(at)+v.getBoundaryScore(Ze)+v.getBoundaryScore(_e);ct>Ae&&(Ae=ct,be=Ke)}return Ne.delta(be)}function Ti(Ne,u,v){const $=[];for(const re of v){const he=$[$.length-1];if(!he){$.push(re);continue}re.seq1Range.start-he.seq1Range.endExclusive<=2||re.seq2Range.start-he.seq2Range.endExclusive<=2?$[$.length-1]=new Ye(he.seq1Range.join(re.seq1Range),he.seq2Range.join(re.seq2Range)):$.push(re)}return $}function Un(Ne,u,v){const $=Ye.invert(v,Ne.length),re=[];let he=new ht(0,0);function Le(be,Ae){if(be.offset1<he.offset1||be.offset2<he.offset2)return;const Ke=Ne.findWordContaining(be.offset1),Ze=u.findWordContaining(be.offset2);if(!Ke||!Ze)return;let _e=new Ye(Ke,Ze);const at=_e.intersect(Ae);let ct=at.seq1Range.length,xt=at.seq2Range.length;for(;$.length>0;){const Tt=$[0];if(!(Tt.seq1Range.intersects(_e.seq1Range)||Tt.seq2Range.intersects(_e.seq2Range)))break;const Gt=Ne.findWordContaining(Tt.seq1Range.start),Ft=u.findWordContaining(Tt.seq2Range.start),qt=new Ye(Gt,Ft),Ot=qt.intersect(Tt);if(ct+=Ot.seq1Range.length,xt+=Ot.seq2Range.length,_e=_e.join(qt),_e.seq1Range.endExclusive>=Tt.seq1Range.endExclusive)$.shift();else break}ct+xt<(_e.seq1Range.length+_e.seq2Range.length)*2/3&&re.push(_e),he=_e.getEndExclusives()}for(;$.length>0;){const be=$.shift();be.seq1Range.isEmpty||(Le(be.getStarts(),be),Le(be.getEndExclusives().delta(-1),be))}return kn(v,re)}function kn(Ne,u){const v=[];for(;Ne.length>0||u.length>0;){const $=Ne[0],re=u[0];let he;$&&(!re||$.seq1Range.start<re.seq1Range.start)?he=Ne.shift():he=u.shift(),v.length>0&&v[v.length-1].seq1Range.endExclusive>=he.seq1Range.start?v[v.length-1]=v[v.length-1].join(he):v.push(he)}return v}function jn(Ne,u,v){let $=v;if($.length===0)return $;let re=0,he;do{he=!1;const Le=[$[0]];for(let De=1;De<$.length;De++){let Ke=function(_e,at){const ct=new ne.q(Ae.seq1Range.endExclusive,be.seq1Range.start);return Ne.getText(ct).replace(/\s/g,"").length<=4&&(_e.seq1Range.length+_e.seq2Range.length>5||at.seq1Range.length+at.seq2Range.length>5)};const be=$[De],Ae=Le[Le.length-1];Ke(Ae,be)?(he=!0,Le[Le.length-1]=Le[Le.length-1].join(be)):Le.push(be)}$=Le}while(re++<10&&he);return $}function ii(Ne,u,v){let $=v;if($.length===0)return $;let re=0,he;do{he=!1;const De=[$[0]];for(let be=1;be<$.length;be++){let Ze=function(at,ct){const xt=new ne.q(Ke.seq1Range.endExclusive,Ae.seq1Range.start);if(Ne.countLinesIn(xt)>5||xt.length>500)return!1;const zt=Ne.getText(xt).trim();if(zt.length>20||zt.split(/\r\n|\r|\n/).length>1)return!1;const Gt=Ne.countLinesIn(at.seq1Range),Ft=at.seq1Range.length,qt=u.countLinesIn(at.seq2Range),Ot=at.seq2Range.length,Kt=Ne.countLinesIn(ct.seq1Range),en=ct.seq1Range.length,Wt=u.countLinesIn(ct.seq2Range),Nn=ct.seq2Range.length,Hn=2*40+50;function mn(on){return Math.min(on,Hn)}return Math.pow(Math.pow(mn(Gt*40+Ft),1.5)+Math.pow(mn(qt*40+Ot),1.5),1.5)+Math.pow(Math.pow(mn(Kt*40+en),1.5)+Math.pow(mn(Wt*40+Nn),1.5),1.5)>kr(kr(Hn,1.5),1.5)*1.3};const Ae=$[be],Ke=De[De.length-1];Ze(Ke,Ae)?(he=!0,De[De.length-1]=De[De.length-1].join(Ae)):De.push(Ae)}$=De}while(re++<10&&he);const Le=[];return(0,ke.KO)($,(De,be,Ae)=>{let Ke=be;function Ze(zt){return zt.length>0&&zt.trim().length<=3&&be.seq1Range.length+be.seq2Range.length>100}const _e=Ne.extendToFullLines(be.seq1Range),at=Ne.getText(new ne.q(_e.start,be.seq1Range.start));Ze(at)&&(Ke=Ke.deltaStart(-at.length));const ct=Ne.getText(new ne.q(be.seq1Range.endExclusive,_e.endExclusive));Ze(ct)&&(Ke=Ke.deltaEnd(ct.length));const xt=Ye.fromOffsetPairs(De?De.getEndExclusives():ht.zero,Ae?Ae.getStarts():ht.max),Tt=Ke.intersect(xt);Le.length>0&&Tt.getStarts().equals(Le[Le.length-1].getEndExclusives())?Le[Le.length-1]=Le[Le.length-1].join(Tt):Le.push(Tt)}),Le}class zi{constructor(u,v){this.trimmedHash=u,this.lines=v}getElement(u){return this.trimmedHash[u]}get length(){return this.trimmedHash.length}getBoundaryScore(u){const v=u===0?0:Ln(this.lines[u-1]),$=u===this.lines.length?0:Ln(this.lines[u]);return 1e3-(v+$)}getText(u){return this.lines.slice(u.start,u.endExclusive).join(`
`)}isStronglyEqual(u,v){return this.lines[u]===this.lines[v]}}function Ln(Ne){let u=0;for(;u<Ne.length&&(Ne.charCodeAt(u)===32||Ne.charCodeAt(u)===9);)u++;return u}class tr{constructor(){this.dynamicProgrammingDiffing=new Rt,this.myersDiffingAlgorithm=new pt}computeDiff(u,v,$){if(u.length<=1&&(0,ke.fS)(u,v,(Ot,Kt)=>Ot===Kt))return new C([],[],!1);if(u.length===1&&u[0].length===0||v.length===1&&v[0].length===0)return new C([new xe(new j.z(1,u.length+1),new j.z(1,v.length+1),[new Fe(new B.e(1,1,u.length,u[u.length-1].length+1),new B.e(1,1,v.length,v[v.length-1].length+1))])],[],!1);const re=$.maxComputationTimeMs===0?mt.instance:new st($.maxComputationTimeMs),he=!$.ignoreTrimWhitespace,Le=new Map;function De(Ot){let Kt=Le.get(Ot);return Kt===void 0&&(Kt=Le.size,Le.set(Ot,Kt)),Kt}const be=u.map(Ot=>De(Ot.trim())),Ae=v.map(Ot=>De(Ot.trim())),Ke=new zi(be,u),Ze=new zi(Ae,v),_e=Ke.length+Ze.length<1700?this.dynamicProgrammingDiffing.compute(Ke,Ze,re,(Ot,Kt)=>u[Ot]===v[Kt]?v[Kt].length===0?.1:1+Math.log(1+v[Kt].length):.99):this.myersDiffingAlgorithm.compute(Ke,Ze,re);let at=_e.diffs,ct=_e.hitTimeout;at=Ui(Ke,Ze,at),at=jn(Ke,Ze,at);const xt=[],Tt=Ot=>{if(he)for(let Kt=0;Kt<Ot;Kt++){const en=zt+Kt,Wt=Gt+Kt;if(u[en]!==v[Wt]){const Nn=this.refineDiff(u,v,new Ye(new ne.q(en,en+1),new ne.q(Wt,Wt+1)),re,he);for(const Hn of Nn.mappings)xt.push(Hn);Nn.hitTimeout&&(ct=!0)}}};let zt=0,Gt=0;for(const Ot of at){(0,ge.eZ)(()=>Ot.seq1Range.start-zt===Ot.seq2Range.start-Gt);const Kt=Ot.seq1Range.start-zt;Tt(Kt),zt=Ot.seq1Range.endExclusive,Gt=Ot.seq2Range.endExclusive;const en=this.refineDiff(u,v,Ot,re,he);en.hitTimeout&&(ct=!0);for(const Wt of en.mappings)xt.push(Wt)}Tt(u.length-zt);const Ft=pi(xt,u,v);let qt=[];return $.computeMoves&&(qt=this.computeMoves(Ft,u,v,be,Ae,re,he)),(0,ge.eZ)(()=>{function Ot(en,Wt){if(en.lineNumber<1||en.lineNumber>Wt.length)return!1;const Nn=Wt[en.lineNumber-1];return!(en.column<1||en.column>Nn.length+1)}function Kt(en,Wt){return!(en.startLineNumber<1||en.startLineNumber>Wt.length+1||en.endLineNumberExclusive<1||en.endLineNumberExclusive>Wt.length+1)}for(const en of Ft){if(!en.innerChanges)return!1;for(const Wt of en.innerChanges)if(!(Ot(Wt.modifiedRange.getStartPosition(),v)&&Ot(Wt.modifiedRange.getEndPosition(),v)&&Ot(Wt.originalRange.getStartPosition(),u)&&Ot(Wt.originalRange.getEndPosition(),u)))return!1;if(!Kt(en.modified,v)||!Kt(en.original,u))return!1}return!0}),new C(Ft,qt,ct)}computeMoves(u,v,$,re,he,Le,De){return Zt(u,v,$,re,he,Le).map(Ke=>{const Ze=this.refineDiff(v,$,new Ye(Ke.original.toOffsetRange(),Ke.modified.toOffsetRange()),Le,De),_e=pi(Ze.mappings,v,$,!0);return new V(Ke,_e)})}refineDiff(u,v,$,re,he){const De=Kn($).toRangeMapping2(u,v),be=new kt(u,De.originalRange,he),Ae=new kt(v,De.modifiedRange,he),Ke=be.length+Ae.length<500?this.dynamicProgrammingDiffing.compute(be,Ae,re):this.myersDiffingAlgorithm.compute(be,Ae,re),Ze=!1;let _e=Ke.diffs;Ze&&Ye.assertSorted(_e),_e=Ui(be,Ae,_e),Ze&&Ye.assertSorted(_e),_e=Un(be,Ae,_e),Ze&&Ye.assertSorted(_e),_e=Ti(be,Ae,_e),Ze&&Ye.assertSorted(_e),_e=ii(be,Ae,_e),Ze&&Ye.assertSorted(_e);const at=_e.map(ct=>new Fe(be.translateRange(ct.seq1Range),Ae.translateRange(ct.seq2Range)));return Ze&&Fe.assertSorted(at),{mappings:at,hitTimeout:Ke.hitTimeout}}}function pi(Ne,u,v,$=!1){const re=[];for(const he of(0,ke.mw)(Ne.map(Le=>hi(Le,u,v)),(Le,De)=>Le.original.overlapOrTouch(De.original)||Le.modified.overlapOrTouch(De.modified))){const Le=he[0],De=he[he.length-1];re.push(new xe(Le.original.join(De.original),Le.modified.join(De.modified),he.map(be=>be.innerChanges[0])))}return(0,ge.eZ)(()=>!$&&re.length>0&&(re[0].modified.startLineNumber!==re[0].original.startLineNumber||v.length-re[re.length-1].modified.endLineNumberExclusive!==u.length-re[re.length-1].original.endLineNumberExclusive)?!1:(0,ge.DM)(re,(he,Le)=>Le.original.startLineNumber-he.original.endLineNumberExclusive===Le.modified.startLineNumber-he.modified.endLineNumberExclusive&&he.original.endLineNumberExclusive<Le.original.startLineNumber&&he.modified.endLineNumberExclusive<Le.modified.startLineNumber)),re}function hi(Ne,u,v){let $=0,re=0;Ne.modifiedRange.endColumn===1&&Ne.originalRange.endColumn===1&&Ne.originalRange.startLineNumber+$<=Ne.originalRange.endLineNumber&&Ne.modifiedRange.startLineNumber+$<=Ne.modifiedRange.endLineNumber&&(re=-1),Ne.modifiedRange.startColumn-1>=v[Ne.modifiedRange.startLineNumber-1].length&&Ne.originalRange.startColumn-1>=u[Ne.originalRange.startLineNumber-1].length&&Ne.originalRange.startLineNumber<=Ne.originalRange.endLineNumber+re&&Ne.modifiedRange.startLineNumber<=Ne.modifiedRange.endLineNumber+re&&($=1);const he=new j.z(Ne.originalRange.startLineNumber+$,Ne.originalRange.endLineNumber+1+re),Le=new j.z(Ne.modifiedRange.startLineNumber+$,Ne.modifiedRange.endLineNumber+1+re);return new xe(he,Le,[Ne])}function Kn(Ne){return new ve(new j.z(Ne.seq1Range.start+1,Ne.seq1Range.endExclusive+1),new j.z(Ne.seq2Range.start+1,Ne.seq2Range.endExclusive+1))}const Oe={getLegacy:()=>new Ge,getDefault:()=>new tr};var q=N(6364),ye=N(5173),Je=N(413);function ft(Ne){const u=[];for(const v of Ne){const $=Number(v);($||$===0&&v.replace(/\s/g,"")!=="")&&u.push($)}return u}function Nt(Ne,u,v,$){return{red:Ne/255,blue:v/255,green:u/255,alpha:$}}function Vt(Ne,u){const v=u.index,$=u[0].length;if(!v)return;const re=Ne.positionAt(v);return{startLineNumber:re.lineNumber,startColumn:re.column,endLineNumber:re.lineNumber,endColumn:re.column+$}}function rn(Ne,u){if(!Ne)return;const v=Je.Il.Format.CSS.parseHex(u);if(v)return{range:Ne,color:Nt(v.rgba.r,v.rgba.g,v.rgba.b,v.rgba.a)}}function Bn(Ne,u,v){if(!Ne||u.length!==1)return;const re=u[0].values(),he=ft(re);return{range:Ne,color:Nt(he[0],he[1],he[2],v?he[3]:1)}}function En(Ne,u,v){if(!Ne||u.length!==1)return;const re=u[0].values(),he=ft(re),Le=new Je.Il(new Je.Oz(he[0],he[1]/100,he[2]/100,v?he[3]:1));return{range:Ne,color:Nt(Le.rgba.r,Le.rgba.g,Le.rgba.b,Le.rgba.a)}}function Pn(Ne,u){return typeof Ne=="string"?[...Ne.matchAll(u)]:Ne.findMatches(u)}function Si(Ne){const u=[],$=Pn(Ne,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if($.length>0)for(const re of $){const he=re.filter(Ae=>Ae!==void 0),Le=he[1],De=he[2];if(!De)continue;let be;if(Le==="rgb"){const Ae=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;be=Bn(Vt(Ne,re),Pn(De,Ae),!1)}else if(Le==="rgba"){const Ae=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;be=Bn(Vt(Ne,re),Pn(De,Ae),!0)}else if(Le==="hsl"){const Ae=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;be=En(Vt(Ne,re),Pn(De,Ae),!1)}else if(Le==="hsla"){const Ae=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;be=En(Vt(Ne,re),Pn(De,Ae),!0)}else Le==="#"&&(be=rn(Vt(Ne,re),Le+De));be&&u.push(be)}return u}function Zn(Ne){return!Ne||typeof Ne.getValue!="function"||typeof Ne.positionAt!="function"?[]:Si(Ne)}var ei=N(6767),Xn=N(2489);const Bi=!0,Hi=class Hi{constructor(){this._workerTextModelSyncServer=new Xn.WorkerTextModelSyncServer}dispose(){}_getModel(u){return this._workerTextModelSyncServer.getModel(u)}_getModels(){return this._workerTextModelSyncServer.getModels()}$acceptNewModel(u){this._workerTextModelSyncServer.$acceptNewModel(u)}$acceptModelChanged(u,v){this._workerTextModelSyncServer.$acceptModelChanged(u,v)}$acceptRemovedModel(u){this._workerTextModelSyncServer.$acceptRemovedModel(u)}$computeUnicodeHighlights(u,v,$){return sn(this,null,function*(){const re=this._getModel(u);return re?M.UnicodeTextModelHighlighter.computeUnicodeHighlights(re,v,$):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}$findSectionHeaders(u,v){return sn(this,null,function*(){const $=this._getModel(u);return $?(0,ei.findSectionHeaders)($,v):[]})}$computeDiff(u,v,$,re){return sn(this,null,function*(){const he=this._getModel(u),Le=this._getModel(v);return!he||!Le?null:fi.computeDiff(he,Le,$,re)})}static computeDiff(u,v,$,re){const he=re==="advanced"?Oe.getDefault():Oe.getLegacy(),Le=u.getLinesContent(),De=v.getLinesContent(),be=he.computeDiff(Le,De,$),Ae=be.changes.length>0?!1:this._modelsAreIdentical(u,v);function Ke(Ze){return Ze.map(_e=>{var at;return[_e.original.startLineNumber,_e.original.endLineNumberExclusive,_e.modified.startLineNumber,_e.modified.endLineNumberExclusive,(at=_e.innerChanges)==null?void 0:at.map(ct=>[ct.originalRange.startLineNumber,ct.originalRange.startColumn,ct.originalRange.endLineNumber,ct.originalRange.endColumn,ct.modifiedRange.startLineNumber,ct.modifiedRange.startColumn,ct.modifiedRange.endLineNumber,ct.modifiedRange.endColumn])]})}return{identical:Ae,quitEarly:be.hitTimeout,changes:Ke(be.changes),moves:be.moves.map(Ze=>[Ze.lineRangeMapping.original.startLineNumber,Ze.lineRangeMapping.original.endLineNumberExclusive,Ze.lineRangeMapping.modified.startLineNumber,Ze.lineRangeMapping.modified.endLineNumberExclusive,Ke(Ze.changes)])}}static _modelsAreIdentical(u,v){const $=u.getLineCount(),re=v.getLineCount();if($!==re)return!1;for(let he=1;he<=$;he++){const Le=u.getLineContent(he),De=v.getLineContent(he);if(Le!==De)return!1}return!0}$computeMoreMinimalEdits(u,v,$){return sn(this,null,function*(){const re=this._getModel(u);if(!re)return v;const he=[];let Le;v=v.slice(0).sort((be,Ae)=>{if(be.range&&Ae.range)return B.e.compareRangesUsingStarts(be.range,Ae.range);const Ke=be.range?0:1,Ze=Ae.range?0:1;return Ke-Ze});let De=0;for(let be=1;be<v.length;be++)B.e.getEndPosition(v[De].range).equals(B.e.getStartPosition(v[be].range))?(v[De].range=B.e.fromPositions(B.e.getStartPosition(v[De].range),B.e.getEndPosition(v[be].range)),v[De].text+=v[be].text):(De++,v[De]=v[be]);v.length=De+1;for(let{range:be,text:Ae,eol:Ke}of v){if(typeof Ke=="number"&&(Le=Ke),B.e.isEmpty(be)&&!Ae)continue;const Ze=re.getValueInRange(be);if(Ae=Ae.replace(/\r\n|\n|\r/g,re.eol),Ze===Ae)continue;if(Math.max(Ae.length,Ze.length)>fi._diffLimit){he.push({range:be,text:Ae});continue}const _e=U(Ze,Ae,$),at=re.offsetAt(B.e.lift(be).getStartPosition());for(const ct of _e){const xt=re.positionAt(at+ct.originalStart),Tt=re.positionAt(at+ct.originalStart+ct.originalLength),zt={text:Ae.substr(ct.modifiedStart,ct.modifiedLength),range:{startLineNumber:xt.lineNumber,startColumn:xt.column,endLineNumber:Tt.lineNumber,endColumn:Tt.column}};re.getValueInRange(zt.range)!==zt.text&&he.push(zt)}}return typeof Le=="number"&&he.push({eol:Le,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),he})}$computeLinks(u){return sn(this,null,function*(){const v=this._getModel(u);return v?fe(v):null})}$computeDefaultDocumentColors(u){return sn(this,null,function*(){const v=this._getModel(u);return v?Zn(v):null})}$textualSuggest(u,v,$,re){return sn(this,null,function*(){const he=new A.G,Le=new RegExp($,re),De=new Set;e:for(const be of u){const Ae=this._getModel(be);if(Ae){for(const Ke of Ae.words(Le))if(!(Ke===v||!isNaN(Number(Ke)))&&(De.add(Ke),De.size>fi._suggestionsLimit))break e}}return{words:Array.from(De),duration:he.elapsed()}})}$computeWordRanges(u,v,$,re){return sn(this,null,function*(){const he=this._getModel(u);if(!he)return Object.create(null);const Le=new RegExp($,re),De=Object.create(null);for(let be=v.startLineNumber;be<v.endLineNumber;be++){const Ae=he.getLineWords(be,Le);for(const Ke of Ae){if(!isNaN(Number(Ke.word)))continue;let Ze=De[Ke.word];Ze||(Ze=[],De[Ke.word]=Ze),Ze.push({startLineNumber:be,startColumn:Ke.startColumn,endLineNumber:be,endColumn:Ke.endColumn})}}return De})}$navigateValueSet(u,v,$,re,he){return sn(this,null,function*(){const Le=this._getModel(u);if(!Le)return null;const De=new RegExp(re,he);v.startColumn===v.endColumn&&(v={startLineNumber:v.startLineNumber,startColumn:v.startColumn,endLineNumber:v.endLineNumber,endColumn:v.endColumn+1});const be=Le.getValueInRange(v),Ae=Le.getWordAtPosition({lineNumber:v.startLineNumber,column:v.startColumn},De);if(!Ae)return null;const Ke=Le.getValueInRange(Ae);return T.INSTANCE.navigateValueSet(v,be,Ae,Ke,$)})}};Hi._diffLimit=1e5,Hi._suggestionsLimit=1e4;let Wi=Hi;class fi extends Wi{constructor(u,v){super(),this._host=u,this._foreignModuleFactory=v,this._foreignModule=null}$ping(){return sn(this,null,function*(){return"pong"})}$loadForeignModule(u,v,$){const re=(De,be)=>this._host.$fhr(De,be),Le={host:(0,q.IU)($,re),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Le,v),Promise.resolve((0,q.$E)(this._foreignModule))):new Promise((De,be)=>{const Ae=Ke=>{this._foreignModule=Ke.create(Le,v),De((0,q.$E)(this._foreignModule))};if(!Bi)Promise.resolve().then(function(){var Ke=[N(7547)(`${u}`)];Ae.apply(null,Ke)}.bind(this)).catch(be.bind(this));else{const Ke=ye.Gi.asBrowserUri(`${u}.js`).toString(!0);N(9410)(`${Ke}`).then(Ae).catch(be)}})}$fmr(u,v){if(!this._foreignModule||typeof this._foreignModule[u]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+u));try{return Promise.resolve(this._foreignModule[u].apply(this._foreignModule,v))}catch($){return Promise.reject($)}}}function lr(Ne){return new fi(w.EditorWorkerHost.getChannel(Ne),null)}typeof importScripts=="function"&&(globalThis.monaco=(0,S.createMonacoBaseAPI)())},4541:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{IEditorWorkerService:function(){return K}});var O=N(1721);const K=(0,O.yh)("editorWorkerService")},7570:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{EditorWorkerHost:function(){return O}});const K=class K{static getChannel(U){return U.getChannel(K.CHANNEL_NAME)}static setChannel(U,I){U.setChannel(K.CHANNEL_NAME,I)}};K.CHANNEL_NAME="editorWorkerHost";let O=K},6767:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{findSectionHeaders:function(){return o}});const O=new RegExp("\\bMARK:\\s*(.*)$","d"),K=/^-+|-+$/g;function o(_,B){var J;let ae=[];if(B.findRegionSectionHeaders&&((J=B.foldingRules)!=null&&J.markers)){const Z=U(_,B);ae=ae.concat(Z)}if(B.findMarkSectionHeaders){const Z=I(_);ae=ae.concat(Z)}return ae}function U(_,B){const ae=[],J=_.getLineCount();for(let Z=1;Z<=J;Z++){const y=_.getLineContent(Z),k=y.match(B.foldingRules.markers.start);if(k){const x={startLineNumber:Z,startColumn:k[0].length+1,endLineNumber:Z,endColumn:y.length+1};if(x.endColumn>x.startColumn){const g=Lr(wi({range:x},b(y.substring(k[0].length))),{shouldBeInComments:!1});(g.text||g.hasSeparatorLine)&&ae.push(g)}}}return ae}function I(_){const B=[],ae=_.getLineCount();for(let J=1;J<=ae;J++){const Z=_.getLineContent(J);z(Z,J,B)}return B}function z(_,B,ae){O.lastIndex=0;const J=O.exec(_);if(J){const Z=J.indices[1][0]+1,y=J.indices[1][1]+1,k={startLineNumber:B,startColumn:Z,endLineNumber:B,endColumn:y};if(k.endColumn>k.startColumn){const x=Lr(wi({range:k},b(J[1])),{shouldBeInComments:!0});(x.text||x.hasSeparatorLine)&&ae.push(x)}}}function b(_){_=_.trim();const B=_.startsWith("-");return _=_.replace(K,""),{text:_,hasSeparatorLine:B}}},1628:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{getIconClasses:function(){return ae}});var O=N(5173),K=N(8464),o=N(9423),U=N(3274),I;(function(y){y[y.FILE=0]="FILE",y[y.FOLDER=1]="FOLDER",y[y.ROOT_FOLDER=2]="ROOT_FOLDER"})(I||(I={}));var z=N(3290),b;(function(y){function k(x){return x&&typeof x=="object"&&typeof x.id=="string"}y.isThemeColor=k})(b||(b={}));var _;(function(y){y.iconNameSegment="[A-Za-z0-9]+",y.iconNameExpression="[A-Za-z0-9-]+",y.iconModifierExpression="~[A-Za-z]+",y.iconNameCharacter="[A-Za-z0-9~-]";const k=new RegExp(`^(${y.iconNameExpression})(${y.iconModifierExpression})?$`);function x(V){const W=k.exec(V.id);if(!W)return x(z.l.error);const[,j,Q]=W,ge=["codicon","codicon-"+j];return Q&&ge.push("codicon-modifier-"+Q.substring(1)),ge}y.asClassNameArray=x;function g(V){return x(V).join(" ")}y.asClassName=g;function ue(V){return"."+x(V).join(".")}y.asCSSSelector=ue;function fe(V){return V&&typeof V=="object"&&typeof V.id=="string"&&(typeof V.color=="undefined"||b.isThemeColor(V.color))}y.isThemeIcon=fe;const T=new RegExp(`^\\$\\((${y.iconNameExpression}(?:${y.iconModifierExpression})?)\\)$`);function S(V){const W=T.exec(V);if(!W)return;const[,j]=W;return{id:j}}y.fromString=S;function w(V){return{id:V}}y.fromId=w;function A(V,W){let j=V.id;const Q=j.lastIndexOf("~");return Q!==-1&&(j=j.substring(0,Q)),W&&(j=`${j}~${W}`),{id:j}}y.modify=A;function M(V){const W=V.id.lastIndexOf("~");if(W!==-1)return V.id.substring(W+1)}y.getModifier=M;function C(V,W){var j,Q;return V.id===W.id&&((j=V.color)==null?void 0:j.id)===((Q=W.color)==null?void 0:Q.id)}y.isEqual=C})(_||(_={}));const B=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function ae(y,k,x,g,ue){if(_.isThemeIcon(ue))return[`codicon-${ue.id}`,"predefined-file-icon"];if(o.o.isUri(ue))return[];const fe=g===I.ROOT_FOLDER?["rootfolder-icon"]:g===I.FOLDER?["folder-icon"]:["file-icon"];if(x){let T;if(x.scheme===O.lg.data)T=K.Vb.parseMetaData(x).get(K.Vb.META_DATA_LABEL);else{const S=x.path.match(B);S?(T=Z(S[2].toLowerCase()),S[1]&&fe.push(`${Z(S[1].toLowerCase())}-name-dir-icon`)):T=Z(x.authority.toLowerCase())}if(g===I.ROOT_FOLDER)fe.push(`${T}-root-name-folder-icon`);else if(g===I.FOLDER)fe.push(`${T}-name-folder-icon`);else{if(T){if(fe.push(`${T}-name-file-icon`),fe.push("name-file-icon"),T.length<=255){const w=T.split(".");for(let A=1;A<w.length;A++)fe.push(`${w.slice(A).join(".")}-ext-file-icon`)}fe.push("ext-file-icon")}const S=J(y,k,x);S&&fe.push(`${Z(S)}-lang-file-icon`)}}return fe}function J(y,k,x){if(!x)return null;let g=null;if(x.scheme===O.lg.data){const fe=K.Vb.parseMetaData(x).get(K.Vb.META_DATA_MIME);fe&&(g=k.getLanguageIdByMimeType(fe))}else{const ue=y.getModel(x);ue&&(g=ue.getLanguageId())}return g&&g!==U.bd?g:k.guessLanguageIdByFilepathOrFirstLine(x)}function Z(y){return y.replace(/[\s]/g,"/")}},6453:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ILanguageFeatureDebounceService:function(){return y},LanguageFeatureDebounceService:function(){return ue}});var O=N(3849),K=N(9941);function o(fe,T,S){return Math.min(Math.max(fe,T),S)}class U{constructor(){this._n=1,this._val=0}update(T){return this._val=this._val+(T-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class I{constructor(T){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(T),this._values.fill(0,0,T)}update(T){const S=this._values[this._index];return this._values[this._index]=T,this._index=(this._index+1)%this._values.length,this._sum-=S,this._sum+=T,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}var z=N(1721);const b=(0,z.yh)("environmentService");var _=N(4707),B=N(1178),ae=N(5173),J=function(fe,T,S,w){var A=arguments.length,M=A<3?T:w===null?w=Object.getOwnPropertyDescriptor(T,S):w,C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(fe,T,S,w);else for(var V=fe.length-1;V>=0;V--)(C=fe[V])&&(M=(A<3?C(M):A>3?C(T,S,M):C(T,S))||M);return A>3&&M&&Object.defineProperty(T,S,M),M},Z=function(fe,T){return function(S,w){T(S,w,fe)}};const y=(0,z.yh)("ILanguageFeatureDebounceService");var k;(function(fe){const T=new WeakMap;let S=0;function w(A){let M=T.get(A);return M===void 0&&(M=++S,T.set(A,M)),M}fe.of=w})(k||(k={}));class x{constructor(T){this._default=T}get(T){return this._default}update(T,S){return this._default}default(){return this._default}}class g{constructor(T,S,w,A,M,C){this._logService=T,this._name=S,this._registry=w,this._default=A,this._min=M,this._max=C,this._cache=new K.z6(50,.7)}_key(T){return T.id+this._registry.all(T).reduce((S,w)=>(0,O.SP)(k.of(w),S),0)}get(T){const S=this._key(T),w=this._cache.get(S);return w?o(w.value,this._min,this._max):this.default()}update(T,S){const w=this._key(T);let A=this._cache.get(w);A||(A=new I(6),this._cache.set(w,A));const M=o(A.update(S),this._min,this._max);return(0,ae.xn)(T.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${T.uri.toString()} is ${M}ms`),M}_overall(){const T=new U;for(const[,S]of this._cache)T.update(S.value);return T.value}default(){const T=this._overall()|0||this._default;return o(T,this._min,this._max)}}let ue=class{constructor(T,S){this._logService=T,this._data=new Map,this._isDev=S.isExtensionDevelopment||!S.isBuilt}for(T,S,w){var j,Q,ge;const A=(j=w==null?void 0:w.min)!=null?j:50,M=(Q=w==null?void 0:w.max)!=null?Q:kr(A,2),C=(ge=w==null?void 0:w.key)!=null?ge:void 0,V=`${k.of(T)},${A}${C?","+C:""}`;let W=this._data.get(V);return W||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${S}] is disabled in developed mode`),W=new x(A*1.5)):W=new g(this._logService,S,T,this._overallAverage()|0||A*1.5,A,M),this._data.set(V,W)),W}_overallAverage(){const T=new U;for(const S of this._data.values())T.update(S.default());return T.value}};ue=J([Z(0,B.VZ),Z(1,b)],ue),(0,_.z)(y,ue,1)},7924:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ILanguageFeaturesService:function(){return K}});var O=N(1721);const K=(0,O.yh)("ILanguageFeaturesService")},4279:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{LanguageFeaturesService:function(){return y}});var O=N(3130),K=N(338),o=N(3480),U=N(5034),I=N(9701);function z(k,x,g,ue,fe,T){if(Array.isArray(k)){let S=0;for(const w of k){const A=z(w,x,g,ue,fe,T);if(A===10)return A;A>S&&(S=A)}return S}else{if(typeof k=="string")return ue?k==="*"?5:k===g?10:0:0;if(k){const{language:S,pattern:w,scheme:A,hasAccessToAllModels:M,notebookType:C}=k;if(!ue&&!M)return 0;C&&fe&&(x=fe);let V=0;if(A)if(A===x.scheme)V=10;else if(A==="*")V=5;else return 0;if(S)if(S===g)V=10;else if(S==="*")V=Math.max(V,5);else return 0;if(C)if(C===T)V=10;else if(C==="*"&&T!==void 0)V=Math.max(V,5);else return 0;if(w){let W;if(typeof w=="string"?W=w:W=Lr(wi({},w),{base:(0,I.Fv)(w.base)}),W===x.fsPath||(0,U.EQ)(W,x.fsPath))V=10;else return 0}return V}else return 0}}function b(k){return typeof k=="string"?!1:Array.isArray(k)?k.every(b):!!k.exclusive}class _{constructor(x,g,ue,fe,T){this.uri=x,this.languageId=g,this.notebookUri=ue,this.notebookType=fe,this.recursive=T}equals(x){var g,ue;return this.notebookType===x.notebookType&&this.languageId===x.languageId&&this.uri.toString()===x.uri.toString()&&((g=this.notebookUri)==null?void 0:g.toString())===((ue=x.notebookUri)==null?void 0:ue.toString())&&this.recursive===x.recursive}}class B{constructor(x){this._notebookInfoResolver=x,this._clock=0,this._entries=[],this._onDidChange=new O.Q5,this.onDidChange=this._onDidChange.event}register(x,g){let ue={selector:x,provider:g,_score:-1,_time:this._clock++};return this._entries.push(ue),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,K.OF)(()=>{if(ue){const fe=this._entries.indexOf(ue);fe>=0&&(this._entries.splice(fe,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),ue=void 0)}})}has(x){return this.all(x).length>0}all(x){if(!x)return[];this._updateScores(x,!1);const g=[];for(const ue of this._entries)ue._score>0&&g.push(ue.provider);return g}ordered(x,g=!1){const ue=[];return this._orderedForEach(x,g,fe=>ue.push(fe.provider)),ue}orderedGroups(x){const g=[];let ue,fe;return this._orderedForEach(x,!1,T=>{ue&&fe===T._score?ue.push(T.provider):(fe=T._score,ue=[T.provider],g.push(ue))}),g}_orderedForEach(x,g,ue){this._updateScores(x,g);for(const fe of this._entries)fe._score>0&&ue(fe)}_updateScores(x,g){var T,S;const ue=(T=this._notebookInfoResolver)==null?void 0:T.call(this,x.uri),fe=ue?new _(x.uri,x.getLanguageId(),ue.uri,ue.type,g):new _(x.uri,x.getLanguageId(),void 0,void 0,g);if(!((S=this._lastCandidate)!=null&&S.equals(fe))){this._lastCandidate=fe;for(const w of this._entries)if(w._score=z(w.selector,fe.uri,fe.languageId,(0,o.pt)(x),fe.notebookUri,fe.notebookType),b(w.selector)&&w._score>0)if(g)w._score=0;else{for(const A of this._entries)A._score=0;w._score=1e3;break}this._entries.sort(B._compareByScoreAndTime)}}static _compareByScoreAndTime(x,g){return x._score<g._score?1:x._score>g._score?-1:ae(x.selector)&&!ae(g.selector)?1:!ae(x.selector)&&ae(g.selector)?-1:x._time<g._time?1:x._time>g._time?-1:0}}function ae(k){return typeof k=="string"?!1:Array.isArray(k)?k.some(ae):!!k.isBuiltin}var J=N(7924),Z=N(4707);class y{constructor(){this.referenceProvider=new B(this._score.bind(this)),this.renameProvider=new B(this._score.bind(this)),this.newSymbolNamesProvider=new B(this._score.bind(this)),this.codeActionProvider=new B(this._score.bind(this)),this.definitionProvider=new B(this._score.bind(this)),this.typeDefinitionProvider=new B(this._score.bind(this)),this.declarationProvider=new B(this._score.bind(this)),this.implementationProvider=new B(this._score.bind(this)),this.documentSymbolProvider=new B(this._score.bind(this)),this.inlayHintsProvider=new B(this._score.bind(this)),this.colorProvider=new B(this._score.bind(this)),this.codeLensProvider=new B(this._score.bind(this)),this.documentFormattingEditProvider=new B(this._score.bind(this)),this.documentRangeFormattingEditProvider=new B(this._score.bind(this)),this.onTypeFormattingEditProvider=new B(this._score.bind(this)),this.signatureHelpProvider=new B(this._score.bind(this)),this.hoverProvider=new B(this._score.bind(this)),this.documentHighlightProvider=new B(this._score.bind(this)),this.multiDocumentHighlightProvider=new B(this._score.bind(this)),this.selectionRangeProvider=new B(this._score.bind(this)),this.foldingRangeProvider=new B(this._score.bind(this)),this.linkProvider=new B(this._score.bind(this)),this.inlineCompletionsProvider=new B(this._score.bind(this)),this.inlineEditProvider=new B(this._score.bind(this)),this.completionProvider=new B(this._score.bind(this)),this.linkedEditingRangeProvider=new B(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new B(this._score.bind(this)),this.documentSemanticTokensProvider=new B(this._score.bind(this)),this.documentDropEditProvider=new B(this._score.bind(this)),this.documentPasteEditProvider=new B(this._score.bind(this))}_score(x){var g;return(g=this._notebookTypeResolver)==null?void 0:g.call(this,x)}}(0,Z.z)(J.ILanguageFeaturesService,y,1)},7939:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{LanguageService:function(){return pi}});var O=N(3130),K=N(338),o=N(7921),U=N(7894),I=N(3655),z=N(3274);const b=(Oe,q)=>Oe===q;function _(Oe=b){return(q,ye)=>arrays.equals(q,ye,Oe)}function B(){return(Oe,q)=>Oe.equals(q)}function ae(Oe,q,ye){if(ye!==void 0){const Je=Oe;return Je==null||q===void 0||q===null?q===Je:ye(Je,q)}else{const Je=Oe;return(ft,Nt)=>ft==null||Nt===void 0||Nt===null?Nt===ft:Je(ft,Nt)}}function J(Oe,q){if(Oe===q)return!0;if(Array.isArray(Oe)&&Array.isArray(q)){if(Oe.length!==q.length)return!1;for(let ye=0;ye<Oe.length;ye++)if(!J(Oe[ye],q[ye]))return!1;return!0}if(Oe&&typeof Oe=="object"&&q&&typeof q=="object"&&Object.getPrototypeOf(Oe)===Object.prototype&&Object.getPrototypeOf(q)===Object.prototype){const ye=Oe,Je=q,ft=Object.keys(ye),Nt=Object.keys(Je),Vt=new Set(Nt);if(ft.length!==Nt.length)return!1;for(const rn of ft)if(!Vt.has(rn)||!J(ye[rn],Je[rn]))return!1;return!0}return!1}const Z=new WeakMap;class y{constructor(q,ye,Je){this.owner=q,this.debugNameSource=ye,this.referenceFn=Je}getDebugName(q){return g(q,this)}}const k=new Map,x=new WeakMap;function g(Oe,q){var ft;const ye=x.get(Oe);if(ye)return ye;const Je=ue(Oe,q);if(Je){let Nt=(ft=k.get(Je))!=null?ft:0;Nt++,k.set(Je,Nt);const Vt=Nt===1?Je:`${Je}#${Nt}`;return x.set(Oe,Vt),Vt}}function ue(Oe,q){const ye=x.get(Oe);if(ye)return ye;const Je=q.owner?w(q.owner)+".":"";let ft;const Nt=q.debugNameSource;if(Nt!==void 0)if(typeof Nt=="function"){if(ft=Nt(),ft!==void 0)return Je+ft}else return Je+Nt;const Vt=q.referenceFn;if(Vt!==void 0&&(ft=M(Vt),ft!==void 0))return Je+ft;if(q.owner!==void 0){const rn=fe(q.owner,Oe);if(rn!==void 0)return Je+rn}}function fe(Oe,q){for(const ye in Oe)if(Oe[ye]===q)return ye}const T=new Map,S=new WeakMap;function w(Oe){var Nt;const q=S.get(Oe);if(q)return q;const ye=A(Oe);let Je=(Nt=T.get(ye))!=null?Nt:0;Je++,T.set(ye,Je);const ft=Je===1?ye:`${ye}#${Je}`;return S.set(Oe,ft),ft}function A(Oe){const q=Oe.constructor;return q?q.name:"Object"}function M(Oe){const q=Oe.toString(),Je=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(q),ft=Je?Je[1]:void 0;return ft==null?void 0:ft.trim()}let C;function V(Oe){C=Oe}function W(){return C}class j{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(q){return Q([ge(Me("|  ",this.indentation)),q])}formatInfo(q){return q.hadValue?q.didChange?[ge(" "),X(G(q.oldValue,70),{color:"red",strikeThrough:!0}),ge(" "),X(G(q.newValue,60),{color:"green"})]:[ge(" (unchanged)")]:[ge(" "),X(G(q.newValue,60),{color:"green"}),ge(" (initial)")]}handleObservableChanged(q,ye){console.log(...this.textToConsoleArgs([ne("observable value changed"),X(q.debugName,{color:"BlueViolet"}),...this.formatInfo(ye)]))}formatChanges(q){if(q.size!==0)return X(" (changed deps: "+[...q].map(ye=>ye.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(q){const ye=q.handleChange;this.changedObservablesSets.set(q,new Set),q.handleChange=(Je,ft)=>(this.changedObservablesSets.get(q).add(Je),ye.apply(q,[Je,ft]))}handleDerivedRecomputed(q,ye){var ft;const Je=this.changedObservablesSets.get(q);console.log(...this.textToConsoleArgs([ne("derived recomputed"),X(q.debugName,{color:"BlueViolet"}),...this.formatInfo(ye),this.formatChanges(Je),{data:[{fn:(ft=q._debugNameData.referenceFn)!=null?ft:q._computeFn}]}])),Je.clear()}handleFromEventObservableTriggered(q,ye){console.log(...this.textToConsoleArgs([ne("observable from event triggered"),X(q.debugName,{color:"BlueViolet"}),...this.formatInfo(ye),{data:[{fn:q._getValue}]}]))}handleAutorunCreated(q){const ye=q.handleChange;this.changedObservablesSets.set(q,new Set),q.handleChange=(Je,ft)=>(this.changedObservablesSets.get(q).add(Je),ye.apply(q,[Je,ft]))}handleAutorunTriggered(q){var Je;const ye=this.changedObservablesSets.get(q);console.log(...this.textToConsoleArgs([ne("autorun"),X(q.debugName,{color:"BlueViolet"}),this.formatChanges(ye),{data:[{fn:(Je=q._debugNameData.referenceFn)!=null?Je:q._runFn}]}])),ye.clear(),this.indentation++}handleAutorunFinished(q){this.indentation--}handleBeginTransaction(q){let ye=q.getDebugName();ye===void 0&&(ye=""),console.log(...this.textToConsoleArgs([ne("transaction"),X(ye,{color:"BlueViolet"}),{data:[{fn:q._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function Q(Oe){const q=new Array,ye=[];let Je="";function ft(Vt){if("length"in Vt)for(const rn of Vt)rn&&ft(rn);else"text"in Vt?(Je+=`%c${Vt.text}`,q.push(Vt.style),Vt.data&&ye.push(...Vt.data)):"data"in Vt&&ye.push(...Vt.data)}ft(Oe);const Nt=[Je,...q];return Nt.push(...ye),Nt}function ge(Oe){return X(Oe,{color:"black"})}function ne(Oe){return X(He(`${Oe}: `,10),{color:"black",bold:!0})}function X(Oe,q={color:"black"}){function ye(ft){return Object.entries(ft).reduce((Nt,[Vt,rn])=>`${Nt}${Vt}:${rn};`,"")}const Je={color:q.color};return q.strikeThrough&&(Je["text-decoration"]="line-through"),q.bold&&(Je["font-weight"]="bold"),{text:Oe,style:ye(Je)}}function G(Oe,q){switch(typeof Oe){case"number":return""+Oe;case"string":return Oe.length+2<=q?`"${Oe}"`:`"${Oe.substr(0,q-7)}"+...`;case"boolean":return Oe?"true":"false";case"undefined":return"undefined";case"object":return Oe===null?"null":Array.isArray(Oe)?ie(Oe,q):se(Oe,q);case"symbol":return Oe.toString();case"function":return`[[Function${Oe.name?" "+Oe.name:""}]]`;default:return""+Oe}}function ie(Oe,q){let ye="[ ",Je=!0;for(const ft of Oe){if(Je||(ye+=", "),ye.length-5>q){ye+="...";break}Je=!1,ye+=`${G(ft,q-ye.length)}`}return ye+=" ]",ye}function se(Oe,q){let ye="{ ",Je=!0;for(const[ft,Nt]of Object.entries(Oe)){if(Je||(ye+=", "),ye.length-5>q){ye+="...";break}Je=!1,ye+=`${ft}: ${G(Nt,q-ye.length)}`}return ye+=" }",ye}function Me(Oe,q){let ye="";for(let Je=1;Je<=q;Je++)ye+=Oe;return ye}function He(Oe,q){for(;Oe.length<q;)Oe+=" ";return Oe}let Te;function ve(Oe){Te=Oe}let P;function ee(Oe){P=Oe}let xe;function Fe(Oe){xe=Oe}class Ue{get TChange(){return null}reportChanges(){this.get()}read(q){return q?q.readObservable(this):this.get()}map(q,ye){const Je=ye===void 0?void 0:q,ft=ye===void 0?q:ye;return xe({owner:Je,debugName:()=>{const Nt=M(ft);if(Nt!==void 0)return Nt;const rn=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(ft.toString());if(rn)return`${this.debugName}.${rn[2]}`;if(!Je)return`${this.debugName} (mapped)`},debugReferenceFn:ft},Nt=>ft(this.read(Nt),Nt))}flatten(){return xe({owner:void 0,debugName:()=>`${this.debugName} (flattened)`},q=>this.read(q).read(q))}recomputeInitiallyAndOnChange(q,ye){return q.add(Te(this,ye)),this}keepObserved(q){return q.add(P(this)),this}}class qe extends Ue{constructor(){super(...arguments),this.observers=new Set}addObserver(q){const ye=this.observers.size;this.observers.add(q),ye===0&&this.onFirstObserverAdded()}removeObserver(q){this.observers.delete(q)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Ge(Oe,q){const ye=new lt(Oe,q);try{Oe(ye)}finally{ye.finish()}}let We=null;function bt(Oe){if(We)Oe(We);else{const q=new lt(Oe,void 0);We=q;try{Oe(q)}finally{q.finish(),We=void 0}}}function tt(Oe,q){return sn(this,null,function*(){const ye=new lt(Oe,q);try{yield Oe(ye)}finally{ye.finish()}})}function ot(Oe,q,ye){Oe?q(Oe):Ge(q,ye)}class lt{constructor(q,ye){var Je;this._fn=q,this._getDebugName=ye,this.updatingObservers=[],(Je=W())==null||Je.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():M(this._fn)}updateObserver(q,ye){this.updatingObservers.push({observer:q,observable:ye}),q.beginUpdate(ye)}finish(){var ye;const q=this.updatingObservers;for(let Je=0;Je<q.length;Je++){const{observer:ft,observable:Nt}=q[Je];ft.endUpdate(Nt)}this.updatingObservers=null,(ye=W())==null||ye.handleEndTransaction()}}function Dt(Oe,q){let ye;return typeof Oe=="string"?ye=new DebugNameData(void 0,Oe,void 0):ye=new DebugNameData(Oe,void 0,void 0),new nn(ye,q,strictEquals)}class nn extends null{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"ObservableValue"}constructor(q,ye,Je){super(),this._debugNameData=q,this._equalityComparator=Je,this._value=ye}get(){return this._value}set(q,ye,Je){var Nt;if(Je===void 0&&this._equalityComparator(this._value,q))return;let ft;ye||(ye=ft=new lt(()=>{},()=>`Setting ${this.debugName}`));try{const Vt=this._value;this._setValue(q),(Nt=getLogger())==null||Nt.handleObservableChanged(this,{oldValue:Vt,newValue:q,change:Je,didChange:!0,hadValue:!0});for(const rn of this.observers)ye.updateObserver(rn,this),rn.handleChange(this,Je)}finally{ft&&ft.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(q){this._value=q}}function le(Oe,q){let ye;return typeof Oe=="string"?ye=new DebugNameData(void 0,Oe,void 0):ye=new DebugNameData(Oe,void 0,void 0),new D(ye,q,strictEquals)}class D extends null{_setValue(q){this._value!==q&&(this._value&&this._value.dispose(),this._value=q)}dispose(){var q;(q=this._value)==null||q.dispose()}}var F=N(6038);function ke(Oe,q){return q!==void 0?new _t(new DebugNameData(Oe,void 0,q),q,void 0,void 0,void 0,strictEquals):new _t(new DebugNameData(void 0,void 0,Oe),Oe,void 0,void 0,void 0,strictEquals)}function je(Oe,q,ye){return new Ct(new DebugNameData(Oe,void 0,q),q,void 0,void 0,void 0,strictEquals,ye)}function Ye(Oe,q){var ye;return new _t(new y(Oe.owner,Oe.debugName,Oe.debugReferenceFn),q,void 0,void 0,Oe.onLastObserverRemoved,(ye=Oe.equalsFn)!=null?ye:b)}Fe(Ye);function ht(Oe,q){var ye;return new _t(new DebugNameData(Oe.owner,Oe.debugName,void 0),q,Oe.createEmptyChangeSummary,Oe.handleChange,void 0,(ye=Oe.equalityComparer)!=null?ye:strictEquals)}function mt(Oe,q){let ye,Je;q===void 0?(ye=Oe,Je=void 0):(Je=Oe,ye=q);const ft=new DisposableStore;return new _t(new DebugNameData(Je,void 0,ye),Nt=>(ft.clear(),ye(Nt,ft)),void 0,void 0,()=>ft.dispose(),strictEquals)}function st(Oe,q){let ye,Je;q===void 0?(ye=Oe,Je=void 0):(Je=Oe,ye=q);let ft;return new _t(new DebugNameData(Je,void 0,ye),Nt=>{ft?ft.clear():ft=new DisposableStore;const Vt=ye(Nt);return Vt&&ft.add(Vt),Vt},void 0,void 0,()=>{ft&&(ft.dispose(),ft=void 0)},strictEquals)}class _t extends qe{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"(anonymous)"}constructor(q,ye,Je,ft,Nt=void 0,Vt){var rn,Bn;super(),this._debugNameData=q,this._computeFn=ye,this.createChangeSummary=Je,this._handleChange=ft,this._handleLastObserverRemoved=Nt,this._equalityComparator=Vt,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(rn=this.createChangeSummary)==null?void 0:rn.call(this),(Bn=W())==null||Bn.handleDerivedCreated(this)}onLastObserverRemoved(){var q;this.state=0,this.value=void 0;for(const ye of this.dependencies)ye.removeObserver(this);this.dependencies.clear(),(q=this._handleLastObserverRemoved)==null||q.call(this)}get(){var q;if(this.observers.size===0){const ye=this._computeFn(this,(q=this.createChangeSummary)==null?void 0:q.call(this));return this.onLastObserverRemoved(),ye}else{do{if(this.state===1){for(const ye of this.dependencies)if(ye.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var Vt,rn;if(this.state===3)return;const q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=q;const ye=this.state!==0,Je=this.value;this.state=3;const ft=this.changeSummary;this.changeSummary=(Vt=this.createChangeSummary)==null?void 0:Vt.call(this);try{this.value=this._computeFn(this,ft)}finally{for(const Bn of this.dependenciesToBeRemoved)Bn.removeObserver(this);this.dependenciesToBeRemoved.clear()}const Nt=ye&&!this._equalityComparator(Je,this.value);if((rn=W())==null||rn.handleDerivedRecomputed(this,{oldValue:Je,newValue:this.value,change:void 0,didChange:Nt,hadValue:ye}),Nt)for(const Bn of this.observers)Bn.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(q){this.updateCount++;const ye=this.updateCount===1;if(this.state===3&&(this.state=1,!ye))for(const Je of this.observers)Je.handlePossibleChange(this);if(ye)for(const Je of this.observers)Je.beginUpdate(this)}endUpdate(q){if(this.updateCount--,this.updateCount===0){const ye=[...this.observers];for(const Je of ye)Je.endUpdate(this)}(0,F.eZ)(()=>this.updateCount>=0)}handlePossibleChange(q){if(this.state===3&&this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)){this.state=1;for(const ye of this.observers)ye.handlePossibleChange(this)}}handleChange(q,ye){if(this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)){const Je=this._handleChange?this._handleChange({changedObservable:q,change:ye,didChange:Nt=>Nt===q},this.changeSummary):!0,ft=this.state===3;if(Je&&(this.state===1||ft)&&(this.state=2,ft))for(const Nt of this.observers)Nt.handlePossibleChange(this)}}readObservable(q){q.addObserver(this);const ye=q.get();return this.dependencies.add(q),this.dependenciesToBeRemoved.delete(q),ye}addObserver(q){const ye=!this.observers.has(q)&&this.updateCount>0;super.addObserver(q),ye&&q.beginUpdate(this)}removeObserver(q){const ye=this.observers.has(q)&&this.updateCount>0;super.removeObserver(q),ye&&q.endUpdate(this)}}class Ct extends null{constructor(q,ye,Je,ft,Nt=void 0,Vt,rn){super(q,ye,Je,ft,Nt,Vt),this.set=rn}}function Lt(Oe){return new Be(new y(void 0,void 0,Oe),Oe,void 0,void 0)}function Rt(Oe,q){var ye;return new Be(new DebugNameData(Oe.owner,Oe.debugName,(ye=Oe.debugReferenceFn)!=null?ye:q),q,void 0,void 0)}function pt(Oe,q){var ye;return new Be(new DebugNameData(Oe.owner,Oe.debugName,(ye=Oe.debugReferenceFn)!=null?ye:q),q,Oe.createEmptyChangeSummary,Oe.handleChange)}function m(Oe,q){var ft;const ye=new DisposableStore,Je=pt({owner:Oe.owner,debugName:Oe.debugName,debugReferenceFn:(ft=Oe.debugReferenceFn)!=null?ft:q,createEmptyChangeSummary:Oe.createEmptyChangeSummary,handleChange:Oe.handleChange},(Nt,Vt)=>{ye.clear(),q(Nt,Vt,ye)});return toDisposable(()=>{Je.dispose(),ye.dispose()})}function H(Oe){const q=new DisposableStore,ye=Rt({owner:void 0,debugName:void 0,debugReferenceFn:Oe},Je=>{q.clear(),Oe(Je,q)});return toDisposable(()=>{ye.dispose(),q.dispose()})}class Be{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"(anonymous)"}constructor(q,ye,Je,ft){var Nt,Vt;this._debugNameData=q,this._runFn=ye,this.createChangeSummary=Je,this._handleChange=ft,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(Nt=this.createChangeSummary)==null?void 0:Nt.call(this),(Vt=W())==null||Vt.handleAutorunCreated(this),this._runIfNeeded(),(0,K.wi)(this)}dispose(){this.disposed=!0;for(const q of this.dependencies)q.removeObserver(this);this.dependencies.clear(),(0,K.Nq)(this)}_runIfNeeded(){var Je,ft,Nt;if(this.state===3)return;const q=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=q,this.state=3;const ye=this.disposed;try{if(!ye){(Je=W())==null||Je.handleAutorunTriggered(this);const Vt=this.changeSummary;this.changeSummary=(ft=this.createChangeSummary)==null?void 0:ft.call(this),this._runFn(this,Vt)}}finally{ye||(Nt=W())==null||Nt.handleAutorunFinished(this);for(const Vt of this.dependenciesToBeRemoved)Vt.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const q of this.dependencies)if(q.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,F.eZ)(()=>this.updateCount>=0)}handlePossibleChange(q){this.state===3&&this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)&&(this.state=1)}handleChange(q,ye){this.dependencies.has(q)&&!this.dependenciesToBeRemoved.has(q)&&(!this._handleChange||this._handleChange({changedObservable:q,change:ye,didChange:ft=>ft===q},this.changeSummary))&&(this.state=2)}readObservable(q){if(this.disposed)return q.get();q.addObserver(this);const ye=q.get();return this.dependencies.add(q),this.dependenciesToBeRemoved.delete(q),ye}}(function(Oe){Oe.Observer=Be})(Lt||(Lt={}));function n(Oe){return new ut(Oe)}class ut extends null{constructor(q){super(),this.value=q}get debugName(){return this.toString()}get(){return this.value}addObserver(q){}removeObserver(q){}toString(){return`Const: ${this.value}`}}function kt(...Oe){let q,ye,Je;return Oe.length===3?[q,ye,Je]=Oe:[ye,Je]=Oe,new Yt(new y(q,void 0,Je),ye,Je,()=>Yt.globalTransaction,b)}function jt(Oe,q,ye){var Je,ft;return new Yt(new DebugNameData(Oe.owner,Oe.debugName,(Je=Oe.debugReferenceFn)!=null?Je:ye),q,ye,()=>Yt.globalTransaction,(ft=Oe.equalsFn)!=null?ft:strictEquals)}class Yt extends qe{constructor(q,ye,Je,ft,Nt){super(),this._debugNameData=q,this.event=ye,this._getValue=Je,this._getTransaction=ft,this._equalityComparator=Nt,this.hasValue=!1,this.handleEvent=Vt=>{var Si;const rn=this._getValue(Vt),Bn=this.value,En=!this.hasValue||!this._equalityComparator(Bn,rn);let Pn=!1;En&&(this.value=rn,this.hasValue&&(Pn=!0,ot(this._getTransaction(),Zn=>{var ei;(ei=W())==null||ei.handleFromEventObservableTriggered(this,{oldValue:Bn,newValue:rn,change:void 0,didChange:En,hadValue:this.hasValue});for(const Xn of this.observers)Zn.updateObserver(Xn,this),Xn.handleChange(this,void 0)},()=>{const Zn=this.getDebugName();return"Event fired"+(Zn?`: ${Zn}`:"")})),this.hasValue=!0),Pn||(Si=W())==null||Si.handleFromEventObservableTriggered(this,{oldValue:Bn,newValue:rn,change:void 0,didChange:En,hadValue:this.hasValue})}}getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const q=this.getDebugName();return"From Event"+(q?`: ${q}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(function(Oe){Oe.Observer=Yt;function q(ye,Je){let ft=!1;Yt.globalTransaction===void 0&&(Yt.globalTransaction=ye,ft=!0);try{Je()}finally{ft&&(Yt.globalTransaction=void 0)}}Oe.batchEventsGlobally=q})(kt||(kt={}));function cn(Oe,q){return new un(Oe,q)}class un extends null{constructor(q,ye){super(),this.debugName=q,this.event=ye,this.handleEvent=()=>{transaction(Je=>{for(const ft of this.observers)Je.updateObserver(ft,this),ft.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function Zt(Oe){return typeof Oe=="string"?new Ht(Oe):new Ht(void 0,Oe)}class Ht extends null{get debugName(){var q;return(q=new DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!=null?q:"Observable Signal"}toString(){return this.debugName}constructor(q,ye){super(),this._debugName=q,this._owner=ye}trigger(q,ye){if(!q){transaction(Je=>{this.trigger(Je,ye)},()=>`Trigger signal ${this.debugName}`);return}for(const Je of this.observers)q.updateObserver(Je,this),Je.handleChange(this,ye)}get(){}}function hn(Oe){const q=new Tn(!1,void 0);return Oe.addObserver(q),(0,K.OF)(()=>{Oe.removeObserver(q)})}ee(hn);function Wn(Oe,q){const ye=new Tn(!0,q);return Oe.addObserver(ye),q?q(Oe.get()):Oe.reportChanges(),(0,K.OF)(()=>{Oe.removeObserver(ye)})}ve(Wn);class Tn{constructor(q,ye){this._forceRecompute=q,this._handleValue=ye,this._counter=0}beginUpdate(q){this._counter++}endUpdate(q){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(q.get()):q.reportChanges())}handlePossibleChange(q){}handleChange(q,ye){}}function Qn(Oe,q){let ye;return derivedOpts({owner:Oe,debugReferenceFn:q},ft=>(ye=q(ft,ye),ye))}function Vi(Oe,q){let ye;const Je=Zt("derivedObservableWithWritableCache"),ft=derived(Oe,Nt=>(Je.read(Nt),ye=q(Nt,ye),ye));return Object.assign(ft,{clearCache:Nt=>{ye=void 0,Je.trigger(Nt)},setCache:(Nt,Vt)=>{ye=Nt,Je.trigger(Vt)}})}function Ui(Oe,q,ye,Je){let ft=new Ai(ye,Je);return derivedOpts({debugReferenceFn:ye,owner:Oe,onLastObserverRemoved:()=>{ft.dispose(),ft=new Ai(ye)}},Vt=>(ft.setItems(q.read(Vt)),ft.getItems()))}class Ai{constructor(q,ye){this._map=q,this._keySelector=ye,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(q=>q.store.dispose()),this._cache.clear()}setItems(q){const ye=[],Je=new Set(this._cache.keys());for(const ft of q){const Nt=this._keySelector?this._keySelector(ft):ft;let Vt=this._cache.get(Nt);if(Vt)Je.delete(Nt);else{const rn=new DisposableStore;Vt={out:this._map(ft,rn),store:rn},this._cache.set(Nt,Vt)}ye.push(Vt.out)}for(const ft of Je)this._cache.get(ft).store.dispose(),this._cache.delete(ft);this._items=ye}getItems(){return this._items}}class ni{constructor(q){this.observable=q}get onDidChange(){return Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}function On(Oe,q){return q instanceof ni?q.observable:kt(Oe,q.onDidChange,()=>q.value)}function Ti(Oe,q){return Qn(Oe,(ye,Je)=>Je!=null?Je:q(ye))}var Un=N(561);class kn{static fromFn(q){return new kn(q())}constructor(q){this._value=observableValue(this,void 0),this.promiseResult=this._value,this.promise=q.then(ye=>(transaction(Je=>{this._value.set(new jn(ye,void 0),Je)}),ye),ye=>{throw transaction(Je=>{this._value.set(new jn(void 0,ye),Je)}),ye})}}class jn{constructor(q,ye){this.data=q,this.error=ye}}function ii(Oe,q,ye,Je){return q||(q=ft=>ft!=null),new Promise((ft,Nt)=>{let Vt=!0,rn=!1;const Bn=Oe.map(Pn=>({isFinished:q(Pn),error:ye?ye(Pn):!1,state:Pn})),En=autorun(Pn=>{const{isFinished:Si,error:Zn,state:ei}=Bn.read(Pn);(Si||Zn)&&(Vt?rn=!0:En.dispose(),Zn?Nt(Zn===!0?ei:Zn):ft(ei))});if(Je){const Pn=Je.onCancellationRequested(()=>{En.dispose(),Pn.dispose(),Nt(new CancellationError)});if(Je.isCancellationRequested){En.dispose(),Pn.dispose(),Nt(new CancellationError);return}}Vt=!1,rn&&En.dispose()})}class zi extends null{get debugName(){var q;return(q=this._debugNameData.getDebugName(this))!=null?q:"LazyObservableValue"}constructor(q,ye,Je){super(),this._debugNameData=q,this._equalityComparator=Je,this._isUpToDate=!0,this._deltas=[],this._updateCounter=0,this._value=ye}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const q of this.observers)for(const ye of this._deltas)q.handleChange(this,ye);this._deltas.length=0}else for(const q of this.observers)q.handleChange(this,void 0)}_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const q of this.observers)q.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const q=[...this.observers];for(const ye of q)ye.endUpdate(this)}}addObserver(q){const ye=!this.observers.has(q)&&this._updateCounter>0;super.addObserver(q),ye&&q.beginUpdate(this)}removeObserver(q){const ye=this.observers.has(q)&&this._updateCounter>0;super.removeObserver(q),ye&&q.endUpdate(this)}set(q,ye,Je){if(Je===void 0&&this._equalityComparator(this._value,q))return;let ft;ye||(ye=ft=new TransactionImpl(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(q),Je!==void 0&&this._deltas.push(Je),ye.updateObserver({beginUpdate:()=>this._beginUpdate(),endUpdate:()=>this._endUpdate(),handleChange:(Nt,Vt)=>{},handlePossibleChange:Nt=>{}},this),this._updateCounter>1)for(const Nt of this.observers)Nt.handlePossibleChange(this)}finally{ft&&ft.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(q){this._value=q}}function Ln(Oe,q){var ye,Je;return Oe.lazy?new LazyObservableValue(new DebugNameData(Oe.owner,Oe.debugName,void 0),q,(ye=Oe.equalsFn)!=null?ye:strictEquals):new ObservableValue(new DebugNameData(Oe.owner,Oe.debugName,void 0),q,(Je=Oe.equalsFn)!=null?Je:strictEquals)}!1&&V(new j);const Kn=class Kn extends K.JT{constructor(q=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new O.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new O.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new O.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,Kn.instanceCount++,this._registry=this._register(new o.LanguagesRegistry(!0,q)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){Kn.instanceCount--,super.dispose()}isRegisteredLanguageId(q){return this._registry.isRegisteredLanguageId(q)}getLanguageIdByLanguageName(q){return this._registry.getLanguageIdByLanguageName(q)}getLanguageIdByMimeType(q){return this._registry.getLanguageIdByMimeType(q)}guessLanguageIdByFilepathOrFirstLine(q,ye){const Je=this._registry.guessLanguageIdByFilepathOrFirstLine(q,ye);return(0,U.Xh)(Je,null)}createById(q){return new hi(this.onDidChange,()=>this._createAndGetLanguageIdentifier(q))}createByFilepathOrFirstLine(q,ye){return new hi(this.onDidChange,()=>{const Je=this.guessLanguageIdByFilepathOrFirstLine(q,ye);return this._createAndGetLanguageIdentifier(Je)})}_createAndGetLanguageIdentifier(q){return(!q||!this.isRegisteredLanguageId(q))&&(q=z.bd),q}requestBasicLanguageFeatures(q){this._requestedBasicLanguages.has(q)||(this._requestedBasicLanguages.add(q),this._onDidRequestBasicLanguageFeatures.fire(q))}requestRichLanguageFeatures(q){this._requestedRichLanguages.has(q)||(this._requestedRichLanguages.add(q),this.requestBasicLanguageFeatures(q),I.RW.getOrCreate(q),this._onDidRequestRichLanguageFeatures.fire(q))}};Kn.instanceCount=0;let pi=Kn;class hi{constructor(q,ye){this._value=kt(this,q,()=>ye()),this.onDidChange=O.ju.fromObservable(this._value)}get languageId(){return this._value.get()}}},5981:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{clearPlatformLanguageAssociations:function(){return k},getLanguageIds:function(){return x},registerPlatformLanguageAssociation:function(){return J}});var O=N(5034),K=N(2542),o=N(5173),U=N(9701),I=N(8464),z=N(9632),b=N(3274);let _=[],B=[],ae=[];function J(T,S=!1){Z(T,!1,S)}function Z(T,S,w){const A=y(T,S);_.push(A),A.userConfigured?ae.push(A):B.push(A),w&&!A.userConfigured&&_.forEach(M=>{M.mime===A.mime||M.userConfigured||(A.extension&&M.extension===A.extension&&console.warn(`Overwriting extension <<${A.extension}>> to now point to mime <<${A.mime}>>`),A.filename&&M.filename===A.filename&&console.warn(`Overwriting filename <<${A.filename}>> to now point to mime <<${A.mime}>>`),A.filepattern&&M.filepattern===A.filepattern&&console.warn(`Overwriting filepattern <<${A.filepattern}>> to now point to mime <<${A.mime}>>`),A.firstline&&M.firstline===A.firstline&&console.warn(`Overwriting firstline <<${A.firstline}>> to now point to mime <<${A.mime}>>`))})}function y(T,S){return{id:T.id,mime:T.mime,filename:T.filename,extension:T.extension,filepattern:T.filepattern,firstline:T.firstline,userConfigured:S,filenameLowercase:T.filename?T.filename.toLowerCase():void 0,extensionLowercase:T.extension?T.extension.toLowerCase():void 0,filepatternLowercase:T.filepattern?(0,O.Qc)(T.filepattern.toLowerCase()):void 0,filepatternOnPath:T.filepattern?T.filepattern.indexOf(U.KR.sep)>=0:!1}}function k(){_=_.filter(T=>T.userConfigured),B=[]}function x(T,S){return g(T,S).map(w=>w.id)}function g(T,S){let w;if(T)switch(T.scheme){case o.lg.file:w=T.fsPath;break;case o.lg.data:{w=I.Vb.parseMetaData(T).get(I.Vb.META_DATA_LABEL);break}case o.lg.vscodeNotebookCell:w=void 0;break;default:w=T.path}if(!w)return[{id:"unknown",mime:K.v.unknown}];w=w.toLowerCase();const A=(0,U.EZ)(w),M=ue(w,A,ae);if(M)return[M,{id:b.bd,mime:K.v.text}];const C=ue(w,A,B);if(C)return[C,{id:b.bd,mime:K.v.text}];if(S){const V=fe(S);if(V)return[V,{id:b.bd,mime:K.v.text}]}return[{id:"unknown",mime:K.v.unknown}]}function ue(T,S,w){var V;let A,M,C;for(let W=w.length-1;W>=0;W--){const j=w[W];if(S===j.filenameLowercase){A=j;break}if(j.filepattern&&(!M||j.filepattern.length>M.filepattern.length)){const Q=j.filepatternOnPath?T:S;(V=j.filepatternLowercase)!=null&&V.call(j,Q)&&(M=j)}j.extension&&(!C||j.extension.length>C.extension.length)&&S.endsWith(j.extensionLowercase)&&(C=j)}if(A)return A;if(M)return M;if(C)return C}function fe(T){if((0,z.uS)(T)&&(T=T.substr(1)),T.length>0)for(let S=_.length-1;S>=0;S--){const w=_[S];if(!w.firstline)continue;const A=T.match(w.firstline);if(A&&A.length>0)return w}}},7921:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{LanguageIdCodec:function(){return ae},LanguagesRegistry:function(){return J}});var O=N(3130),K=N(338),o=N(9632),U=N(5981),I=N(3274),z=N(5085),b=N(4311);const _=Object.prototype.hasOwnProperty,B="vs.editor.nullLanguage";class ae{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(B,0),this._register(I.bd,1),this._nextLanguageId=2}_register(k,x){this._languageIdToLanguage[x]=k,this._languageToLanguageId.set(k,x)}register(k){if(this._languageToLanguageId.has(k))return;const x=this._nextLanguageId++;this._register(k,x)}encodeLanguageId(k){return this._languageToLanguageId.get(k)||0}decodeLanguageId(k){return this._languageIdToLanguage[k]||B}}const Z=class Z extends K.JT{constructor(k=!0,x=!1){super(),this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,Z.instanceCount++,this._warnOnOverwrite=x,this.languageIdCodec=new ae,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},k&&(this._initializeFromRegistry(),this._register(I.dQ.onDidChangeLanguages(g=>{this._initializeFromRegistry()})))}dispose(){Z.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,U.clearPlatformLanguageAssociations)();const k=[].concat(I.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(k)}_registerLanguages(k){for(const x of k)this._registerLanguage(x);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(x=>{const g=this._languages[x];g.name&&(this._nameMap[g.name]=g.identifier),g.aliases.forEach(ue=>{this._lowercaseNameMap[ue.toLowerCase()]=g.identifier}),g.mimetypes.forEach(ue=>{this._mimeTypesMap[ue]=g.identifier})}),b.B.as(z.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(k){const x=k.id;let g;_.call(this._languages,x)?g=this._languages[x]:(this.languageIdCodec.register(x),g={identifier:x,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[x]=g),this._mergeLanguage(g,k)}_mergeLanguage(k,x){const g=x.id;let ue=null;if(Array.isArray(x.mimetypes)&&x.mimetypes.length>0&&(k.mimetypes.push(...x.mimetypes),ue=x.mimetypes[0]),ue||(ue=`text/x-${g}`,k.mimetypes.push(ue)),Array.isArray(x.extensions)){x.configuration?k.extensions=x.extensions.concat(k.extensions):k.extensions=k.extensions.concat(x.extensions);for(const S of x.extensions)(0,U.registerPlatformLanguageAssociation)({id:g,mime:ue,extension:S},this._warnOnOverwrite)}if(Array.isArray(x.filenames))for(const S of x.filenames)(0,U.registerPlatformLanguageAssociation)({id:g,mime:ue,filename:S},this._warnOnOverwrite),k.filenames.push(S);if(Array.isArray(x.filenamePatterns))for(const S of x.filenamePatterns)(0,U.registerPlatformLanguageAssociation)({id:g,mime:ue,filepattern:S},this._warnOnOverwrite);if(typeof x.firstLine=="string"&&x.firstLine.length>0){let S=x.firstLine;S.charAt(0)!=="^"&&(S="^"+S);try{const w=new RegExp(S);(0,o.IO)(w)||(0,U.registerPlatformLanguageAssociation)({id:g,mime:ue,firstline:w},this._warnOnOverwrite)}catch(w){console.warn(`[${x.id}]: Invalid regular expression \`${S}\`: `,w)}}k.aliases.push(g);let fe=null;if(typeof x.aliases!="undefined"&&Array.isArray(x.aliases)&&(x.aliases.length===0?fe=[null]:fe=x.aliases),fe!==null)for(const S of fe)!S||S.length===0||k.aliases.push(S);const T=fe!==null&&fe.length>0;if(!(T&&fe[0]===null)){const S=(T?fe[0]:null)||g;(T||!k.name)&&(k.name=S)}x.configuration&&k.configurationFiles.push(x.configuration),x.icon&&k.icons.push(x.icon)}isRegisteredLanguageId(k){return k?_.call(this._languages,k):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(k){const x=k.toLowerCase();return _.call(this._lowercaseNameMap,x)?this._lowercaseNameMap[x]:null}getLanguageIdByMimeType(k){return k&&_.call(this._mimeTypesMap,k)?this._mimeTypesMap[k]:null}guessLanguageIdByFilepathOrFirstLine(k,x){return!k&&!x?[]:(0,U.getLanguageIds)(k,x)}};Z.instanceCount=0;let J=Z},231:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{IMarkerDecorationsService:function(){return K}});var O=N(1721);const K=(0,O.yh)("markerDecorationsService")},808:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{MarkerDecorationsService:function(){return M}});var O=N(9632),K;(function(V){V[V.Ignore=0]="Ignore",V[V.Info=1]="Info",V[V.Warning=2]="Warning",V[V.Error=3]="Error"})(K||(K={})),function(V){const W="error",j="warning",Q="warn",ge="info",ne="ignore";function X(ie){return ie?O.qq(W,ie)?V.Error:O.qq(j,ie)||O.qq(Q,ie)?V.Warning:O.qq(ge,ie)?V.Info:V.Ignore:V.Ignore}V.fromValue=X;function G(ie){switch(ie){case V.Error:return W;case V.Warning:return j;case V.Info:return ge;default:return ne}}V.toString=G}(K||(K={}));var o=K,U=N(4329),I=N(1721),z;(function(V){V[V.Hint=1]="Hint",V[V.Info=2]="Info",V[V.Warning=4]="Warning",V[V.Error=8]="Error"})(z||(z={})),function(V){function W(X,G){return G-X}V.compare=W;const j=Object.create(null);j[V.Error]=(0,U.NC)("sev.error","Error"),j[V.Warning]=(0,U.NC)("sev.warning","Warning"),j[V.Info]=(0,U.NC)("sev.info","Info");function Q(X){return j[X]||""}V.toString=Q;function ge(X){switch(X){case o.Error:return V.Error;case o.Warning:return V.Warning;case o.Info:return V.Info;case o.Ignore:return V.Hint}}V.fromSeverity=ge;function ne(X){switch(X){case V.Error:return o.Error;case V.Warning:return o.Warning;case V.Info:return o.Info;case V.Hint:return o.Ignore}}V.toSeverity=ne}(z||(z={}));var b;(function(V){const W="";function j(ge){return Q(ge,!0)}V.makeKey=j;function Q(ge,ne){const X=[W];return ge.source?X.push(ge.source.replace("\xA6","\\\xA6")):X.push(W),ge.code?typeof ge.code=="string"?X.push(ge.code.replace("\xA6","\\\xA6")):X.push(ge.code.value.replace("\xA6","\\\xA6")):X.push(W),ge.severity!==void 0&&ge.severity!==null?X.push(z.toString(ge.severity)):X.push(W),ge.message&&ne?X.push(ge.message.replace("\xA6","\\\xA6")):X.push(W),ge.startLineNumber!==void 0&&ge.startLineNumber!==null?X.push(ge.startLineNumber.toString()):X.push(W),ge.startColumn!==void 0&&ge.startColumn!==null?X.push(ge.startColumn.toString()):X.push(W),ge.endLineNumber!==void 0&&ge.endLineNumber!==null?X.push(ge.endLineNumber.toString()):X.push(W),ge.endColumn!==void 0&&ge.endColumn!==null?X.push(ge.endColumn.toString()):X.push(W),X.push(W),X.join("\xA6")}V.makeKeyOptionalMessage=Q})(b||(b={}));const _=(0,I.yh)("markerService");var B=N(338),ae=N(3480),J=N(2357),Z=N(3040),y=N(2361),k=N(8390),x=N(5173),g=N(3130),ue=N(9347),fe=N(9941);function T(V,W){const j=[],Q=[];for(const ge of V)W.has(ge)||j.push(ge);for(const ge of W)V.has(ge)||Q.push(ge);return{removed:j,added:Q}}function S(V,W){const j=new Set;for(const Q of W)V.has(Q)&&j.add(Q);return j}var w=function(V,W,j,Q){var ge=arguments.length,ne=ge<3?W:Q===null?Q=Object.getOwnPropertyDescriptor(W,j):Q,X;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ne=Reflect.decorate(V,W,j,Q);else for(var G=V.length-1;G>=0;G--)(X=V[G])&&(ne=(ge<3?X(ne):ge>3?X(W,j,ne):X(W,j))||ne);return ge>3&&ne&&Object.defineProperty(W,j,ne),ne},A=function(V,W){return function(j,Q){W(j,Q,V)}};let M=class extends B.JT{constructor(W,j){super(),this._markerService=j,this._onDidChangeMarker=this._register(new g.Q5),this._markerDecorations=new fe.Y9,W.getModels().forEach(Q=>this._onModelAdded(Q)),this._register(W.onModelAdded(this._onModelAdded,this)),this._register(W.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(W=>W.dispose()),this._markerDecorations.clear()}getMarker(W,j){const Q=this._markerDecorations.get(W);return Q&&Q.getMarker(j)||null}_handleMarkerChange(W){W.forEach(j=>{const Q=this._markerDecorations.get(j);Q&&this._updateDecorations(Q)})}_onModelAdded(W){const j=new C(W);this._markerDecorations.set(W.uri,j),this._updateDecorations(j)}_onModelRemoved(W){var Q;const j=this._markerDecorations.get(W.uri);j&&(j.dispose(),this._markerDecorations.delete(W.uri)),(W.uri.scheme===x.lg.inMemory||W.uri.scheme===x.lg.internal||W.uri.scheme===x.lg.vscode)&&((Q=this._markerService)==null||Q.read({resource:W.uri}).map(ge=>ge.owner).forEach(ge=>this._markerService.remove(ge,[W.uri])))}_updateDecorations(W){const j=this._markerService.read({resource:W.model.uri,take:500});W.update(j)&&this._onDidChangeMarker.fire(W.model)}};M=w([A(0,y.IModelService),A(1,_)],M);class C extends B.JT{constructor(W){super(),this.model=W,this._map=new fe.YQ,this._register((0,B.OF)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(W){const{added:j,removed:Q}=T(new Set(this._map.keys()),new Set(W));if(j.length===0&&Q.length===0)return!1;const ge=Q.map(G=>this._map.get(G)),ne=j.map(G=>({range:this._createDecorationRange(this.model,G),options:this._createDecorationOption(G)})),X=this.model.deltaDecorations(ge,ne);for(const G of Q)this._map.delete(G);for(let G=0;G<X.length;G++)this._map.set(j[G],X[G]);return!0}getMarker(W){return this._map.getKey(W.id)}_createDecorationRange(W,j){let Q=k.e.lift(j);if(j.severity===z.Hint&&!this._hasMarkerTag(j,1)&&!this._hasMarkerTag(j,2)&&(Q=Q.setEndPosition(Q.startLineNumber,Q.startColumn+2)),Q=W.validateRange(Q),Q.isEmpty()){const ge=W.getLineLastNonWhitespaceColumn(Q.startLineNumber)||W.getLineMaxColumn(Q.startLineNumber);if(ge===1||Q.endColumn>=ge)return Q;const ne=W.getWordAtPosition(Q.getStartPosition());ne&&(Q=new k.e(Q.startLineNumber,ne.startColumn,Q.endLineNumber,ne.endColumn))}else if(j.endColumn===Number.MAX_VALUE&&j.startColumn===1&&Q.startLineNumber===Q.endLineNumber){const ge=W.getLineFirstNonWhitespaceColumn(j.startLineNumber);ge<Q.endColumn&&(Q=new k.e(Q.startLineNumber,ge,Q.endLineNumber,Q.endColumn),j.startColumn=ge)}return Q}_createDecorationOption(W){let j,Q,ge,ne,X;switch(W.severity){case z.Hint:this._hasMarkerTag(W,2)?j=void 0:this._hasMarkerTag(W,1)?j="squiggly-unnecessary":j="squiggly-hint",ge=0;break;case z.Info:j="squiggly-info",Q=(0,J.EN)(Z.eS),ge=10,X={color:(0,J.EN)(ue.Gvr),position:1};break;case z.Warning:j="squiggly-warning",Q=(0,J.EN)(Z.Re),ge=20,X={color:(0,J.EN)(ue.Ivo),position:1};break;case z.Error:default:j="squiggly-error",Q=(0,J.EN)(Z.lK),ge=30,X={color:(0,J.EN)(ue.Gj_),position:1};break}return W.tags&&(W.tags.indexOf(1)!==-1&&(ne="squiggly-inline-unnecessary"),W.tags.indexOf(2)!==-1&&(ne="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:j,showIfCollapsed:!0,overviewRuler:{color:Q,position:ae.sh.Right},minimap:X,zIndex:ge,inlineClassName:ne}}_hasMarkerTag(W,j){return W.tags?W.tags.indexOf(j)>=0:!1}}},2361:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{IModelService:function(){return K}});var O=N(1721);const K=(0,O.yh)("modelService")},7751:function(vt,Se,N){"use strict";var Pi,Cr;N.r(Se),N.d(Se,{DefaultModelSHA1Computer:function(){return vs},ModelService:function(){return Ns}});var O=N(3130),K=N(338),o=N(264),U=N(7894),I=N(413),z=N(561),b=N(9632),_=N(9423),B=N(5453);class ae{static _nextVisibleColumn(e,t,i){return e===9?ae.nextRenderTabStop(t,i):b.K7(e)||b.C8(e)?t+2:t+1}static visibleColumnFromColumn(e,t,i){const s=Math.min(t-1,e.length),a=e.substring(0,s),f=new b.W1(a);let L=0;for(;!f.eol();){const R=b.ZH(a,s,f.offset);f.nextGraphemeLength(),L=this._nextVisibleColumn(R,L,i)}return L}static columnFromVisibleColumn(e,t,i){if(t<=0)return 1;const s=e.length,a=new b.W1(e);let f=0,L=1;for(;!a.eol();){const R=b.ZH(e,s,a.offset);a.nextGraphemeLength();const Y=this._nextVisibleColumn(R,f,i),ce=a.offset+1;if(Y>=t){const me=t-f;return Y-t<me?ce:L}f=Y,L=ce}return s+1}static nextRenderTabStop(e,t){return e+t-e%t}static nextIndentTabStop(e,t){return e+t-e%t}static prevRenderTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}static prevIndentTabStop(e,t){return Math.max(0,e-1-(e-1)%t)}}function J(p,e,t){let i=0;for(let a=0;a<p.length;a++)p.charAt(a)==="	"?i=ae.nextIndentTabStop(i,e):i++;let s="";if(!t){const a=Math.floor(i/e);i=i%e;for(let f=0;f<a;f++)s+="	"}for(let a=0;a<i;a++)s+=" ";return s}function Z(p,e,t){let i=b.LC(p);return i===-1&&(i=p.length),J(p.substring(0,i),e,t)+p.substring(i)}var y=N(2338),k=N(8390),x=N(4360);const g={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var ue=N(4033),fe=N(2343),T;(function(p){p[p.None=0]="None",p[p.Indent=1]="Indent",p[p.IndentOutdent=2]="IndentOutdent",p[p.Outdent=3]="Outdent"})(T||(T={}));class S{constructor(e){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=e.open,this.close=e.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(e.notIn))for(let t=0,i=e.notIn.length;t<i;t++)switch(e.notIn[t]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(e){switch(e){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(e,t){if(e.getTokenCount()===0)return!0;const i=e.findTokenIndexAtOffset(t-2),s=e.getStandardTokenType(i);return this.isOK(s)}_findNeutralCharacterInRange(e,t){for(let i=e;i<=t;i++){const s=String.fromCharCode(i);if(!this.open.includes(s)&&!this.close.includes(s))return s}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class w{constructor(e){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const t of e)A(this.autoClosingPairsOpenByStart,t.open.charAt(0),t),A(this.autoClosingPairsOpenByEnd,t.open.charAt(t.open.length-1),t),A(this.autoClosingPairsCloseByStart,t.close.charAt(0),t),A(this.autoClosingPairsCloseByEnd,t.close.charAt(t.close.length-1),t),t.close.length===1&&t.open.length===1&&A(this.autoClosingPairsCloseSingleChar,t.close,t)}}function A(p,e,t){p.has(e)?p.get(e).push(t):p.set(e,[t])}const Pr=class Pr{constructor(e){if(e.autoClosingPairs?this._autoClosingPairs=e.autoClosingPairs.map(t=>new S(t)):e.brackets?this._autoClosingPairs=e.brackets.map(t=>new S({open:t[0],close:t[1]})):this._autoClosingPairs=[],e.__electricCharacterSupport&&e.__electricCharacterSupport.docComment){const t=e.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new S({open:t.open,close:t.close||""}))}this._autoCloseBeforeForQuotes=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:Pr.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof e.autoCloseBefore=="string"?e.autoCloseBefore:Pr.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=e.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(e){return e?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}};Pr.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,Pr.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`;let M=Pr;function C(p,e){const t=p.getCount(),i=p.findTokenIndexAtOffset(e),s=p.getLanguageId(i);let a=i;for(;a+1<t&&p.getLanguageId(a+1)===s;)a++;let f=i;for(;f>0&&p.getLanguageId(f-1)===s;)f--;return new V(p,s,f,a+1,p.getStartOffset(f),p.getEndOffset(a))}class V{constructor(e,t,i,s,a,f){this._scopedLineTokensBrand=void 0,this._actual=e,this.languageId=t,this._firstTokenIndex=i,this._lastTokenIndex=s,this.firstCharOffset=a,this._lastCharOffset=f,this.languageIdCodec=e.languageIdCodec}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getLineLength(){return this._lastCharOffset-this.firstCharOffset}getActualLineContentBefore(e){return this._actual.getLineContent().substring(0,this.firstCharOffset+e)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(e){return this._actual.findTokenIndexAtOffset(e+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(e){return this._actual.getStandardTokenType(e+this._firstTokenIndex)}toIViewLineTokens(){return this._actual.sliceAndInflate(this.firstCharOffset,this._lastCharOffset,0)}}function W(p){return(p&3)!==0}var j=N(5656);let Q;function ge(){return Q||(Q=new TextDecoder("UTF-16LE")),Q}let ne;function X(){return ne||(ne=new TextDecoder("UTF-16BE")),ne}let G;function ie(){return G||(G=o.r()?ge():X()),G}function se(p,e,t){const i=new Uint16Array(p.buffer,e,t);return t>0&&(i[0]===65279||i[0]===65534)?Me(p,e,t):ge().decode(i)}function Me(p,e,t){const i=[];let s=0;for(let a=0;a<t;a++){const f=j.mP(p,e);e+=2,i[s++]=String.fromCharCode(f)}return i.join("")}class He{constructor(e){this._capacity=e|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return ie().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}appendCharCode(e){const t=this._capacity-this._bufferLength;t<=1&&(t===0||strings.isHighSurrogate(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIICharCode(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendString(e){const t=e.length;if(this._bufferLength+t>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=e;return}for(let i=0;i<t;i++)this._buffer[this._bufferLength++]=e.charCodeAt(i)}}class Te{constructor(e,t,i,s,a,f){this._richEditBracketBrand=void 0,this.languageId=e,this.index=t,this.open=i,this.close=s,this.forwardRegex=a,this.reversedRegex=f,this._openSet=Te._toSet(this.open),this._closeSet=Te._toSet(this.close)}isOpen(e){return this._openSet.has(e)}isClose(e){return this._closeSet.has(e)}static _toSet(e){const t=new Set;for(const i of e)t.add(i);return t}}function ve(p){const e=p.length;p=p.map(f=>[f[0].toLowerCase(),f[1].toLowerCase()]);const t=[];for(let f=0;f<e;f++)t[f]=f;const i=(f,L)=>{const[R,Y]=f,[ce,me]=L;return R===ce||R===me||Y===ce||Y===me},s=(f,L)=>{const R=Math.min(f,L),Y=Math.max(f,L);for(let ce=0;ce<e;ce++)t[ce]===Y&&(t[ce]=R)};for(let f=0;f<e;f++){const L=p[f];for(let R=f+1;R<e;R++){const Y=p[R];i(L,Y)&&s(t[f],t[R])}}const a=[];for(let f=0;f<e;f++){const L=[],R=[];for(let Y=0;Y<e;Y++)if(t[Y]===f){const[ce,me]=p[Y];L.push(ce),R.push(me)}L.length>0&&a.push({open:L,close:R})}return a}class P{constructor(e,t){this._richEditBracketsBrand=void 0;const i=ve(t);this.brackets=i.map((s,a)=>new Te(e,a,s.open,s.close,Ue(s.open,s.close,i,a),qe(s.open,s.close,i,a))),this.forwardRegex=Ge(this.brackets),this.reversedRegex=We(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const s of this.brackets){for(const a of s.open)this.textIsBracket[a]=s,this.textIsOpenBracket[a]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,a.length);for(const a of s.close)this.textIsBracket[a]=s,this.textIsOpenBracket[a]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,a.length)}}}function ee(p,e,t,i){for(let s=0,a=e.length;s<a;s++){if(s===t)continue;const f=e[s];for(const L of f.open)L.indexOf(p)>=0&&i.push(L);for(const L of f.close)L.indexOf(p)>=0&&i.push(L)}}function xe(p,e){return p.length-e.length}function Fe(p){if(p.length<=1)return p;const e=[],t=new Set;for(const i of p)t.has(i)||(e.push(i),t.add(i));return e}function Ue(p,e,t,i){let s=[];s=s.concat(p),s=s.concat(e);for(let a=0,f=s.length;a<f;a++)ee(s[a],t,i,s);return s=Fe(s),s.sort(xe),s.reverse(),tt(s)}function qe(p,e,t,i){let s=[];s=s.concat(p),s=s.concat(e);for(let a=0,f=s.length;a<f;a++)ee(s[a],t,i,s);return s=Fe(s),s.sort(xe),s.reverse(),tt(s.map(ot))}function Ge(p){let e=[];for(const t of p){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=Fe(e),tt(e)}function We(p){let e=[];for(const t of p){for(const i of t.open)e.push(i);for(const i of t.close)e.push(i)}return e=Fe(e),tt(e.map(ot))}function bt(p){const e=/^[\w ]+$/.test(p);return p=b.ec(p),e?`\\b${p}\\b`:p}function tt(p,e){const t=`(${p.map(bt).join(")|(")})`;return b.GF(t,!0,e)}const ot=function(){function p(i){const s=new Uint16Array(i.length);let a=0;for(let f=i.length-1;f>=0;f--)s[a++]=i.charCodeAt(f);return ie().decode(s)}let e=null,t=null;return function(s){return e!==s&&(e=s,t=p(e)),t}}();class lt{static _findPrevBracketInText(e,t,i,s){const a=i.match(e);if(!a)return null;const f=i.length-(a.index||0),L=a[0].length,R=s+f;return new k.e(t,R-L+1,t,R+1)}static findPrevBracketInRange(e,t,i,s,a){const L=ot(i).substring(i.length-a,i.length-s);return this._findPrevBracketInText(e,t,L,s)}static findNextBracketInText(e,t,i,s){const a=i.match(e);if(!a)return null;const f=a.index||0,L=a[0].length;if(L===0)return null;const R=s+f;return new k.e(t,R+1,t,R+1+L)}static findNextBracketInRange(e,t,i,s,a){const f=i.substring(s,a);return this.findNextBracketInText(e,t,f,s)}}class Dt{constructor(e){this._richEditBrackets=e}getElectricCharacters(){const e=[];if(this._richEditBrackets)for(const t of this._richEditBrackets.brackets)for(const i of t.close){const s=i.charAt(i.length-1);e.push(s)}return(0,U.EB)(e)}onElectricCharacter(e,t,i){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const s=t.findTokenIndexAtOffset(i-1);if(W(t.getStandardTokenType(s)))return null;const a=this._richEditBrackets.reversedRegex,f=t.getLineContent().substring(0,i-1)+e,L=lt.findPrevBracketInRange(a,1,f,0,f.length);if(!L)return null;const R=f.substring(L.startColumn-1,L.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[R])return null;const ce=t.getActualLineContentBefore(L.startColumn-1);return/^\s*$/.test(ce)?{matchOpenBracket:R}:null}}function nn(p){return p.global&&(p.lastIndex=0),!0}class le{constructor(e){this._indentationRules=e}shouldIncrease(e){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&nn(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(e))}shouldDecrease(e){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&nn(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(e))}shouldIndentNextLine(e){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&nn(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(e))}shouldIgnore(e){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&nn(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(e))}getIndentMetadata(e){let t=0;return this.shouldIncrease(e)&&(t+=1),this.shouldDecrease(e)&&(t+=2),this.shouldIndentNextLine(e)&&(t+=4),this.shouldIgnore(e)&&(t+=8),t}}class D{constructor(e){e=e||{},e.brackets=e.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],e.brackets.forEach(t=>{const i=D._createOpenBracketRegExp(t[0]),s=D._createCloseBracketRegExp(t[1]);i&&s&&this._brackets.push({open:t[0],openRegExp:i,close:t[1],closeRegExp:s})}),this._regExpRules=e.onEnterRules||[]}onEnter(e,t,i,s){if(e>=3)for(let a=0,f=this._regExpRules.length;a<f;a++){const L=this._regExpRules[a];if([{reg:L.beforeText,text:i},{reg:L.afterText,text:s},{reg:L.previousLineText,text:t}].every(Y=>Y.reg?(Y.reg.lastIndex=0,Y.reg.test(Y.text)):!0))return L.action}if(e>=2&&i.length>0&&s.length>0)for(let a=0,f=this._brackets.length;a<f;a++){const L=this._brackets[a];if(L.openRegExp.test(i)&&L.closeRegExp.test(s))return{indentAction:T.IndentOutdent}}if(e>=2&&i.length>0){for(let a=0,f=this._brackets.length;a<f;a++)if(this._brackets[a].openRegExp.test(i))return{indentAction:T.Indent}}return null}static _createOpenBracketRegExp(e){let t=b.ec(e);return/\B/.test(t.charAt(0))||(t="\\b"+t),t+="\\s*$",D._safeRegExp(t)}static _createCloseBracketRegExp(e){let t=b.ec(e);return/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"),t="^\\s*"+t,D._safeRegExp(t)}static _safeRegExp(e){try{return new RegExp(e)}catch(t){return(0,z.dL)(t),null}}}var F=N(1721),ke=N(2954),je=N(4707),Ye=N(3274),ht=N(44);class mt{constructor(e,t){this.languageId=e;const i=t.brackets?st(t.brackets):[],s=new ht.bQ(L=>{const R=new Set;return{info:new Ct(this,L,R),closing:R}}),a=new ht.bQ(L=>{const R=new Set,Y=new Set;return{info:new Lt(this,L,R,Y),opening:R,openingColorized:Y}});for(const[L,R]of i){const Y=s.get(L),ce=a.get(R);Y.closing.add(ce.info),ce.opening.add(Y.info)}const f=t.colorizedBracketPairs?st(t.colorizedBracketPairs):i.filter(L=>!(L[0]==="<"&&L[1]===">"));for(const[L,R]of f){const Y=s.get(L),ce=a.get(R);Y.closing.add(ce.info),ce.openingColorized.add(Y.info),ce.opening.add(Y.info)}this._openingBrackets=new Map([...s.cachedValues].map(([L,R])=>[L,R.info])),this._closingBrackets=new Map([...a.cachedValues].map(([L,R])=>[L,R.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(e){return this._openingBrackets.get(e)}getClosingBracketInfo(e){return this._closingBrackets.get(e)}getBracketInfo(e){return this.getOpeningBracketInfo(e)||this.getClosingBracketInfo(e)}getBracketRegExp(e){const t=Array.from([...this._openingBrackets.keys(),...this._closingBrackets.keys()]);return tt(t,e)}}function st(p){return p.filter(([e,t])=>e!==""&&t!=="")}class _t{constructor(e,t){this.config=e,this.bracketText=t}get languageId(){return this.config.languageId}}class Ct extends _t{constructor(e,t,i){super(e,t),this.openedBrackets=i,this.isOpeningBracket=!0}}class Lt extends _t{constructor(e,t,i,s){super(e,t),this.openingBrackets=i,this.openingColorizedBrackets=s,this.isOpeningBracket=!1}closes(e){return e.config!==this.config?!1:this.openingBrackets.has(e)}closesColorized(e){return e.config!==this.config?!1:this.openingColorizedBrackets.has(e)}getOpeningBrackets(){return[...this.openingBrackets]}}var Rt=function(p,e,t,i){var s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,e,t,i);else for(var L=p.length-1;L>=0;L--)(f=p[L])&&(a=(s<3?f(a):s>3?f(e,t,a):f(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},pt=function(p,e){return function(t,i){e(t,i,p)}};class m{constructor(e){this.languageId=e}affects(e){return this.languageId?this.languageId===e:!0}}const H=(0,F.yh)("languageConfigurationService");let Be=class extends K.JT{constructor(e,t){super(),this.configurationService=e,this.languageService=t,this._registry=this._register(new hn),this.onDidChangeEmitter=this._register(new O.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const i=new Set(Object.values(ut));this._register(this.configurationService.onDidChangeConfiguration(s=>{const a=s.change.keys.some(L=>i.has(L)),f=s.change.overrides.filter(([L,R])=>R.some(Y=>i.has(Y))).map(([L])=>L);if(a)this.configurations.clear(),this.onDidChangeEmitter.fire(new m(void 0));else for(const L of f)this.languageService.isRegisteredLanguageId(L)&&(this.configurations.delete(L),this.onDidChangeEmitter.fire(new m(L)))})),this._register(this._registry.onDidChange(s=>{this.configurations.delete(s.languageId),this.onDidChangeEmitter.fire(new m(s.languageId))}))}register(e,t,i){return this._registry.register(e,t,i)}getLanguageConfiguration(e){let t=this.configurations.get(e);return t||(t=n(e,this._registry,this.configurationService,this.languageService),this.configurations.set(e,t)),t}};Be=Rt([pt(0,ke.Ui),pt(1,ue.O)],Be);function n(p,e,t,i){let s=e.getLanguageConfiguration(p);if(!s){if(!i.isRegisteredLanguageId(p))return new Wn(p,{});s=new Wn(p,{})}const a=kt(s.languageId,t),f=un([s.underlyingConfig,a]);return new Wn(s.languageId,f)}const ut={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function kt(p,e){const t=e.getValue(ut.brackets,{overrideIdentifier:p}),i=e.getValue(ut.colorizedBracketPairs,{overrideIdentifier:p});return{brackets:jt(t),colorizedBracketPairs:jt(i)}}function jt(p){if(Array.isArray(p))return p.map(e=>{if(!(!Array.isArray(e)||e.length!==2))return[e[0],e[1]]}).filter(e=>!!e)}function Yt(p,e,t){const i=p.getLineContent(e);let s=strings.getLeadingWhitespace(i);return s.length>t-1&&(s=s.substring(0,t-1)),s}class cn{constructor(e){this.languageId=e,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(e,t){const i=new Zt(e,t,++this._order);return this._entries.push(i),this._resolved=null,(0,K.OF)(()=>{for(let s=0;s<this._entries.length;s++)if(this._entries[s]===i){this._entries.splice(s,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const e=this._resolve();e&&(this._resolved=new Wn(this.languageId,e))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(Zt.cmp),un(this._entries.map(e=>e.configuration)))}}function un(p){let e={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const t of p)e={comments:t.comments||e.comments,brackets:t.brackets||e.brackets,wordPattern:t.wordPattern||e.wordPattern,indentationRules:t.indentationRules||e.indentationRules,onEnterRules:t.onEnterRules||e.onEnterRules,autoClosingPairs:t.autoClosingPairs||e.autoClosingPairs,surroundingPairs:t.surroundingPairs||e.surroundingPairs,autoCloseBefore:t.autoCloseBefore||e.autoCloseBefore,folding:t.folding||e.folding,colorizedBracketPairs:t.colorizedBracketPairs||e.colorizedBracketPairs,__electricCharacterSupport:t.__electricCharacterSupport||e.__electricCharacterSupport};return e}class Zt{constructor(e,t,i){this.configuration=e,this.priority=t,this.order=i}static cmp(e,t){return e.priority===t.priority?e.order-t.order:e.priority-t.priority}}class Ht{constructor(e){this.languageId=e}}class hn extends K.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new O.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(Ye.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(e,t,i=0){let s=this._entries.get(e);s||(s=new cn(e),this._entries.set(e,s));const a=s.register(t,i);return this._onDidChange.fire(new Ht(e)),(0,K.OF)(()=>{a.dispose(),this._onDidChange.fire(new Ht(e))})}getLanguageConfiguration(e){const t=this._entries.get(e);return(t==null?void 0:t.getResolvedConfiguration())||null}}class Wn{constructor(e,t){this.languageId=e,this.underlyingConfig=t,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new D(this.underlyingConfig):null,this.comments=Wn._handleComments(this.underlyingConfig),this.characterPair=new M(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||fe.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new le(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new mt(e,this.underlyingConfig)}getWordDefinition(){return(0,fe.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new P(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new Dt(this.brackets)),this._electricCharacter}onEnter(e,t,i,s){return this._onEnterSupport?this._onEnterSupport.onEnter(e,t,i,s):null}getAutoClosingPairs(){return new w(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(e){return this.characterPair.getAutoCloseBeforeSet(e)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(e){const t=e.comments;if(!t)return null;const i={};if(t.lineComment&&(i.lineCommentToken=t.lineComment),t.blockComment){const[s,a]=t.blockComment;i.blockCommentStartToken=s,i.blockCommentEndToken=a}return i}}(0,je.z)(H,Be,1);var Tn=N(3480);class Qn{constructor(e,t,i,s){this.range=e,this.nestingLevel=t,this.nestingLevelOfEqualBracketType=i,this.isInvalid=s}}class Vi{constructor(e,t,i,s,a,f){this.range=e,this.openingBracketRange=t,this.closingBracketRange=i,this.nestingLevel=s,this.nestingLevelOfEqualBracketType=a,this.bracketPairNode=f}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class Ui extends Vi{constructor(e,t,i,s,a,f,L){super(e,t,i,s,a,f),this.minVisibleColumnIndentation=L}}var Ai=N(858);function ni(p,e,t,i){return p!==t?kn(t-p,i):kn(0,i-e)}const On=0;function Ti(p){return p===0}const Un=kr(2,26);function kn(p,e){return p*Un+e}function jn(p){const e=p,t=Math.floor(e/Un),i=e-t*Un;return new Ai.A(t,i)}function ii(p){return Math.floor(p/Un)}function zi(p){return p}function Ln(p,e){let t=p+e;return e>=Un&&(t=t-p%Un),t}function tr(p,e){return p.reduce((t,i)=>Ln(t,e(i)),On)}function pi(p,e){return p===e}function hi(p,e){const t=p,i=e;if(i-t<=0)return On;const a=Math.floor(t/Un),f=Math.floor(i/Un),L=i-f*Un;if(a===f){const R=t-a*Un;return kn(0,L-R)}else return kn(f-a,L)}function Kn(p,e){return p<e}function Oe(p,e){return p<=e}function q(p,e){return p>=e}function ye(p){return kn(p.lineNumber-1,p.column-1)}function Je(p,e){const t=p,i=Math.floor(t/Un),s=t-i*Un,a=e,f=Math.floor(a/Un),L=a-f*Un;return new k.e(i+1,s+1,f+1,L+1)}function ft(p){const e=(0,b.uq)(p);return kn(e.length-1,e[e.length-1].length)}class Nt{static fromModelContentChanges(e){return e.map(i=>{const s=k.e.lift(i.range);return new Nt(ye(s.getStartPosition()),ye(s.getEndPosition()),ft(i.text))}).reverse()}constructor(e,t,i){this.startOffset=e,this.endOffset=t,this.newLength=i}toString(){return`[${jn(this.startOffset)}...${jn(this.endOffset)}) -> ${jn(this.newLength)}`}}class Vt{constructor(e){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=e.map(t=>rn.from(t))}getOffsetBeforeChange(e){return this.adjustNextEdit(e),this.translateCurToOld(e)}getDistanceToNextChange(e){this.adjustNextEdit(e);const t=this.edits[this.nextEditIdx],i=t?this.translateOldToCur(t.offsetObj):null;return i===null?null:hi(e,i)}translateOldToCur(e){return e.lineCount===this.deltaLineIdxInOld?kn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount+this.deltaOldToNewColumnCount):kn(e.lineCount+this.deltaOldToNewLineCount,e.columnCount)}translateCurToOld(e){const t=jn(e);return t.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?kn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount-this.deltaOldToNewColumnCount):kn(t.lineCount-this.deltaOldToNewLineCount,t.columnCount)}adjustNextEdit(e){for(;this.nextEditIdx<this.edits.length;){const t=this.edits[this.nextEditIdx],i=this.translateOldToCur(t.endOffsetAfterObj);if(Oe(i,e)){this.nextEditIdx++;const s=jn(i),a=jn(this.translateOldToCur(t.endOffsetBeforeObj)),f=s.lineCount-a.lineCount;this.deltaOldToNewLineCount+=f;const L=this.deltaLineIdxInOld===t.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,R=s.columnCount-a.columnCount;this.deltaOldToNewColumnCount=L+R,this.deltaLineIdxInOld=t.endOffsetBeforeObj.lineCount}else break}}}class rn{static from(e){return new rn(e.startOffset,e.endOffset,e.newLength)}constructor(e,t,i){this.endOffsetBeforeObj=jn(t),this.endOffsetAfterObj=jn(Ln(e,i)),this.offsetObj=jn(e)}}const Bn=[],xi=class xi{static create(e,t){if(e<=128&&t.length===0){let i=xi.cache[e];return i||(i=new xi(e,t),xi.cache[e]=i),i}return new xi(e,t)}static getEmpty(){return this.empty}constructor(e,t){this.items=e,this.additionalItems=t}add(e,t){const i=t.getKey(e);let s=i>>5;if(s===0){const f=1<<i|this.items;return f===this.items?this:xi.create(f,this.additionalItems)}s--;const a=this.additionalItems.slice(0);for(;a.length<s;)a.push(0);return a[s]|=1<<(i&31),xi.create(this.items,a)}merge(e){const t=this.items|e.items;if(this.additionalItems===Bn&&e.additionalItems===Bn)return t===this.items?this:t===e.items?e:xi.create(t,Bn);const i=[];for(let s=0;s<Math.max(this.additionalItems.length,e.additionalItems.length);s++){const a=this.additionalItems[s]||0,f=e.additionalItems[s]||0;i.push(a|f)}return xi.create(t,i)}intersects(e){if(this.items&e.items)return!0;for(let t=0;t<Math.min(this.additionalItems.length,e.additionalItems.length);t++)if(this.additionalItems[t]&e.additionalItems[t])return!0;return!1}};xi.cache=new Array(129),xi.empty=xi.create(0,Bn);let En=xi;const Pn={getKey(p){return p}};class Si{constructor(){this.items=new Map}getKey(e){let t=this.items.get(e);return t===void 0&&(t=this.items.size,this.items.set(e,t)),t}}class Zn{get length(){return this._length}constructor(e){this._length=e}}class ei extends Zn{static create(e,t,i){let s=e.length;return t&&(s=Ln(s,t.length)),i&&(s=Ln(s,i.length)),new ei(s,e,t,i,t?t.missingOpeningBracketIds:En.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(e){switch(e){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const e=[];return e.push(this.openingBracket),this.child&&e.push(this.child),this.closingBracket&&e.push(this.closingBracket),e}constructor(e,t,i,s,a){super(e),this.openingBracket=t,this.child=i,this.closingBracket=s,this.missingOpeningBracketIds=a}canBeReused(e){return!(this.closingBracket===null||e.intersects(this.missingOpeningBracketIds))}deepClone(){return new ei(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(e,t){return this.child?this.child.computeMinIndentation(Ln(e,this.openingBracket.length),t):Number.MAX_SAFE_INTEGER}}class Xn extends Zn{static create23(e,t,i,s=!1){let a=e.length,f=e.missingOpeningBracketIds;if(e.listHeight!==t.listHeight)throw new Error("Invalid list heights");if(a=Ln(a,t.length),f=f.merge(t.missingOpeningBracketIds),i){if(e.listHeight!==i.listHeight)throw new Error("Invalid list heights");a=Ln(a,i.length),f=f.merge(i.missingOpeningBracketIds)}return s?new Wi(a,e.listHeight+1,e,t,i,f):new Bi(a,e.listHeight+1,e,t,i,f)}static getEmpty(){return new lr(On,0,[],En.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(e,t,i){super(e),this.listHeight=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const e=this.childrenLength;if(e===0)return;const t=this.getChild(e-1),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(e-1,i),i}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const t=this.getChild(0),i=t.kind===4?t.toMutable():t;return t!==i&&this.setChild(0,i),i}canBeReused(e){if(e.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let t=this;for(;t.kind===4;){const i=t.childrenLength;if(i===0)throw new z.he;t=t.getChild(i-1)}return t.canBeReused(e)}handleChildrenChanged(){this.throwIfImmutable();const e=this.childrenLength;let t=this.getChild(0).length,i=this.getChild(0).missingOpeningBracketIds;for(let s=1;s<e;s++){const a=this.getChild(s);t=Ln(t,a.length),i=i.merge(a.missingOpeningBracketIds)}this._length=t,this._missingOpeningBracketIds=i,this.cachedMinIndentation=-1}computeMinIndentation(e,t){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let i=Number.MAX_SAFE_INTEGER,s=e;for(let a=0;a<this.childrenLength;a++){const f=this.getChild(a);f&&(i=Math.min(i,f.computeMinIndentation(s,t)),s=Ln(s,f.length))}return this.cachedMinIndentation=i,i}}class Bi extends Xn{get childrenLength(){return this._item3!==null?3:2}getChild(e){switch(e){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(e,t){switch(e){case 0:this._item1=t;return;case 1:this._item2=t;return;case 2:this._item3=t;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(e,t,i,s,a,f){super(e,t,f),this._item1=i,this._item2=s,this._item3=a}deepClone(){return new Bi(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=e,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item3;return this._item3=null,this.handleChildrenChanged(),e}prependChildOfSameHeight(e){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=e,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const e=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),e}toMutable(){return this}}class Wi extends Bi{toMutable(){return new Bi(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class fi extends Xn{get childrenLength(){return this._children.length}getChild(e){return this._children[e]}setChild(e,t){this._children[e]=t}get children(){return this._children}constructor(e,t,i,s){super(e,t,s),this._children=i}deepClone(){const e=new Array(this._children.length);for(let t=0;t<this._children.length;t++)e[t]=this._children[t].deepClone();return new fi(this.length,this.listHeight,e,this.missingOpeningBracketIds)}appendChildOfSameHeight(e){this.throwIfImmutable(),this._children.push(e),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const e=this._children.pop();return this.handleChildrenChanged(),e}prependChildOfSameHeight(e){this.throwIfImmutable(),this._children.unshift(e),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const e=this._children.shift();return this.handleChildrenChanged(),e}toMutable(){return this}}class lr extends fi{toMutable(){return new fi(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const ji=[];class oi extends Zn{get listHeight(){return 0}get childrenLength(){return 0}getChild(e){return null}get children(){return ji}deepClone(){return this}}class ri extends oi{get kind(){return 0}get missingOpeningBracketIds(){return En.getEmpty()}canBeReused(e){return!0}computeMinIndentation(e,t){const i=jn(e),s=(i.columnCount===0?i.lineCount:i.lineCount+1)+1,a=ii(Ln(e,this.length))+1;let f=Number.MAX_SAFE_INTEGER;for(let L=s;L<=a;L++){const R=t.getLineFirstNonWhitespaceColumn(L),Y=t.getLineContent(L);if(R===0)continue;const ce=ae.visibleColumnFromColumn(Y,R,t.getOptions().tabSize);f=Math.min(f,ce)}return f}}class di extends oi{static create(e,t,i){return new di(e,t,i)}get kind(){return 1}get missingOpeningBracketIds(){return En.getEmpty()}constructor(e,t,i){super(e),this.bracketInfo=t,this.bracketIds=i}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(e){return!1}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}class Hi extends oi{get kind(){return 3}constructor(e,t){super(t),this.missingOpeningBracketIds=e}canBeReused(e){return!e.intersects(this.missingOpeningBracketIds)}computeMinIndentation(e,t){return Number.MAX_SAFE_INTEGER}}var Ne=N(4864);class u{constructor(e,t,i,s,a){this.length=e,this.kind=t,this.bracketId=i,this.bracketIds=s,this.astNode=a}}class v{constructor(e,t){this.textModel=e,this.bracketTokens=t,this.reader=new $(this.textModel,this.bracketTokens),this._offset=On,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return kn(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(e){this.didPeek=!1,this._offset=Ln(this._offset,e);const t=jn(this._offset);this.reader.setPosition(t.lineCount,t.columnCount)}read(){let e;return this.peeked?(this.didPeek=!1,e=this.peeked):e=this.reader.read(),e&&(this._offset=Ln(this._offset,e.length)),e}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class ${constructor(e,t){this.textModel=e,this.bracketTokens=t,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=e.getLineCount(),this.textBufferLastLineLength=e.getLineLength(this.textBufferLineCount)}setPosition(e,t){e===this.lineIdx?(this.lineCharOffset=t,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=e,this.lineCharOffset=t,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const a=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=a.length,a}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const e=this.lineIdx,t=this.lineCharOffset;let i=0;for(;;){const a=this.lineTokens,f=a.getCount();let L=null;if(this.lineTokenOffset<f){const R=a.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<f&&R===a.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const Y=Ne.N.getTokenType(R)===0,ce=Ne.N.containsBalancedBrackets(R),me=a.getEndOffset(this.lineTokenOffset);if(ce&&Y&&this.lineCharOffset<me){const Ce=a.getLanguageId(this.lineTokenOffset),Re=this.line.substring(this.lineCharOffset,me),ze=this.bracketTokens.getSingleLanguageBracketTokens(Ce),Xe=ze.regExpGlobal;if(Xe){Xe.lastIndex=0;const nt=Xe.exec(Re);nt&&(L=ze.getToken(nt[0]),L&&(this.lineCharOffset+=nt.index))}}if(i+=me-this.lineCharOffset,L)if(e!==this.lineIdx||t!==this.lineCharOffset){this.peekedToken=L;break}else return this.lineCharOffset+=L.length,L;else this.lineTokenOffset++,this.lineCharOffset=me}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,i+=33,i>1e3))break;if(i>1500)break}const s=ni(e,t,this.lineIdx,this.lineCharOffset);return new u(s,0,-1,En.getEmpty(),new ri(s))}}class re{constructor(e,t){this.text=e,this._offset=On,this.idx=0;const i=t.getRegExpStr(),s=i?new RegExp(i+`|
`,"gi"):null,a=[];let f,L=0,R=0,Y=0,ce=0;const me=[];for(let ze=0;ze<60;ze++)me.push(new u(kn(0,ze),0,-1,En.getEmpty(),new ri(kn(0,ze))));const Ce=[];for(let ze=0;ze<60;ze++)Ce.push(new u(kn(1,ze),0,-1,En.getEmpty(),new ri(kn(1,ze))));if(s)for(s.lastIndex=0;(f=s.exec(e))!==null;){const ze=f.index,Xe=f[0];if(Xe===`
`)L++,R=ze+1;else{if(Y!==ze){let nt;if(ce===L){const wt=ze-Y;if(wt<me.length)nt=me[wt];else{const Bt=kn(0,wt);nt=new u(Bt,0,-1,En.getEmpty(),new ri(Bt))}}else{const wt=L-ce,Bt=ze-R;if(wt===1&&Bt<Ce.length)nt=Ce[Bt];else{const Jt=kn(wt,Bt);nt=new u(Jt,0,-1,En.getEmpty(),new ri(Jt))}}a.push(nt)}a.push(t.getToken(Xe)),Y=ze+Xe.length,ce=L}}const Re=e.length;if(Y!==Re){const ze=ce===L?kn(0,Re-Y):kn(L-ce,Re-R);a.push(new u(ze,0,-1,En.getEmpty(),new ri(ze)))}this.length=kn(L,Re-R),this.tokens=a}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(e){throw new z.B8}}class he{static createFromLanguage(e,t){function i(a){return t.getKey(`${a.languageId}:::${a.bracketText}`)}const s=new Map;for(const a of e.bracketsNew.openingBrackets){const f=kn(0,a.bracketText.length),L=i(a),R=En.getEmpty().add(L,Pn);s.set(a.bracketText,new u(f,1,L,R,di.create(f,a,R)))}for(const a of e.bracketsNew.closingBrackets){const f=kn(0,a.bracketText.length);let L=En.getEmpty();const R=a.getOpeningBrackets();for(const Y of R)L=L.add(i(Y),Pn);s.set(a.bracketText,new u(f,2,i(R[0]),L,di.create(f,a,L)))}return new he(s)}constructor(e){this.map=e,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const e=[...this.map.keys()];return e.sort(),e.reverse(),e.map(t=>Le(t)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const e=this.getRegExpStr();this._regExpGlobal=e?new RegExp(e,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(e){return this.map.get(e.toLowerCase())}findClosingTokenText(e){for(const[t,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(e))return t}get isEmpty(){return this.map.size===0}}function Le(p){let e=(0,b.ec)(p);return/^[\w ]+/.test(p)&&(e=`\\b${e}`),/[\w ]+$/.test(p)&&(e=`${e}\\b`),e}class De{constructor(e,t){this.denseKeyProvider=e,this.getLanguageConfiguration=t,this.languageIdToBracketTokens=new Map}didLanguageChange(e){return this.languageIdToBracketTokens.has(e)}getSingleLanguageBracketTokens(e){let t=this.languageIdToBracketTokens.get(e);return t||(t=he.createFromLanguage(this.getLanguageConfiguration(e),this.denseKeyProvider),this.languageIdToBracketTokens.set(e,t)),t}}function be(p){if(p.length===0)return null;if(p.length===1)return p[0];let e=0;function t(){if(e>=p.length)return null;const f=e,L=p[f].listHeight;for(e++;e<p.length&&p[e].listHeight===L;)e++;return e-f>=2?Ae(f===0&&e===p.length?p:p.slice(f,e),!1):p[f]}let i=t(),s=t();if(!s)return i;for(let f=t();f;f=t())Ke(i,s)<=Ke(s,f)?(i=Ze(i,s),s=f):s=Ze(s,f);return Ze(i,s)}function Ae(p,e=!1){if(p.length===0)return null;if(p.length===1)return p[0];let t=p.length;for(;t>3;){const i=t>>1;for(let s=0;s<i;s++){const a=s<<1;p[s]=Xn.create23(p[a],p[a+1],a+3===t?p[a+2]:null,e)}t=i}return Xn.create23(p[0],p[1],t>=3?p[2]:null,e)}function Ke(p,e){return Math.abs(p.listHeight-e.listHeight)}function Ze(p,e){return p.listHeight===e.listHeight?Xn.create23(p,e,null,!1):p.listHeight>e.listHeight?_e(p,e):at(e,p)}function _e(p,e){p=p.toMutable();let t=p;const i=[];let s;for(;;){if(e.listHeight===t.listHeight){s=e;break}if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeLastElementMutable()}for(let a=i.length-1;a>=0;a--){const f=i[a];s?f.childrenLength>=3?s=Xn.create23(f.unappendChild(),s,null,!1):(f.appendChildOfSameHeight(s),s=void 0):f.handleChildrenChanged()}return s?Xn.create23(p,s,null,!1):p}function at(p,e){p=p.toMutable();let t=p;const i=[];for(;e.listHeight!==t.listHeight;){if(t.kind!==4)throw new Error("unexpected");i.push(t),t=t.makeFirstElementMutable()}let s=e;for(let a=i.length-1;a>=0;a--){const f=i[a];s?f.childrenLength>=3?s=Xn.create23(s,f.unprependChild(),null,!1):(f.prependChildOfSameHeight(s),s=void 0):f.handleChildrenChanged()}return s?Xn.create23(s,p,null,!1):p}class ct{constructor(e){this.lastOffset=On,this.nextNodes=[e],this.offsets=[On],this.idxs=[]}readLongestNodeAt(e,t){if(Kn(e,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=e;;){const i=Tt(this.nextNodes);if(!i)return;const s=Tt(this.offsets);if(Kn(e,s))return;if(Kn(s,e))if(Ln(s,i.length)<=e)this.nextNodeAfterCurrent();else{const a=xt(i);a!==-1?(this.nextNodes.push(i.getChild(a)),this.offsets.push(s),this.idxs.push(a)):this.nextNodeAfterCurrent()}else{if(t(i))return this.nextNodeAfterCurrent(),i;{const a=xt(i);if(a===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(i.getChild(a)),this.offsets.push(s),this.idxs.push(a)}}}}nextNodeAfterCurrent(){for(;;){const e=Tt(this.offsets),t=Tt(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const i=Tt(this.nextNodes),s=xt(i,this.idxs[this.idxs.length-1]);if(s!==-1){this.nextNodes.push(i.getChild(s)),this.offsets.push(Ln(e,t.length)),this.idxs[this.idxs.length-1]=s;break}else this.idxs.pop()}}}function xt(p,e=-1){for(;;){if(e++,e>=p.childrenLength)return-1;if(p.getChild(e))return e}}function Tt(p){return p.length>0?p[p.length-1]:void 0}function zt(p,e,t,i){return new Gt(p,e,t,i).parseDocument()}class Gt{constructor(e,t,i,s){if(this.tokenizer=e,this.createImmutableLists=s,this._itemsConstructed=0,this._itemsFromCache=0,i&&s)throw new Error("Not supported");this.oldNodeReader=i?new ct(i):void 0,this.positionMapper=new Vt(t)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let e=this.parseList(En.getEmpty(),0);return e||(e=Xn.getEmpty()),e}parseList(e,t){const i=[];for(;;){let a=this.tryReadChildFromCache(e);if(!a){const f=this.tokenizer.peek();if(!f||f.kind===2&&f.bracketIds.intersects(e))break;a=this.parseChild(e,t+1)}a.kind===4&&a.childrenLength===0||i.push(a)}return this.oldNodeReader?be(i):Ae(i,this.createImmutableLists)}tryReadChildFromCache(e){if(this.oldNodeReader){const t=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(t===null||!Ti(t)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),s=>t!==null&&!Kn(s.length,t)?!1:s.canBeReused(e));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(e,t){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new Hi(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(t>300)return new ri(i.length);const s=e.merge(i.bracketIds),a=this.parseList(s,t+1),f=this.tokenizer.peek();return f&&f.kind===2&&(f.bracketId===i.bracketId||f.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),ei.create(i.astNode,a,f.astNode)):ei.create(i.astNode,a,null)}default:throw new Error("unexpected")}}}function Ft(p,e){if(p.length===0)return e;if(e.length===0)return p;const t=new U.H9(Ot(p)),i=Ot(e);i.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let s=t.dequeue();function a(Y){if(Y===void 0){const me=t.takeWhile(Ce=>!0)||[];return s&&me.unshift(s),me}const ce=[];for(;s&&!Ti(Y);){const[me,Ce]=s.splitAt(Y);ce.push(me),Y=hi(me.lengthAfter,Y),s=Ce!=null?Ce:t.dequeue()}return Ti(Y)||ce.push(new qt(!1,Y,Y)),ce}const f=[];function L(Y,ce,me){if(f.length>0&&pi(f[f.length-1].endOffset,Y)){const Ce=f[f.length-1];f[f.length-1]=new Nt(Ce.startOffset,ce,Ln(Ce.newLength,me))}else f.push({startOffset:Y,endOffset:ce,newLength:me})}let R=On;for(const Y of i){const ce=a(Y.lengthBefore);if(Y.modified){const me=tr(ce,Re=>Re.lengthBefore),Ce=Ln(R,me);L(R,Ce,Y.lengthAfter),R=Ce}else for(const me of ce){const Ce=R;R=Ln(R,me.lengthBefore),me.modified&&L(Ce,R,me.lengthAfter)}}return f}class qt{constructor(e,t,i){this.modified=e,this.lengthBefore=t,this.lengthAfter=i}splitAt(e){const t=hi(e,this.lengthAfter);return pi(t,On)?[this,void 0]:this.modified?[new qt(this.modified,this.lengthBefore,e),new qt(this.modified,On,t)]:[new qt(this.modified,e,e),new qt(this.modified,t,t)]}toString(){return`${this.modified?"M":"U"}:${jn(this.lengthBefore)} -> ${jn(this.lengthAfter)}`}}function Ot(p){const e=[];let t=On;for(const i of p){const s=hi(t,i.startOffset);Ti(s)||e.push(new qt(!1,s,s));const a=hi(i.startOffset,i.endOffset);e.push(new qt(!0,a,i.newLength)),t=i.endOffset}return e}class Kt extends K.JT{didLanguageChange(e){return this.brackets.didLanguageChange(e)}constructor(e,t){if(super(),this.textModel=e,this.getLanguageConfiguration=t,this.didChangeEmitter=new O.Q5,this.denseKeyProvider=new Si,this.brackets=new De(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],e.tokenization.hasTokens)e.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const i=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),s=new re(this.textModel.getValue(),i);this.initialAstWithoutTokens=zt(s,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const e=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,e||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:e}){const t=e.map(i=>new Nt(kn(i.fromLineNumber-1,0),kn(i.toLineNumber,0),kn(i.toLineNumber-i.fromLineNumber+1,0)));this.handleEdits(t,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(e){const t=Nt.fromModelContentChanges(e.changes);this.handleEdits(t,!1)}handleEdits(e,t){const i=Ft(this.queuedTextEdits,e);this.queuedTextEdits=i,this.initialAstWithoutTokens&&!t&&(this.queuedTextEditsForInitialAstWithoutTokens=Ft(this.queuedTextEditsForInitialAstWithoutTokens,e))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(e,t,i){const a=t,f=new v(this.textModel,this.brackets);return zt(f,e,a,i)}getBracketsInRange(e,t){this.flushQueue();const i=kn(e.startLineNumber-1,e.startColumn-1),s=kn(e.endLineNumber-1,e.endColumn-1);return new U.W$(a=>{const f=this.initialAstWithoutTokens||this.astWithTokens;Nn(f,On,f.length,i,s,a,0,0,new Map,t)})}getBracketPairsInRange(e,t){this.flushQueue();const i=ye(e.getStartPosition()),s=ye(e.getEndPosition());return new U.W$(a=>{const f=this.initialAstWithoutTokens||this.astWithTokens,L=new Hn(a,t,this.textModel);mn(f,On,f.length,i,s,L,0,new Map)})}getFirstBracketAfter(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return Wt(t,On,t.length,ye(e))}getFirstBracketBefore(e){this.flushQueue();const t=this.initialAstWithoutTokens||this.astWithTokens;return en(t,On,t.length,ye(e))}}function en(p,e,t,i){if(p.kind===4||p.kind===2){const s=[];for(const a of p.children)t=Ln(e,a.length),s.push({nodeOffsetStart:e,nodeOffsetEnd:t}),e=t;for(let a=s.length-1;a>=0;a--){const{nodeOffsetStart:f,nodeOffsetEnd:L}=s[a];if(Kn(f,i)){const R=en(p.children[a],f,L,i);if(R)return R}}return null}else{if(p.kind===3)return null;if(p.kind===1){const s=Je(e,t);return{bracketInfo:p.bracketInfo,range:s}}}return null}function Wt(p,e,t,i){if(p.kind===4||p.kind===2){for(const s of p.children){if(t=Ln(e,s.length),Kn(i,t)){const a=Wt(s,e,t,i);if(a)return a}e=t}return null}else{if(p.kind===3)return null;if(p.kind===1){const s=Je(e,t);return{bracketInfo:p.bracketInfo,range:s}}}return null}function Nn(p,e,t,i,s,a,f,L,R,Y,ce=!1){if(f>200)return!0;e:for(;;)switch(p.kind){case 4:{const me=p.childrenLength;for(let Ce=0;Ce<me;Ce++){const Re=p.getChild(Ce);if(Re){if(t=Ln(e,Re.length),Oe(e,s)&&q(t,i)){if(q(t,s)){p=Re;continue e}if(!Nn(Re,e,t,i,s,a,f,0,R,Y))return!1}e=t}}return!0}case 2:{const me=!Y||!p.closingBracket||p.closingBracket.bracketInfo.closesColorized(p.openingBracket.bracketInfo);let Ce=0;if(R){let ze=R.get(p.openingBracket.text);ze===void 0&&(ze=0),Ce=ze,me&&(ze++,R.set(p.openingBracket.text,ze))}const Re=p.childrenLength;for(let ze=0;ze<Re;ze++){const Xe=p.getChild(ze);if(Xe){if(t=Ln(e,Xe.length),Oe(e,s)&&q(t,i)){if(q(t,s)&&Xe.kind!==1){p=Xe,me?(f++,L=Ce+1):L=Ce;continue e}if((me||Xe.kind!==1||!p.closingBracket)&&!Nn(Xe,e,t,i,s,a,me?f+1:f,me?Ce+1:Ce,R,Y,!p.closingBracket))return!1}e=t}}return R==null||R.set(p.openingBracket.text,Ce),!0}case 3:{const me=Je(e,t);return a(new Qn(me,f-1,0,!0))}case 1:{const me=Je(e,t);return a(new Qn(me,f-1,L-1,ce))}case 0:return!0}}class Hn{constructor(e,t,i){this.push=e,this.includeMinIndentation=t,this.textModel=i}}function mn(p,e,t,i,s,a,f,L){var Y;if(f>200)return!0;let R=!0;if(p.kind===2){let ce=0;if(L){let Re=L.get(p.openingBracket.text);Re===void 0&&(Re=0),ce=Re,Re++,L.set(p.openingBracket.text,Re)}const me=Ln(e,p.openingBracket.length);let Ce=-1;if(a.includeMinIndentation&&(Ce=p.computeMinIndentation(e,a.textModel)),R=a.push(new Ui(Je(e,t),Je(e,me),p.closingBracket?Je(Ln(me,((Y=p.child)==null?void 0:Y.length)||On),t):void 0,f,ce,p,Ce)),e=me,R&&p.child){const Re=p.child;if(t=Ln(e,Re.length),Oe(e,s)&&q(t,i)&&(R=mn(Re,e,t,i,s,a,f+1,L),!R))return!1}L==null||L.set(p.openingBracket.text,ce)}else{let ce=e;for(const me of p.children){const Ce=ce;if(ce=Ln(ce,me.length),Oe(Ce,s)&&Oe(i,ce)&&(R=mn(me,Ce,ce,i,s,a,f,L),!R))return!1}}return R}class on extends K.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t,this.bracketPairsTree=this._register(new K.XK),this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1}handleLanguageConfigurationServiceChange(e){var t;(!e.languageId||(t=this.bracketPairsTree.value)!=null&&t.object.didLanguageChange(e.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}handleDidChangeOptions(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(e){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleContentChanged(e)}handleDidChangeBackgroundTokenizationState(){var e;(e=this.bracketPairsTree.value)==null||e.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(e){var t;(t=this.bracketPairsTree.value)==null||t.object.handleDidChangeTokens(e)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const e=new K.SL;this.bracketPairsTree.value=ai(e.add(new Kt(this.textModel,t=>this.languageConfigurationService.getLanguageConfiguration(t))),e),e.add(this.bracketPairsTree.value.object.onDidChange(t=>this.onDidChangeEmitter.fire(t))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!1))||U.W$.empty}getBracketPairsInRangeWithMinIndentation(e){var t;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((t=this.bracketPairsTree.value)==null?void 0:t.object.getBracketPairsInRange(e,!0))||U.W$.empty}getBracketsInRange(e,t=!1){var i;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((i=this.bracketPairsTree.value)==null?void 0:i.object.getBracketsInRange(e,t))||U.W$.empty}findMatchingBracketUp(e,t,i){const s=this.textModel.validatePosition(t),a=this.textModel.getLanguageIdAtPosition(s.lineNumber,s.column);if(this.canBuildAST){const f=this.languageConfigurationService.getLanguageConfiguration(a).bracketsNew.getClosingBracketInfo(e);if(!f)return null;const L=this.getBracketPairsInRange(k.e.fromPositions(t,t)).findLast(R=>f.closes(R.openingBracketInfo));return L?L.openingBracketRange:null}else{const f=e.toLowerCase(),L=this.languageConfigurationService.getLanguageConfiguration(a).brackets;if(!L)return null;const R=L.textIsBracket[f];return R?_i(this._findMatchingBracketUp(R,s,Gn(i))):null}}matchBracket(e,t){if(this.canBuildAST){const i=this.getBracketPairsInRange(k.e.fromPositions(e,e)).filter(s=>s.closingBracketRange!==void 0&&(s.openingBracketRange.containsPosition(e)||s.closingBracketRange.containsPosition(e))).findLastMaxBy((0,U.tT)(s=>s.openingBracketRange.containsPosition(e)?s.openingBracketRange:s.closingBracketRange,k.e.compareRangesUsingStarts));return i?[i.openingBracketRange,i.closingBracketRange]:null}else{const i=Gn(t);return this._matchBracket(this.textModel.validatePosition(e),i)}}_establishBracketSearchOffsets(e,t,i,s){const a=t.getCount(),f=t.getLanguageId(s);let L=Math.max(0,e.column-1-i.maxBracketLength);for(let Y=s-1;Y>=0;Y--){const ce=t.getEndOffset(Y);if(ce<=L)break;if(W(t.getStandardTokenType(Y))||t.getLanguageId(Y)!==f){L=ce;break}}let R=Math.min(t.getLineContent().length,e.column-1+i.maxBracketLength);for(let Y=s+1;Y<a;Y++){const ce=t.getStartOffset(Y);if(ce>=R)break;if(W(t.getStandardTokenType(Y))||t.getLanguageId(Y)!==f){R=ce;break}}return{searchStartOffset:L,searchEndOffset:R}}_matchBracket(e,t){const i=e.lineNumber,s=this.textModel.tokenization.getLineTokens(i),a=this.textModel.getLineContent(i),f=s.findTokenIndexAtOffset(e.column-1);if(f<0)return null;const L=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(f)).brackets;if(L&&!W(s.getStandardTokenType(f))){let{searchStartOffset:R,searchEndOffset:Y}=this._establishBracketSearchOffsets(e,s,L,f),ce=null;for(;;){const me=lt.findNextBracketInRange(L.forwardRegex,i,a,R,Y);if(!me)break;if(me.startColumn<=e.column&&e.column<=me.endColumn){const Ce=a.substring(me.startColumn-1,me.endColumn-1).toLowerCase(),Re=this._matchFoundBracket(me,L.textIsBracket[Ce],L.textIsOpenBracket[Ce],t);if(Re){if(Re instanceof bi)return null;ce=Re}}R=me.endColumn-1}if(ce)return ce}if(f>0&&s.getStartOffset(f)===e.column-1){const R=f-1,Y=this.languageConfigurationService.getLanguageConfiguration(s.getLanguageId(R)).brackets;if(Y&&!W(s.getStandardTokenType(R))){const{searchStartOffset:ce,searchEndOffset:me}=this._establishBracketSearchOffsets(e,s,Y,R),Ce=lt.findPrevBracketInRange(Y.reversedRegex,i,a,ce,me);if(Ce&&Ce.startColumn<=e.column&&e.column<=Ce.endColumn){const Re=a.substring(Ce.startColumn-1,Ce.endColumn-1).toLowerCase(),ze=this._matchFoundBracket(Ce,Y.textIsBracket[Re],Y.textIsOpenBracket[Re],t);if(ze)return ze instanceof bi?null:ze}}}return null}_matchFoundBracket(e,t,i,s){if(!t)return null;const a=i?this._findMatchingBracketDown(t,e.getEndPosition(),s):this._findMatchingBracketUp(t,e.getStartPosition(),s);return a?a instanceof bi?a:[e,a]:null}_findMatchingBracketUp(e,t,i){const s=e.languageId,a=e.reversedRegex;let f=-1,L=0;const R=(Y,ce,me,Ce)=>{for(;;){if(i&&++L%100===0&&!i())return bi.INSTANCE;const Re=lt.findPrevBracketInRange(a,Y,ce,me,Ce);if(!Re)break;const ze=ce.substring(Re.startColumn-1,Re.endColumn-1).toLowerCase();if(e.isOpen(ze)?f++:e.isClose(ze)&&f--,f===0)return Re;Ce=Re.startColumn-1}return null};for(let Y=t.lineNumber;Y>=1;Y--){const ce=this.textModel.tokenization.getLineTokens(Y),me=ce.getCount(),Ce=this.textModel.getLineContent(Y);let Re=me-1,ze=Ce.length,Xe=Ce.length;Y===t.lineNumber&&(Re=ce.findTokenIndexAtOffset(t.column-1),ze=t.column-1,Xe=t.column-1);let nt=!0;for(;Re>=0;Re--){const wt=ce.getLanguageId(Re)===s&&!W(ce.getStandardTokenType(Re));if(wt)nt?ze=ce.getStartOffset(Re):(ze=ce.getStartOffset(Re),Xe=ce.getEndOffset(Re));else if(nt&&ze!==Xe){const Bt=R(Y,Ce,ze,Xe);if(Bt)return Bt}nt=wt}if(nt&&ze!==Xe){const wt=R(Y,Ce,ze,Xe);if(wt)return wt}}return null}_findMatchingBracketDown(e,t,i){const s=e.languageId,a=e.forwardRegex;let f=1,L=0;const R=(ce,me,Ce,Re)=>{for(;;){if(i&&++L%100===0&&!i())return bi.INSTANCE;const ze=lt.findNextBracketInRange(a,ce,me,Ce,Re);if(!ze)break;const Xe=me.substring(ze.startColumn-1,ze.endColumn-1).toLowerCase();if(e.isOpen(Xe)?f++:e.isClose(Xe)&&f--,f===0)return ze;Ce=ze.endColumn-1}return null},Y=this.textModel.getLineCount();for(let ce=t.lineNumber;ce<=Y;ce++){const me=this.textModel.tokenization.getLineTokens(ce),Ce=me.getCount(),Re=this.textModel.getLineContent(ce);let ze=0,Xe=0,nt=0;ce===t.lineNumber&&(ze=me.findTokenIndexAtOffset(t.column-1),Xe=t.column-1,nt=t.column-1);let wt=!0;for(;ze<Ce;ze++){const Bt=me.getLanguageId(ze)===s&&!W(me.getStandardTokenType(ze));if(Bt)wt||(Xe=me.getStartOffset(ze)),nt=me.getEndOffset(ze);else if(wt&&Xe!==nt){const Jt=R(ce,Re,Xe,nt);if(Jt)return Jt}wt=Bt}if(wt&&Xe!==nt){const Bt=R(ce,Re,Xe,nt);if(Bt)return Bt}}return null}findPrevBracket(e){var f;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((f=this.bracketPairsTree.value)==null?void 0:f.object.getFirstBracketBefore(t))||null;let i=null,s=null,a=null;for(let L=t.lineNumber;L>=1;L--){const R=this.textModel.tokenization.getLineTokens(L),Y=R.getCount(),ce=this.textModel.getLineContent(L);let me=Y-1,Ce=ce.length,Re=ce.length;if(L===t.lineNumber){me=R.findTokenIndexAtOffset(t.column-1),Ce=t.column-1,Re=t.column-1;const Xe=R.getLanguageId(me);i!==Xe&&(i=Xe,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew)}let ze=!0;for(;me>=0;me--){const Xe=R.getLanguageId(me);if(i!==Xe){if(s&&a&&ze&&Ce!==Re){const wt=lt.findPrevBracketInRange(s.reversedRegex,L,ce,Ce,Re);if(wt)return this._toFoundBracket(a,wt);ze=!1}i=Xe,s=this.languageConfigurationService.getLanguageConfiguration(i).brackets,a=this.languageConfigurationService.getLanguageConfiguration(i).bracketsNew}const nt=!!s&&!W(R.getStandardTokenType(me));if(nt)ze?Ce=R.getStartOffset(me):(Ce=R.getStartOffset(me),Re=R.getEndOffset(me));else if(a&&s&&ze&&Ce!==Re){const wt=lt.findPrevBracketInRange(s.reversedRegex,L,ce,Ce,Re);if(wt)return this._toFoundBracket(a,wt)}ze=nt}if(a&&s&&ze&&Ce!==Re){const Xe=lt.findPrevBracketInRange(s.reversedRegex,L,ce,Ce,Re);if(Xe)return this._toFoundBracket(a,Xe)}}return null}findNextBracket(e){var L;const t=this.textModel.validatePosition(e);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((L=this.bracketPairsTree.value)==null?void 0:L.object.getFirstBracketAfter(t))||null;const i=this.textModel.getLineCount();let s=null,a=null,f=null;for(let R=t.lineNumber;R<=i;R++){const Y=this.textModel.tokenization.getLineTokens(R),ce=Y.getCount(),me=this.textModel.getLineContent(R);let Ce=0,Re=0,ze=0;if(R===t.lineNumber){Ce=Y.findTokenIndexAtOffset(t.column-1),Re=t.column-1,ze=t.column-1;const nt=Y.getLanguageId(Ce);s!==nt&&(s=nt,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,f=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew)}let Xe=!0;for(;Ce<ce;Ce++){const nt=Y.getLanguageId(Ce);if(s!==nt){if(f&&a&&Xe&&Re!==ze){const Bt=lt.findNextBracketInRange(a.forwardRegex,R,me,Re,ze);if(Bt)return this._toFoundBracket(f,Bt);Xe=!1}s=nt,a=this.languageConfigurationService.getLanguageConfiguration(s).brackets,f=this.languageConfigurationService.getLanguageConfiguration(s).bracketsNew}const wt=!!a&&!W(Y.getStandardTokenType(Ce));if(wt)Xe||(Re=Y.getStartOffset(Ce)),ze=Y.getEndOffset(Ce);else if(f&&a&&Xe&&Re!==ze){const Bt=lt.findNextBracketInRange(a.forwardRegex,R,me,Re,ze);if(Bt)return this._toFoundBracket(f,Bt)}Xe=wt}if(f&&a&&Xe&&Re!==ze){const nt=lt.findNextBracketInRange(a.forwardRegex,R,me,Re,ze);if(nt)return this._toFoundBracket(f,nt)}}return null}findEnclosingBrackets(e,t){const i=this.textModel.validatePosition(e);if(this.canBuildAST){const Re=k.e.fromPositions(i),ze=this.getBracketPairsInRange(k.e.fromPositions(i,i)).findLast(Xe=>Xe.closingBracketRange!==void 0&&Xe.range.strictContainsRange(Re));return ze?[ze.openingBracketRange,ze.closingBracketRange]:null}const s=Gn(t),a=this.textModel.getLineCount(),f=new Map;let L=[];const R=(Re,ze)=>{if(!f.has(Re)){const Xe=[];for(let nt=0,wt=ze?ze.brackets.length:0;nt<wt;nt++)Xe[nt]=0;f.set(Re,Xe)}L=f.get(Re)};let Y=0;const ce=(Re,ze,Xe,nt,wt)=>{for(;;){if(s&&++Y%100===0&&!s())return bi.INSTANCE;const Bt=lt.findNextBracketInRange(Re.forwardRegex,ze,Xe,nt,wt);if(!Bt)break;const Jt=Xe.substring(Bt.startColumn-1,Bt.endColumn-1).toLowerCase(),an=Re.textIsBracket[Jt];if(an&&(an.isOpen(Jt)?L[an.index]++:an.isClose(Jt)&&L[an.index]--,L[an.index]===-1))return this._matchFoundBracket(Bt,an,!1,s);nt=Bt.endColumn-1}return null};let me=null,Ce=null;for(let Re=i.lineNumber;Re<=a;Re++){const ze=this.textModel.tokenization.getLineTokens(Re),Xe=ze.getCount(),nt=this.textModel.getLineContent(Re);let wt=0,Bt=0,Jt=0;if(Re===i.lineNumber){wt=ze.findTokenIndexAtOffset(i.column-1),Bt=i.column-1,Jt=i.column-1;const Sn=ze.getLanguageId(wt);me!==Sn&&(me=Sn,Ce=this.languageConfigurationService.getLanguageConfiguration(me).brackets,R(me,Ce))}let an=!0;for(;wt<Xe;wt++){const Sn=ze.getLanguageId(wt);if(me!==Sn){if(Ce&&an&&Bt!==Jt){const yn=ce(Ce,Re,nt,Bt,Jt);if(yn)return _i(yn);an=!1}me=Sn,Ce=this.languageConfigurationService.getLanguageConfiguration(me).brackets,R(me,Ce)}const Vn=!!Ce&&!W(ze.getStandardTokenType(wt));if(Vn)an||(Bt=ze.getStartOffset(wt)),Jt=ze.getEndOffset(wt);else if(Ce&&an&&Bt!==Jt){const yn=ce(Ce,Re,nt,Bt,Jt);if(yn)return _i(yn)}an=Vn}if(Ce&&an&&Bt!==Jt){const Sn=ce(Ce,Re,nt,Bt,Jt);if(Sn)return _i(Sn)}}return null}_toFoundBracket(e,t){if(!t)return null;let i=this.textModel.getValueInRange(t);i=i.toLowerCase();const s=e.getBracketInfo(i);return s?{range:t,bracketInfo:s}:null}}function ai(p,e){return{object:p,dispose:()=>e==null?void 0:e.dispose()}}function Gn(p){if(typeof p=="undefined")return()=>!0;{const e=Date.now();return()=>Date.now()-e<=p}}const Cs=class Cs{constructor(){this._searchCanceledBrand=void 0}};Cs.INSTANCE=new Cs;let bi=Cs;function _i(p){return p instanceof bi?null:p}var Ei=N(3040),xr=N(2357);class wr extends K.JT{constructor(e){super(),this.textModel=e,this.colorProvider=new ur,this.onDidChangeEmitter=new O.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=e.getOptions().bracketPairColorizationOptions,this._register(e.bracketPairs.onDidChange(t=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(e){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(e,t,i,s){return s?[]:t===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(e,!0).map(f=>({id:`bracket${f.range.toString()}-${f.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(f,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:f.range})).toArray():[]}getAllDecorations(e,t){return e===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new k.e(1,1,this.textModel.getLineCount(),1),e,t):[]}}class ur{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(e,t){return e.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(t?e.nestingLevelOfEqualBracketType:e.nestingLevel)}getInlineClassNameOfLevel(e){return`bracket-highlighting-${e%30}`}}(0,xr.Ic)((p,e)=>{const t=[Ei.zJ,Ei.Vs,Ei.CE,Ei.UP,Ei.r0,Ei.m1],i=new ur;e.addRule(`.monaco-editor .${i.unexpectedClosingBracketClassName} { color: ${p.getColor(Ei.ts)}; }`);const s=t.map(a=>p.getColor(a)).filter(a=>!!a).filter(a=>!a.isTransparent());for(let a=0;a<30;a++){const f=s[a%s.length];e.addRule(`.monaco-editor .${i.getInlineClassNameOfLevel(a)} { color: ${f}; }`)}});var qn=N(4329);function cr(p){return p.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class Rn{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(e,t,i,s){this.oldPosition=e,this.oldText=t,this.newPosition=i,this.newText=s}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${cr(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${cr(this.oldText)}")`:`(replace@${this.oldPosition} "${cr(this.oldText)}" with "${cr(this.newText)}")`}static _writeStringSize(e){return 4+2*e.length}static _writeString(e,t,i){const s=t.length;j.T4(e,s,i),i+=4;for(let a=0;a<s;a++)j.oq(e,t.charCodeAt(a),i),i+=2;return i}static _readString(e,t){const i=j.Ag(e,t);return t+=4,se(e,t,i)}writeSize(){return 8+Rn._writeStringSize(this.oldText)+Rn._writeStringSize(this.newText)}write(e,t){return j.T4(e,this.oldPosition,t),t+=4,j.T4(e,this.newPosition,t),t+=4,t=Rn._writeString(e,this.oldText,t),t=Rn._writeString(e,this.newText,t),t}static read(e,t,i){const s=j.Ag(e,t);t+=4;const a=j.Ag(e,t);t+=4;const f=Rn._readString(e,t);t+=Rn._writeStringSize(f);const L=Rn._readString(e,t);return t+=Rn._writeStringSize(L),i.push(new Rn(s,f,a,L)),t}}function es(p,e){return p===null||p.length===0?e:new vi(p,e).compress()}class vi{constructor(e,t){this._prevEdits=e,this._currEdits=t,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let e=0,t=0,i=this._getPrev(e),s=this._getCurr(t);for(;e<this._prevLen||t<this._currLen;){if(i===null){this._acceptCurr(s),s=this._getCurr(++t);continue}if(s===null){this._acceptPrev(i),i=this._getPrev(++e);continue}if(s.oldEnd<=i.newPosition){this._acceptCurr(s),s=this._getCurr(++t);continue}if(i.newEnd<=s.oldPosition){this._acceptPrev(i),i=this._getPrev(++e);continue}if(s.oldPosition<i.newPosition){const[Y,ce]=vi._splitCurr(s,i.newPosition-s.oldPosition);this._acceptCurr(Y),s=ce;continue}if(i.newPosition<s.oldPosition){const[Y,ce]=vi._splitPrev(i,s.oldPosition-i.newPosition);this._acceptPrev(Y),i=ce;continue}let L,R;if(s.oldEnd===i.newEnd)L=i,R=s,i=this._getPrev(++e),s=this._getCurr(++t);else if(s.oldEnd<i.newEnd){const[Y,ce]=vi._splitPrev(i,s.oldLength);L=Y,R=s,i=ce,s=this._getCurr(++t)}else{const[Y,ce]=vi._splitCurr(s,i.newLength);L=i,R=Y,i=this._getPrev(++e),s=ce}this._result[this._resultLen++]=new Rn(L.oldPosition,L.oldText,R.newPosition,R.newText),this._prevDeltaOffset+=L.newLength-L.oldLength,this._currDeltaOffset+=R.newLength-R.oldLength}const a=vi._merge(this._result);return vi._removeNoOps(a)}_acceptCurr(e){this._result[this._resultLen++]=vi._rebaseCurr(this._prevDeltaOffset,e),this._currDeltaOffset+=e.newLength-e.oldLength}_getCurr(e){return e<this._currLen?this._currEdits[e]:null}_acceptPrev(e){this._result[this._resultLen++]=vi._rebasePrev(this._currDeltaOffset,e),this._prevDeltaOffset+=e.newLength-e.oldLength}_getPrev(e){return e<this._prevLen?this._prevEdits[e]:null}static _rebaseCurr(e,t){return new Rn(t.oldPosition-e,t.oldText,t.newPosition,t.newText)}static _rebasePrev(e,t){return new Rn(t.oldPosition,t.oldText,t.newPosition+e,t.newText)}static _splitPrev(e,t){const i=e.newText.substr(0,t),s=e.newText.substr(t);return[new Rn(e.oldPosition,e.oldText,e.newPosition,i),new Rn(e.oldEnd,"",e.newPosition+t,s)]}static _splitCurr(e,t){const i=e.oldText.substr(0,t),s=e.oldText.substr(t);return[new Rn(e.oldPosition,i,e.newPosition,e.newText),new Rn(e.oldPosition+t,s,e.newEnd,"")]}static _merge(e){if(e.length===0)return e;const t=[];let i=0,s=e[0];for(let a=1;a<e.length;a++){const f=e[a];s.oldEnd===f.oldPosition?s=new Rn(s.oldPosition,s.oldText+f.oldText,s.newPosition,s.newText+f.newText):(t[i++]=s,s=f)}return t[i++]=s,t}static _removeNoOps(e){if(e.length===0)return e;const t=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];a.oldText!==a.newText&&(t[i++]=a)}return t}}var ts=N(8464);function qi(p){return p.toString()}class Dn{static create(e,t){const i=e.getAlternativeVersionId(),s=Sr(e);return new Dn(i,i,s,s,t,t,[])}constructor(e,t,i,s,a,f,L){this.beforeVersionId=e,this.afterVersionId=t,this.beforeEOL=i,this.afterEOL=s,this.beforeCursorState=a,this.afterCursorState=f,this.changes=L}append(e,t,i,s,a){t.length>0&&(this.changes=es(this.changes,t)),this.afterEOL=i,this.afterVersionId=s,this.afterCursorState=a}static _writeSelectionsSize(e){return 4+16*(e?e.length:0)}static _writeSelections(e,t,i){if(j.T4(e,t?t.length:0,i),i+=4,t)for(const s of t)j.T4(e,s.selectionStartLineNumber,i),i+=4,j.T4(e,s.selectionStartColumn,i),i+=4,j.T4(e,s.positionLineNumber,i),i+=4,j.T4(e,s.positionColumn,i),i+=4;return i}static _readSelections(e,t,i){const s=j.Ag(e,t);t+=4;for(let a=0;a<s;a++){const f=j.Ag(e,t);t+=4;const L=j.Ag(e,t);t+=4;const R=j.Ag(e,t);t+=4;const Y=j.Ag(e,t);t+=4,i.push(new x.Y(f,L,R,Y))}return t}serialize(){let e=10+Dn._writeSelectionsSize(this.beforeCursorState)+Dn._writeSelectionsSize(this.afterCursorState)+4;for(const s of this.changes)e+=s.writeSize();const t=new Uint8Array(e);let i=0;j.T4(t,this.beforeVersionId,i),i+=4,j.T4(t,this.afterVersionId,i),i+=4,j.Cg(t,this.beforeEOL,i),i+=1,j.Cg(t,this.afterEOL,i),i+=1,i=Dn._writeSelections(t,this.beforeCursorState,i),i=Dn._writeSelections(t,this.afterCursorState,i),j.T4(t,this.changes.length,i),i+=4;for(const s of this.changes)i=s.write(t,i);return t.buffer}static deserialize(e){const t=new Uint8Array(e);let i=0;const s=j.Ag(t,i);i+=4;const a=j.Ag(t,i);i+=4;const f=j.Q$(t,i);i+=1;const L=j.Q$(t,i);i+=1;const R=[];i=Dn._readSelections(t,i,R);const Y=[];i=Dn._readSelections(t,i,Y);const ce=j.Ag(t,i);i+=4;const me=[];for(let Ce=0;Ce<ce;Ce++)i=Rn.read(t,i,me);return new Dn(s,a,f,L,R,Y,me)}}class zr{get type(){return 0}get resource(){return _.o.isUri(this.model)?this.model:this.model.uri}constructor(e,t,i,s){this.label=e,this.code=t,this.model=i,this._data=Dn.create(i,s)}toString(){return(this._data instanceof Dn?this._data:Dn.deserialize(this._data)).changes.map(t=>t.toString()).join(", ")}matchesResource(e){return(_.o.isUri(this.model)?this.model:this.model.uri).toString()===e.toString()}setModel(e){this.model=e}canAppend(e){return this.model===e&&this._data instanceof Dn}append(e,t,i,s,a){this._data instanceof Dn&&this._data.append(e,t,i,s,a)}close(){this._data instanceof Dn&&(this._data=this._data.serialize())}open(){this._data instanceof Dn||(this._data=Dn.deserialize(this._data))}undo(){if(_.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Dn&&(this._data=this._data.serialize());const e=Dn.deserialize(this._data);this.model._applyUndo(e.changes,e.beforeEOL,e.beforeVersionId,e.beforeCursorState)}redo(){if(_.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof Dn&&(this._data=this._data.serialize());const e=Dn.deserialize(this._data);this.model._applyRedo(e.changes,e.afterEOL,e.afterVersionId,e.afterCursorState)}heapSize(){return this._data instanceof Dn&&(this._data=this._data.serialize()),this._data.byteLength+168}}class ns{get resources(){return this._editStackElementsArr.map(e=>e.resource)}constructor(e,t,i){this.label=e,this.code=t,this.type=1,this._isOpen=!0,this._editStackElementsArr=i.slice(0),this._editStackElementsMap=new Map;for(const s of this._editStackElementsArr){const a=qi(s.resource);this._editStackElementsMap.set(a,s)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(e){const t=qi(e);return this._editStackElementsMap.has(t)}setModel(e){const t=qi(_.o.isUri(e)?e:e.uri);this._editStackElementsMap.has(t)&&this._editStackElementsMap.get(t).setModel(e)}canAppend(e){if(!this._isOpen)return!1;const t=qi(e.uri);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).canAppend(e):!1}append(e,t,i,s,a){const f=qi(e.uri);this._editStackElementsMap.get(f).append(e,t,i,s,a)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const e of this._editStackElementsArr)e.undo()}redo(){for(const e of this._editStackElementsArr)e.redo()}heapSize(e){const t=qi(e);return this._editStackElementsMap.has(t)?this._editStackElementsMap.get(t).heapSize():0}split(){return this._editStackElementsArr}toString(){const e=[];for(const t of this._editStackElementsArr)e.push(`${(0,ts.EZ)(t.resource)}: ${t}`);return`{${e.join(", ")}}`}}function Sr(p){return p.getEOL()===`
`?0:1}function Ci(p){return p?p instanceof zr||p instanceof ns:!1}class hr{constructor(e,t){this._model=e,this._undoRedoService=t}pushStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Ci(e)&&e.close()}popStackElement(){const e=this._undoRedoService.getLastElement(this._model.uri);Ci(e)&&e.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(e,t){const i=this._undoRedoService.getLastElement(this._model.uri);if(Ci(i)&&i.canAppend(this._model))return i;const s=new zr(qn.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,e);return this._undoRedoService.pushElement(s,t),s}pushEOL(e){const t=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(e),t.append(this._model,[],Sr(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(e,t,i,s){const a=this._getOrCreateEditStackElement(e,s),f=this._model.applyEdits(t,!0),L=hr._computeCursorState(i,f),R=f.map((Y,ce)=>({index:ce,textChange:Y.textChange}));return R.sort((Y,ce)=>Y.textChange.oldPosition===ce.textChange.oldPosition?Y.index-ce.index:Y.textChange.oldPosition-ce.textChange.oldPosition),a.append(this._model,R.map(Y=>Y.textChange),Sr(this._model),this._model.getAlternativeVersionId(),L),L}static _computeCursorState(e,t){try{return e?e(t):null}catch(i){return(0,z.dL)(i),null}}}var fr=N(5902);class Er extends K.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}function is(p,e){let t=0,i=0;const s=p.length;for(;i<s;){const a=p.charCodeAt(i);if(a===32)t++;else if(a===9)t=t-t%e+e;else break;i++}return i===s?-1:t}var nr;(function(p){p[p.Disabled=0]="Disabled",p[p.EnabledForActive=1]="EnabledForActive",p[p.Enabled=2]="Enabled"})(nr||(nr={}));class Di{constructor(e,t,i,s,a,f){if(this.visibleColumn=e,this.column=t,this.className=i,this.horizontalLine=s,this.forWrappedLinesAfterColumn=a,this.forWrappedLinesBeforeOrAtColumn=f,e!==-1==(t!==-1))throw new Error}}class dr{constructor(e,t){this.top=e,this.endColumn=t}}class Mn extends Er{constructor(e,t){super(),this.textModel=e,this.languageConfigurationService=t}getLanguageConfiguration(e){return this.languageConfigurationService.getLanguageConfiguration(e)}_computeIndentLevel(e){return is(this.textModel.getLineContent(e+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(e,t,i){this.assertNotDisposed();const s=this.textModel.getLineCount();if(e<1||e>s)throw new z.he("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,f=!!(a&&a.offSide);let L=-2,R=-1,Y=-2,ce=-1;const me=yn=>{if(L!==-1&&(L===-2||L>yn-1)){L=-1,R=-1;for(let bn=yn-2;bn>=0;bn--){const Cn=this._computeIndentLevel(bn);if(Cn>=0){L=bn,R=Cn;break}}}if(Y===-2){Y=-1,ce=-1;for(let bn=yn;bn<s;bn++){const Cn=this._computeIndentLevel(bn);if(Cn>=0){Y=bn,ce=Cn;break}}}};let Ce=-2,Re=-1,ze=-2,Xe=-1;const nt=yn=>{if(Ce===-2){Ce=-1,Re=-1;for(let bn=yn-2;bn>=0;bn--){const Cn=this._computeIndentLevel(bn);if(Cn>=0){Ce=bn,Re=Cn;break}}}if(ze!==-1&&(ze===-2||ze<yn-1)){ze=-1,Xe=-1;for(let bn=yn;bn<s;bn++){const Cn=this._computeIndentLevel(bn);if(Cn>=0){ze=bn,Xe=Cn;break}}}};let wt=0,Bt=!0,Jt=0,an=!0,Sn=0,Vn=0;for(let yn=0;Bt||an;yn++){const bn=e-yn,Cn=e+yn;yn>1&&(bn<1||bn<t)&&(Bt=!1),yn>1&&(Cn>s||Cn>i)&&(an=!1),yn>5e4&&(Bt=!1,an=!1);let mi=-1;if(Bt&&bn>=1){const Fi=this._computeIndentLevel(bn-1);Fi>=0?(Y=bn-1,ce=Fi,mi=Math.ceil(Fi/this.textModel.getOptions().indentSize)):(me(bn),mi=this._getIndentLevelForWhitespaceLine(f,R,ce))}let Yn=-1;if(an&&Cn<=s){const Fi=this._computeIndentLevel(Cn-1);Fi>=0?(Ce=Cn-1,Re=Fi,Yn=Math.ceil(Fi/this.textModel.getOptions().indentSize)):(nt(Cn),Yn=this._getIndentLevelForWhitespaceLine(f,Re,Xe))}if(yn===0){Vn=mi;continue}if(yn===1){if(Cn<=s&&Yn>=0&&Vn+1===Yn){Bt=!1,wt=Cn,Jt=Cn,Sn=Yn;continue}if(bn>=1&&mi>=0&&mi-1===Vn){an=!1,wt=bn,Jt=bn,Sn=mi;continue}if(wt=e,Jt=e,Sn=Vn,Sn===0)return{startLineNumber:wt,endLineNumber:Jt,indent:Sn}}Bt&&(mi>=Sn?wt=bn:Bt=!1),an&&(Yn>=Sn?Jt=Cn:an=!1)}return{startLineNumber:wt,endLineNumber:Jt,indent:Sn}}getLinesBracketGuides(e,t,i,s){var me;const a=[];for(let Ce=e;Ce<=t;Ce++)a.push([]);const f=!0,L=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new k.e(e,1,t,this.textModel.getLineMaxColumn(t))).toArray();let R;if(i&&L.length>0){const Ce=(e<=i.lineNumber&&i.lineNumber<=t?L:this.textModel.bracketPairs.getBracketPairsInRange(k.e.fromPositions(i)).toArray()).filter(Re=>k.e.strictContainsPosition(Re.range,i));R=(me=(0,fr.dF)(Ce,Re=>f||Re.range.startLineNumber!==Re.range.endLineNumber))==null?void 0:me.range}const Y=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,ce=new rs;for(const Ce of L){if(!Ce.closingBracketRange)continue;const Re=R&&Ce.range.equalsRange(R);if(!Re&&!s.includeInactive)continue;const ze=ce.getInlineClassName(Ce.nestingLevel,Ce.nestingLevelOfEqualBracketType,Y)+(s.highlightActive&&Re?" "+ce.activeClassName:""),Xe=Ce.openingBracketRange.getStartPosition(),nt=Ce.closingBracketRange.getStartPosition(),wt=s.horizontalGuides===nr.Enabled||s.horizontalGuides===nr.EnabledForActive&&Re;if(Ce.range.startLineNumber===Ce.range.endLineNumber){f&&wt&&a[Ce.range.startLineNumber-e].push(new Di(-1,Ce.openingBracketRange.getEndPosition().column,ze,new dr(!1,nt.column),-1,-1));continue}const Bt=this.getVisibleColumnFromPosition(nt),Jt=this.getVisibleColumnFromPosition(Ce.openingBracketRange.getStartPosition()),an=Math.min(Jt,Bt,Ce.minVisibleColumnIndentation+1);let Sn=!1;b.LC(this.textModel.getLineContent(Ce.closingBracketRange.startLineNumber))<Ce.closingBracketRange.startColumn-1&&(Sn=!0);const bn=Math.max(Xe.lineNumber,e),Cn=Math.min(nt.lineNumber,t),mi=Sn?1:0;for(let Yn=bn;Yn<Cn+mi;Yn++)a[Yn-e].push(new Di(an,-1,ze,null,Yn===Xe.lineNumber?Xe.column:-1,Yn===nt.lineNumber?nt.column:-1));wt&&(Xe.lineNumber>=e&&Jt>an&&a[Xe.lineNumber-e].push(new Di(an,-1,ze,new dr(!1,Xe.column),-1,-1)),nt.lineNumber<=t&&Bt>an&&a[nt.lineNumber-e].push(new Di(an,-1,ze,new dr(!Sn,nt.column),-1,-1)))}for(const Ce of a)Ce.sort((Re,ze)=>Re.visibleColumn-ze.visibleColumn);return a}getVisibleColumnFromPosition(e){return ae.visibleColumnFromColumn(this.textModel.getLineContent(e.lineNumber),e.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(e,t){this.assertNotDisposed();const i=this.textModel.getLineCount();if(e<1||e>i)throw new Error("Illegal value for startLineNumber");if(t<1||t>i)throw new Error("Illegal value for endLineNumber");const s=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,f=!!(a&&a.offSide),L=new Array(t-e+1);let R=-2,Y=-1,ce=-2,me=-1;for(let Ce=e;Ce<=t;Ce++){const Re=Ce-e,ze=this._computeIndentLevel(Ce-1);if(ze>=0){R=Ce-1,Y=ze,L[Re]=Math.ceil(ze/s.indentSize);continue}if(R===-2){R=-1,Y=-1;for(let Xe=Ce-2;Xe>=0;Xe--){const nt=this._computeIndentLevel(Xe);if(nt>=0){R=Xe,Y=nt;break}}}if(ce!==-1&&(ce===-2||ce<Ce-1)){ce=-1,me=-1;for(let Xe=Ce;Xe<i;Xe++){const nt=this._computeIndentLevel(Xe);if(nt>=0){ce=Xe,me=nt;break}}}L[Re]=this._getIndentLevelForWhitespaceLine(f,Y,me)}return L}_getIndentLevelForWhitespaceLine(e,t,i){const s=this.textModel.getOptions();return t===-1||i===-1?0:t<i?1+Math.floor(t/s.indentSize):t===i||e?Math.ceil(i/s.indentSize):1+Math.floor(i/s.indentSize)}}class rs{constructor(){this.activeClassName="indent-active"}getInlineClassName(e,t,i){return this.getInlineClassNameOfLevel(i?t:e)}getInlineClassNameOfLevel(e){return`bracket-indent-guide lvl-${e%30}`}}class ss{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ri(p,e,t,i,s){s.spacesDiff=0,s.looksLikeAlignment=!1;let a;for(a=0;a<e&&a<i;a++){const Ce=p.charCodeAt(a),Re=t.charCodeAt(a);if(Ce!==Re)break}let f=0,L=0;for(let Ce=a;Ce<e;Ce++)p.charCodeAt(Ce)===32?f++:L++;let R=0,Y=0;for(let Ce=a;Ce<i;Ce++)t.charCodeAt(Ce)===32?R++:Y++;if(f>0&&L>0||R>0&&Y>0)return;const ce=Math.abs(L-Y),me=Math.abs(f-R);if(ce===0){s.spacesDiff=me,me>0&&0<=R-1&&R-1<p.length&&R<t.length&&t.charCodeAt(R)!==32&&p.charCodeAt(R-1)===32&&p.charCodeAt(p.length-1)===44&&(s.looksLikeAlignment=!0);return}if(me%ce===0){s.spacesDiff=me/ce;return}}function Nr(p,e,t){const i=Math.min(p.getLineCount(),1e4);let s=0,a=0,f="",L=0;const R=[2,4,6,8,3,5,7],Y=8,ce=[0,0,0,0,0,0,0,0,0],me=new ss;for(let ze=1;ze<=i;ze++){const Xe=p.getLineLength(ze),nt=p.getLineContent(ze),wt=Xe<=65536;let Bt=!1,Jt=0,an=0,Sn=0;for(let yn=0,bn=Xe;yn<bn;yn++){const Cn=wt?nt.charCodeAt(yn):p.getLineCharCode(ze,yn);if(Cn===9)Sn++;else if(Cn===32)an++;else{Bt=!0,Jt=yn;break}}if(!Bt||(Sn>0?s++:an>1&&a++,Ri(f,L,nt,Jt,me),me.looksLikeAlignment&&!(t&&e===me.spacesDiff)))continue;const Vn=me.spacesDiff;Vn<=Y&&ce[Vn]++,f=nt,L=Jt}let Ce=t;s!==a&&(Ce=s<a);let Re=e;if(Ce){let ze=Ce?0:.1*i;R.forEach(Xe=>{const nt=ce[Xe];nt>ze&&(ze=nt,Re=Xe)}),Re===4&&ce[4]>0&&ce[2]>0&&ce[2]>=ce[4]/2&&(Re=2)}return{insertSpaces:Ce,tabSize:Re}}function Jn(p){return(p.metadata&1)>>>0}function vn(p,e){p.metadata=p.metadata&254|e<<0}function Fn(p){return(p.metadata&2)>>>1===1}function fn(p,e){p.metadata=p.metadata&253|(e?1:0)<<1}function os(p){return(p.metadata&4)>>>2===1}function Wr(p,e){p.metadata=p.metadata&251|(e?1:0)<<2}function ir(p){return(p.metadata&64)>>>6===1}function jr(p,e){p.metadata=p.metadata&191|(e?1:0)<<6}function Ir(p){return(p.metadata&24)>>>3}function Ar(p,e){p.metadata=p.metadata&231|e<<3}function Ji(p){return(p.metadata&32)>>>5===1}function Tr(p,e){p.metadata=p.metadata&223|(e?1:0)<<5}class Qi{constructor(e,t,i){this.metadata=0,this.parent=this,this.left=this,this.right=this,vn(this,1),this.start=t,this.end=i,this.delta=0,this.maxEnd=i,this.id=e,this.ownerId=0,this.options=null,Wr(this,!1),jr(this,!1),Ar(this,1),Tr(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=null,fn(this,!1)}reset(e,t,i,s){this.start=t,this.end=i,this.maxEnd=i,this.cachedVersionId=e,this.cachedAbsoluteStart=t,this.cachedAbsoluteEnd=i,this.range=s}setOptions(e){this.options=e;const t=this.options.className;Wr(this,t==="squiggly-error"||t==="squiggly-warning"||t==="squiggly-info"),jr(this,this.options.glyphMarginClassName!==null),Ar(this,this.options.stickiness),Tr(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(e,t,i){this.cachedVersionId!==i&&(this.range=null),this.cachedVersionId=i,this.cachedAbsoluteStart=e,this.cachedAbsoluteEnd=t}detach(){this.parent=null,this.left=null,this.right=null}}const Xt=new Qi(null,0,0);Xt.parent=Xt,Xt.left=Xt,Xt.right=Xt,vn(Xt,0);class ki{constructor(){this.root=Xt,this.requestNormalizeDelta=!1}intervalSearch(e,t,i,s,a,f){return this.root===Xt?[]:us(this,e,t,i,s,a,f)}search(e,t,i,s){return this.root===Xt?[]:ls(this,e,t,i,s)}collectNodesFromOwner(e){return zn(this,e)}collectNodesPostOrder(){return gr(this)}insert(e){$r(this,e),this._normalizeDeltaIfNecessary()}delete(e){Gr(this,e),this._normalizeDeltaIfNecessary()}resolveNode(e,t){const i=e;let s=0;for(;e!==this.root;)e===e.parent.right&&(s+=e.parent.delta),e=e.parent;const a=i.start+s,f=i.end+s;i.setCachedOffsets(a,f,t)}acceptReplace(e,t,i,s){const a=rr(this,e,e+t);for(let f=0,L=a.length;f<L;f++){const R=a[f];Gr(this,R)}this._normalizeDeltaIfNecessary(),Br(this,e,e+t,i),this._normalizeDeltaIfNecessary();for(let f=0,L=a.length;f<L;f++){const R=a[f];R.start=R.cachedAbsoluteStart,R.end=R.cachedAbsoluteEnd,as(R,e,e+t,i,s),R.maxEnd=R.end,$r(this,R)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,Hr(this))}}function Hr(p){let e=p.root,t=0;for(;e!==Xt;){if(e.left!==Xt&&!Fn(e.left)){e=e.left;continue}if(e.right!==Xt&&!Fn(e.right)){t+=e.delta,e=e.right;continue}e.start=t+e.start,e.end=t+e.end,e.delta=0,Mi(e),fn(e,!0),fn(e.left,!1),fn(e.right,!1),e===e.parent.right&&(t-=e.parent.delta),e=e.parent}fn(p.root,!1)}function li(p,e,t,i){return p<t?!0:p>t||i===1?!1:i===2?!0:e}function as(p,e,t,i,s){const a=Ir(p),f=a===0||a===2,L=a===1||a===2,R=t-e,Y=i,ce=Math.min(R,Y),me=p.start;let Ce=!1;const Re=p.end;let ze=!1;e<=me&&Re<=t&&Ji(p)&&(p.start=e,Ce=!0,p.end=e,ze=!0);{const nt=s?1:R>0?2:0;!Ce&&li(me,f,e,nt)&&(Ce=!0),!ze&&li(Re,L,e,nt)&&(ze=!0)}if(ce>0&&!s){const nt=R>Y?2:0;!Ce&&li(me,f,e+ce,nt)&&(Ce=!0),!ze&&li(Re,L,e+ce,nt)&&(ze=!0)}{const nt=s?1:0;!Ce&&li(me,f,t,nt)&&(p.start=e+Y,Ce=!0),!ze&&li(Re,L,t,nt)&&(p.end=e+Y,ze=!0)}const Xe=Y-R;Ce||(p.start=Math.max(0,me+Xe)),ze||(p.end=Math.max(0,Re+Xe)),p.start>p.end&&(p.end=p.start)}function rr(p,e,t){let i=p.root,s=0,a=0,f=0,L=0;const R=[];let Y=0;for(;i!==Xt;){if(Fn(i)){fn(i.left,!1),fn(i.right,!1),i===i.parent.right&&(s-=i.parent.delta),i=i.parent;continue}if(!Fn(i.left)){if(a=s+i.maxEnd,a<e){fn(i,!0);continue}if(i.left!==Xt){i=i.left;continue}}if(f=s+i.start,f>t){fn(i,!0);continue}if(L=s+i.end,L>=e&&(i.setCachedOffsets(f,L,0),R[Y++]=i),fn(i,!0),i.right!==Xt&&!Fn(i.right)){s+=i.delta,i=i.right;continue}}return fn(p.root,!1),R}function Br(p,e,t,i){let s=p.root,a=0,f=0,L=0;const R=i-(t-e);for(;s!==Xt;){if(Fn(s)){fn(s.left,!1),fn(s.right,!1),s===s.parent.right&&(a-=s.parent.delta),Mi(s),s=s.parent;continue}if(!Fn(s.left)){if(f=a+s.maxEnd,f<e){fn(s,!0);continue}if(s.left!==Xt){s=s.left;continue}}if(L=a+s.start,L>t){s.start+=R,s.end+=R,s.delta+=R,(s.delta<-1073741824||s.delta>1073741824)&&(p.requestNormalizeDelta=!0),fn(s,!0);continue}if(fn(s,!0),s.right!==Xt&&!Fn(s.right)){a+=s.delta,s=s.right;continue}}fn(p.root,!1)}function zn(p,e){let t=p.root;const i=[];let s=0;for(;t!==Xt;){if(Fn(t)){fn(t.left,!1),fn(t.right,!1),t=t.parent;continue}if(t.left!==Xt&&!Fn(t.left)){t=t.left;continue}if(t.ownerId===e&&(i[s++]=t),fn(t,!0),t.right!==Xt&&!Fn(t.right)){t=t.right;continue}}return fn(p.root,!1),i}function gr(p){let e=p.root;const t=[];let i=0;for(;e!==Xt;){if(Fn(e)){fn(e.left,!1),fn(e.right,!1),e=e.parent;continue}if(e.left!==Xt&&!Fn(e.left)){e=e.left;continue}if(e.right!==Xt&&!Fn(e.right)){e=e.right;continue}t[i++]=e,fn(e,!0)}return fn(p.root,!1),t}function ls(p,e,t,i,s){let a=p.root,f=0,L=0,R=0;const Y=[];let ce=0;for(;a!==Xt;){if(Fn(a)){fn(a.left,!1),fn(a.right,!1),a===a.parent.right&&(f-=a.parent.delta),a=a.parent;continue}if(a.left!==Xt&&!Fn(a.left)){a=a.left;continue}L=f+a.start,R=f+a.end,a.setCachedOffsets(L,R,i);let me=!0;if(e&&a.ownerId&&a.ownerId!==e&&(me=!1),t&&os(a)&&(me=!1),s&&!ir(a)&&(me=!1),me&&(Y[ce++]=a),fn(a,!0),a.right!==Xt&&!Fn(a.right)){f+=a.delta,a=a.right;continue}}return fn(p.root,!1),Y}function us(p,e,t,i,s,a,f){let L=p.root,R=0,Y=0,ce=0,me=0;const Ce=[];let Re=0;for(;L!==Xt;){if(Fn(L)){fn(L.left,!1),fn(L.right,!1),L===L.parent.right&&(R-=L.parent.delta),L=L.parent;continue}if(!Fn(L.left)){if(Y=R+L.maxEnd,Y<e){fn(L,!0);continue}if(L.left!==Xt){L=L.left;continue}}if(ce=R+L.start,ce>t){fn(L,!0);continue}if(me=R+L.end,me>=e){L.setCachedOffsets(ce,me,a);let ze=!0;i&&L.ownerId&&L.ownerId!==i&&(ze=!1),s&&os(L)&&(ze=!1),f&&!ir(L)&&(ze=!1),ze&&(Ce[Re++]=L)}if(fn(L,!0),L.right!==Xt&&!Fn(L.right)){R+=L.delta,L=L.right;continue}}return fn(p.root,!1),Ce}function $r(p,e){if(p.root===Xt)return e.parent=Xt,e.left=Xt,e.right=Xt,vn(e,0),p.root=e,p.root;cs(p,e),Li(e.parent);let t=e;for(;t!==p.root&&Jn(t.parent)===1;)if(t.parent===t.parent.parent.left){const i=t.parent.parent.right;Jn(i)===1?(vn(t.parent,0),vn(i,0),vn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.right&&(t=t.parent,Ki(p,t)),vn(t.parent,0),vn(t.parent.parent,1),sr(p,t.parent.parent))}else{const i=t.parent.parent.left;Jn(i)===1?(vn(t.parent,0),vn(i,0),vn(t.parent.parent,1),t=t.parent.parent):(t===t.parent.left&&(t=t.parent,sr(p,t)),vn(t.parent,0),vn(t.parent.parent,1),Ki(p,t.parent.parent))}return vn(p.root,0),e}function cs(p,e){let t=0,i=p.root;const s=e.start,a=e.end;for(;;)if(hs(s,a,i.start+t,i.end+t)<0)if(i.left===Xt){e.start-=t,e.end-=t,e.maxEnd-=t,i.left=e;break}else i=i.left;else if(i.right===Xt){e.start-=t+i.delta,e.end-=t+i.delta,e.maxEnd-=t+i.delta,i.right=e;break}else t+=i.delta,i=i.right;e.parent=i,e.left=Xt,e.right=Xt,vn(e,1)}function Gr(p,e){let t,i;if(e.left===Xt?(t=e.right,i=e,t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(p.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta):e.right===Xt?(t=e.left,i=e):(i=qr(e.right),t=i.right,t.start+=i.delta,t.end+=i.delta,t.delta+=i.delta,(t.delta<-1073741824||t.delta>1073741824)&&(p.requestNormalizeDelta=!0),i.start+=e.delta,i.end+=e.delta,i.delta=e.delta,(i.delta<-1073741824||i.delta>1073741824)&&(p.requestNormalizeDelta=!0)),i===p.root){p.root=t,vn(t,0),e.detach(),mr(),Mi(t),p.root.parent=Xt;return}const s=Jn(i)===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?t.parent=i.parent:(i.parent===e?t.parent=i:t.parent=i.parent,i.left=e.left,i.right=e.right,i.parent=e.parent,vn(i,Jn(e)),e===p.root?p.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Xt&&(i.left.parent=i),i.right!==Xt&&(i.right.parent=i)),e.detach(),s){Li(t.parent),i!==e&&(Li(i),Li(i.parent)),mr();return}Li(t),Li(t.parent),i!==e&&(Li(i),Li(i.parent));let a;for(;t!==p.root&&Jn(t)===0;)t===t.parent.left?(a=t.parent.right,Jn(a)===1&&(vn(a,0),vn(t.parent,1),Ki(p,t.parent),a=t.parent.right),Jn(a.left)===0&&Jn(a.right)===0?(vn(a,1),t=t.parent):(Jn(a.right)===0&&(vn(a.left,0),vn(a,1),sr(p,a),a=t.parent.right),vn(a,Jn(t.parent)),vn(t.parent,0),vn(a.right,0),Ki(p,t.parent),t=p.root)):(a=t.parent.left,Jn(a)===1&&(vn(a,0),vn(t.parent,1),sr(p,t.parent),a=t.parent.left),Jn(a.left)===0&&Jn(a.right)===0?(vn(a,1),t=t.parent):(Jn(a.left)===0&&(vn(a.right,0),vn(a,1),Ki(p,a),a=t.parent.left),vn(a,Jn(t.parent)),vn(t.parent,0),vn(a.left,0),sr(p,t.parent),t=p.root));vn(t,0),mr()}function qr(p){for(;p.left!==Xt;)p=p.left;return p}function mr(){Xt.parent=Xt,Xt.delta=0,Xt.start=0,Xt.end=0}function Ki(p,e){const t=e.right;t.delta+=e.delta,(t.delta<-1073741824||t.delta>1073741824)&&(p.requestNormalizeDelta=!0),t.start+=e.delta,t.end+=e.delta,e.right=t.left,t.left!==Xt&&(t.left.parent=e),t.parent=e.parent,e.parent===Xt?p.root=t:e===e.parent.left?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t,Mi(e),Mi(t)}function sr(p,e){const t=e.left;e.delta-=t.delta,(e.delta<-1073741824||e.delta>1073741824)&&(p.requestNormalizeDelta=!0),e.start-=t.delta,e.end-=t.delta,e.left=t.right,t.right!==Xt&&(t.right.parent=e),t.parent=e.parent,e.parent===Xt?p.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t,Mi(e),Mi(t)}function Jr(p){let e=p.end;if(p.left!==Xt){const t=p.left.maxEnd;t>e&&(e=t)}if(p.right!==Xt){const t=p.right.maxEnd+p.delta;t>e&&(e=t)}return e}function Mi(p){p.maxEnd=Jr(p)}function Li(p){for(;p!==Xt;){const e=Jr(p);if(p.maxEnd===e)return;p.maxEnd=e,p=p.parent}}function hs(p,e,t,i){return p===t?e-i:p-t}class Dr{constructor(e,t){this.piece=e,this.color=t,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Ut)return pr(this.right);let e=this;for(;e.parent!==Ut&&e.parent.left!==e;)e=e.parent;return e.parent===Ut?Ut:e.parent}prev(){if(this.left!==Ut)return $i(this.left);let e=this;for(;e.parent!==Ut&&e.parent.right!==e;)e=e.parent;return e.parent===Ut?Ut:e.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Ut=new Dr(null,0);Ut.parent=Ut,Ut.left=Ut,Ut.right=Ut,Ut.color=0;function pr(p){for(;p.left!==Ut;)p=p.left;return p}function $i(p){for(;p.right!==Ut;)p=p.right;return p}function Xi(p){return p===Ut?0:p.size_left+p.piece.length+Xi(p.right)}function Zi(p){return p===Ut?0:p.lf_left+p.piece.lineFeedCnt+Zi(p.right)}function Rr(){Ut.parent=Ut}function or(p,e){const t=e.right;t.size_left+=e.size_left+(e.piece?e.piece.length:0),t.lf_left+=e.lf_left+(e.piece?e.piece.lineFeedCnt:0),e.right=t.left,t.left!==Ut&&(t.left.parent=e),t.parent=e.parent,e.parent===Ut?p.root=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}function Yi(p,e){const t=e.left;e.left=t.right,t.right!==Ut&&(t.right.parent=e),t.parent=e.parent,e.size_left-=t.size_left+(t.piece?t.piece.length:0),e.lf_left-=t.lf_left+(t.piece?t.piece.lineFeedCnt:0),e.parent===Ut?p.root=t:e===e.parent.right?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}function br(p,e){let t,i;if(e.left===Ut?(i=e,t=i.right):e.right===Ut?(i=e,t=i.left):(i=pr(e.right),t=i.right),i===p.root){p.root=t,t.color=0,e.detach(),Rr(),p.root.parent=Ut;return}const s=i.color===1;if(i===i.parent.left?i.parent.left=t:i.parent.right=t,i===e?(t.parent=i.parent,h(p,t)):(i.parent===e?t.parent=i:t.parent=i.parent,h(p,t),i.left=e.left,i.right=e.right,i.parent=e.parent,i.color=e.color,e===p.root?p.root=i:e===e.parent.left?e.parent.left=i:e.parent.right=i,i.left!==Ut&&(i.left.parent=i),i.right!==Ut&&(i.right.parent=i),i.size_left=e.size_left,i.lf_left=e.lf_left,h(p,i)),e.detach(),t.parent.left===t){const f=Xi(t),L=Zi(t);if(f!==t.parent.size_left||L!==t.parent.lf_left){const R=f-t.parent.size_left,Y=L-t.parent.lf_left;t.parent.size_left=f,t.parent.lf_left=L,l(p,t.parent,R,Y)}}if(h(p,t.parent),s){Rr();return}let a;for(;t!==p.root&&t.color===0;)t===t.parent.left?(a=t.parent.right,a.color===1&&(a.color=0,t.parent.color=1,or(p,t.parent),a=t.parent.right),a.left.color===0&&a.right.color===0?(a.color=1,t=t.parent):(a.right.color===0&&(a.left.color=0,a.color=1,Yi(p,a),a=t.parent.right),a.color=t.parent.color,t.parent.color=0,a.right.color=0,or(p,t.parent),t=p.root)):(a=t.parent.left,a.color===1&&(a.color=0,t.parent.color=1,Yi(p,t.parent),a=t.parent.left),a.left.color===0&&a.right.color===0?(a.color=1,t=t.parent):(a.left.color===0&&(a.right.color=0,a.color=1,or(p,a),a=t.parent.left),a.color=t.parent.color,t.parent.color=0,a.left.color=0,Yi(p,t.parent),t=p.root));t.color=0,Rr()}function r(p,e){for(h(p,e);e!==p.root&&e.parent.color===1;)if(e.parent===e.parent.parent.left){const t=e.parent.parent.right;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.right&&(e=e.parent,or(p,e)),e.parent.color=0,e.parent.parent.color=1,Yi(p,e.parent.parent))}else{const t=e.parent.parent.left;t.color===1?(e.parent.color=0,t.color=0,e.parent.parent.color=1,e=e.parent.parent):(e===e.parent.left&&(e=e.parent,Yi(p,e)),e.parent.color=0,e.parent.parent.color=1,or(p,e.parent.parent))}p.root.color=0}function l(p,e,t,i){for(;e!==p.root&&e!==Ut;)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}function h(p,e){let t=0,i=0;if(e!==p.root){for(;e!==p.root&&e===e.parent.right;)e=e.parent;if(e!==p.root)for(e=e.parent,t=Xi(e.left)-e.size_left,i=Zi(e.left)-e.lf_left,e.size_left+=t,e.lf_left+=i;e!==p.root&&(t!==0||i!==0);)e.parent.left===e&&(e.parent.size_left+=t,e.parent.lf_left+=i),e=e.parent}}var c=N(8470);const d=65535;function E(p){let e;return p[p.length-1]<65536?e=new Uint16Array(p.length):e=new Uint32Array(p.length),e.set(p,0),e}class te{constructor(e,t,i,s,a){this.lineStarts=e,this.cr=t,this.lf=i,this.crlf=s,this.isBasicASCII=a}}function Ie(p,e=!0){const t=[0];let i=1;for(let s=0,a=p.length;s<a;s++){const f=p.charCodeAt(s);f===13?s+1<a&&p.charCodeAt(s+1)===10?(t[i++]=s+2,s++):t[i++]=s+1:f===10&&(t[i++]=s+1)}return e?E(t):t}function oe(p,e){p.length=0,p[0]=0;let t=1,i=0,s=0,a=0,f=!0;for(let R=0,Y=e.length;R<Y;R++){const ce=e.charCodeAt(R);ce===13?R+1<Y&&e.charCodeAt(R+1)===10?(a++,p[t++]=R+2,R++):(i++,p[t++]=R+1):ce===10?(s++,p[t++]=R+1):f&&ce!==9&&(ce<32||ce>126)&&(f=!1)}const L=new te(E(p),i,s,a,f);return p.length=0,L}class de{constructor(e,t,i,s,a){this.bufferIndex=e,this.start=t,this.end=i,this.lineFeedCnt=s,this.length=a}}class we{constructor(e,t){this.buffer=e,this.lineStarts=t}}class pe{constructor(e,t){this._pieces=[],this._tree=e,this._BOM=t,this._index=0,e.root!==Ut&&e.iterate(e.root,i=>(i!==Ut&&this._pieces.push(i.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Ee{constructor(e){this._limit=e,this._cache=[]}get(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartOffset<=e&&i.nodeStartOffset+i.node.piece.length>=e)return i}return null}get2(e){for(let t=this._cache.length-1;t>=0;t--){const i=this._cache[t];if(i.nodeStartLineNumber&&i.nodeStartLineNumber<e&&i.nodeStartLineNumber+i.node.piece.lineFeedCnt>=e)return i}return null}set(e){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(e)}validate(e){let t=!1;const i=this._cache;for(let s=0;s<i.length;s++){const a=i[s];if(a.node.parent===null||a.nodeStartOffset>=e){i[s]=null,t=!0;continue}}if(t){const s=[];for(const a of i)a!==null&&s.push(a);this._cache=s}}}class Pe{constructor(e,t,i){this.create(e,t,i)}create(e,t,i){this._buffers=[new we("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Ut,this._lineCnt=1,this._length=0,this._EOL=t,this._EOLLength=t.length,this._EOLNormalized=i;let s=null;for(let a=0,f=e.length;a<f;a++)if(e[a].buffer.length>0){e[a].lineStarts||(e[a].lineStarts=Ie(e[a].buffer));const L=new de(a+1,{line:0,column:0},{line:e[a].lineStarts.length-1,column:e[a].buffer.length-e[a].lineStarts[e[a].lineStarts.length-1]},e[a].lineStarts.length-1,e[a].buffer.length);this._buffers.push(e[a]),s=this.rbInsertRight(s,L)}this._searchCache=new Ee(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(e){const t=d,i=t-Math.floor(t/3),s=i*2;let a="",f=0;const L=[];if(this.iterate(this.root,R=>{const Y=this.getNodeContent(R),ce=Y.length;if(f<=i||f+ce<s)return a+=Y,f+=ce,!0;const me=a.replace(/\r\n|\r|\n/g,e);return L.push(new we(me,Ie(me))),a=Y,f=ce,!0}),f>0){const R=a.replace(/\r\n|\r|\n/g,e);L.push(new we(R,Ie(R)))}this.create(L,e,!0)}getEOL(){return this._EOL}setEOL(e){this._EOL=e,this._EOLLength=this._EOL.length,this.normalizeEOL(e)}createSnapshot(e){return new pe(this,e)}getOffsetAt(e,t){let i=0,s=this.root;for(;s!==Ut;)if(s.left!==Ut&&s.lf_left+1>=e)s=s.left;else if(s.lf_left+s.piece.lineFeedCnt+1>=e){i+=s.size_left;const a=this.getAccumulatedValue(s,e-s.lf_left-2);return i+=a+t-1}else e-=s.lf_left+s.piece.lineFeedCnt,i+=s.size_left+s.piece.length,s=s.right;return i}getPositionAt(e){e=Math.floor(e),e=Math.max(0,e);let t=this.root,i=0;const s=e;for(;t!==Ut;)if(t.size_left!==0&&t.size_left>=e)t=t.left;else if(t.size_left+t.piece.length>=e){const a=this.getIndexOf(t,e-t.size_left);if(i+=t.lf_left+a.index,a.index===0){const f=this.getOffsetAt(i+1,1),L=s-f;return new y.L(i+1,L+1)}return new y.L(i+1,a.remainder+1)}else if(e-=t.size_left+t.piece.length,i+=t.lf_left+t.piece.lineFeedCnt,t.right===Ut){const a=this.getOffsetAt(i+1,1),f=s-e-a;return new y.L(i+1,f+1)}else t=t.right;return new y.L(1,1)}getValueInRange(e,t){if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";const i=this.nodeAt2(e.startLineNumber,e.startColumn),s=this.nodeAt2(e.endLineNumber,e.endColumn),a=this.getValueInRange2(i,s);return t?t!==this._EOL||!this._EOLNormalized?a.replace(/\r\n|\r|\n/g,t):t===this.getEOL()&&this._EOLNormalized?a:a.replace(/\r\n|\r|\n/g,t):a}getValueInRange2(e,t){if(e.node===t.node){const L=e.node,R=this._buffers[L.piece.bufferIndex].buffer,Y=this.offsetInBuffer(L.piece.bufferIndex,L.piece.start);return R.substring(Y+e.remainder,Y+t.remainder)}let i=e.node;const s=this._buffers[i.piece.bufferIndex].buffer,a=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);let f=s.substring(a+e.remainder,a+i.piece.length);for(i=i.next();i!==Ut;){const L=this._buffers[i.piece.bufferIndex].buffer,R=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(i===t.node){f+=L.substring(R,R+t.remainder);break}else f+=L.substr(R,i.piece.length);i=i.next()}return f}getLinesContent(){const e=[];let t=0,i="",s=!1;return this.iterate(this.root,a=>{if(a===Ut)return!0;const f=a.piece;let L=f.length;if(L===0)return!0;const R=this._buffers[f.bufferIndex].buffer,Y=this._buffers[f.bufferIndex].lineStarts,ce=f.start.line,me=f.end.line;let Ce=Y[ce]+f.start.column;if(s&&(R.charCodeAt(Ce)===10&&(Ce++,L--),e[t++]=i,i="",s=!1,L===0))return!0;if(ce===me)return!this._EOLNormalized&&R.charCodeAt(Ce+L-1)===13?(s=!0,i+=R.substr(Ce,L-1)):i+=R.substr(Ce,L),!0;i+=this._EOLNormalized?R.substring(Ce,Math.max(Ce,Y[ce+1]-this._EOLLength)):R.substring(Ce,Y[ce+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;for(let Re=ce+1;Re<me;Re++)i=this._EOLNormalized?R.substring(Y[Re],Y[Re+1]-this._EOLLength):R.substring(Y[Re],Y[Re+1]).replace(/(\r\n|\r|\n)$/,""),e[t++]=i;return!this._EOLNormalized&&R.charCodeAt(Y[me]+f.end.column-1)===13?(s=!0,f.end.column===0?t--:i=R.substr(Y[me],f.end.column-1)):i=R.substr(Y[me],f.end.column),!0}),s&&(e[t++]=i,i=""),e[t++]=i,e}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(e){return this._lastVisitedLine.lineNumber===e?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=e,e===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(e):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(e,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(e).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(e){if(e.remainder===e.node.piece.length){const t=e.node.next();if(!t)return 0;const i=this._buffers[t.piece.bufferIndex],s=this.offsetInBuffer(t.piece.bufferIndex,t.piece.start);return i.buffer.charCodeAt(s)}else{const t=this._buffers[e.node.piece.bufferIndex],s=this.offsetInBuffer(e.node.piece.bufferIndex,e.node.piece.start)+e.remainder;return t.buffer.charCodeAt(s)}}getLineCharCode(e,t){const i=this.nodeAt2(e,t+1);return this._getCharCode(i)}getLineLength(e){if(e===this.getLineCount()){const t=this.getOffsetAt(e,1);return this.getLength()-t}return this.getOffsetAt(e+1,1)-this.getOffsetAt(e,1)-this._EOLLength}findMatchesInNode(e,t,i,s,a,f,L,R,Y,ce,me){const Ce=this._buffers[e.piece.bufferIndex],Re=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start),ze=this.offsetInBuffer(e.piece.bufferIndex,a),Xe=this.offsetInBuffer(e.piece.bufferIndex,f);let nt;const wt={line:0,column:0};let Bt,Jt;t._wordSeparators?(Bt=Ce.buffer.substring(ze,Xe),Jt=an=>an+ze,t.reset(0)):(Bt=Ce.buffer,Jt=an=>an,t.reset(ze));do if(nt=t.next(Bt),nt){if(Jt(nt.index)>=Xe)return ce;this.positionInBuffer(e,Jt(nt.index)-Re,wt);const an=this.getLineFeedCnt(e.piece.bufferIndex,a,wt),Sn=wt.line===a.line?wt.column-a.column+s:wt.column+1,Vn=Sn+nt[0].length;if(me[ce++]=(0,c.iE)(new k.e(i+an,Sn,i+an,Vn),nt,R),Jt(nt.index)+nt[0].length>=Xe||ce>=Y)return ce}while(nt);return ce}findMatchesLineByLine(e,t,i,s){const a=[];let f=0;const L=new c.sz(t.wordSeparators,t.regex);let R=this.nodeAt2(e.startLineNumber,e.startColumn);if(R===null)return[];const Y=this.nodeAt2(e.endLineNumber,e.endColumn);if(Y===null)return[];let ce=this.positionInBuffer(R.node,R.remainder);const me=this.positionInBuffer(Y.node,Y.remainder);if(R.node===Y.node)return this.findMatchesInNode(R.node,L,e.startLineNumber,e.startColumn,ce,me,t,i,s,f,a),a;let Ce=e.startLineNumber,Re=R.node;for(;Re!==Y.node;){const Xe=this.getLineFeedCnt(Re.piece.bufferIndex,ce,Re.piece.end);if(Xe>=1){const wt=this._buffers[Re.piece.bufferIndex].lineStarts,Bt=this.offsetInBuffer(Re.piece.bufferIndex,Re.piece.start),Jt=wt[ce.line+Xe],an=Ce===e.startLineNumber?e.startColumn:1;if(f=this.findMatchesInNode(Re,L,Ce,an,ce,this.positionInBuffer(Re,Jt-Bt),t,i,s,f,a),f>=s)return a;Ce+=Xe}const nt=Ce===e.startLineNumber?e.startColumn-1:0;if(Ce===e.endLineNumber){const wt=this.getLineContent(Ce).substring(nt,e.endColumn-1);return f=this._findMatchesInLine(t,L,wt,e.endLineNumber,nt,f,a,i,s),a}if(f=this._findMatchesInLine(t,L,this.getLineContent(Ce).substr(nt),Ce,nt,f,a,i,s),f>=s)return a;Ce++,R=this.nodeAt2(Ce,1),Re=R.node,ce=this.positionInBuffer(R.node,R.remainder)}if(Ce===e.endLineNumber){const Xe=Ce===e.startLineNumber?e.startColumn-1:0,nt=this.getLineContent(Ce).substring(Xe,e.endColumn-1);return f=this._findMatchesInLine(t,L,nt,e.endLineNumber,Xe,f,a,i,s),a}const ze=Ce===e.startLineNumber?e.startColumn:1;return f=this.findMatchesInNode(Y.node,L,Ce,ze,ce,me,t,i,s,f,a),a}_findMatchesInLine(e,t,i,s,a,f,L,R,Y){const ce=e.wordSeparators;if(!R&&e.simpleSearch){const Ce=e.simpleSearch,Re=Ce.length,ze=i.length;let Xe=-Re;for(;(Xe=i.indexOf(Ce,Xe+Re))!==-1;)if((!ce||(0,c.cM)(ce,i,ze,Xe,Re))&&(L[f++]=new Tn.tk(new k.e(s,Xe+1+a,s,Xe+1+Re+a),null),f>=Y))return f;return f}let me;t.reset(0);do if(me=t.next(i),me&&(L[f++]=(0,c.iE)(new k.e(s,me.index+1+a,s,me.index+1+me[0].length+a),me,R),f>=Y))return f;while(me);return f}insert(e,t,i=!1){if(this._EOLNormalized=this._EOLNormalized&&i,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Ut){const{node:s,remainder:a,nodeStartOffset:f}=this.nodeAt(e),L=s.piece,R=L.bufferIndex,Y=this.positionInBuffer(s,a);if(s.piece.bufferIndex===0&&L.end.line===this._lastChangeBufferPos.line&&L.end.column===this._lastChangeBufferPos.column&&f+L.length===e&&t.length<d){this.appendToNode(s,t),this.computeBufferMetadata();return}if(f===e)this.insertContentToNodeLeft(t,s),this._searchCache.validate(e);else if(f+s.piece.length>e){const ce=[];let me=new de(L.bufferIndex,Y,L.end,this.getLineFeedCnt(L.bufferIndex,Y,L.end),this.offsetInBuffer(R,L.end)-this.offsetInBuffer(R,Y));if(this.shouldCheckCRLF()&&this.endWithCR(t)&&this.nodeCharCodeAt(s,a)===10){const Xe={line:me.start.line+1,column:0};me=new de(me.bufferIndex,Xe,me.end,this.getLineFeedCnt(me.bufferIndex,Xe,me.end),me.length-1),t+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(t))if(this.nodeCharCodeAt(s,a-1)===13){const Xe=this.positionInBuffer(s,a-1);this.deleteNodeTail(s,Xe),t="\r"+t,s.piece.length===0&&ce.push(s)}else this.deleteNodeTail(s,Y);else this.deleteNodeTail(s,Y);const Ce=this.createNewPieces(t);me.length>0&&this.rbInsertRight(s,me);let Re=s;for(let ze=0;ze<Ce.length;ze++)Re=this.rbInsertRight(Re,Ce[ze]);this.deleteNodes(ce)}else this.insertContentToNodeRight(t,s)}else{const s=this.createNewPieces(t);let a=this.rbInsertLeft(null,s[0]);for(let f=1;f<s.length;f++)a=this.rbInsertRight(a,s[f])}this.computeBufferMetadata()}delete(e,t){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",t<=0||this.root===Ut)return;const i=this.nodeAt(e),s=this.nodeAt(e+t),a=i.node,f=s.node;if(a===f){const Ce=this.positionInBuffer(a,i.remainder),Re=this.positionInBuffer(a,s.remainder);if(i.nodeStartOffset===e){if(t===a.piece.length){const ze=a.next();br(this,a),this.validateCRLFWithPrevNode(ze),this.computeBufferMetadata();return}this.deleteNodeHead(a,Re),this._searchCache.validate(e),this.validateCRLFWithPrevNode(a),this.computeBufferMetadata();return}if(i.nodeStartOffset+a.piece.length===e+t){this.deleteNodeTail(a,Ce),this.validateCRLFWithNextNode(a),this.computeBufferMetadata();return}this.shrinkNode(a,Ce,Re),this.computeBufferMetadata();return}const L=[],R=this.positionInBuffer(a,i.remainder);this.deleteNodeTail(a,R),this._searchCache.validate(e),a.piece.length===0&&L.push(a);const Y=this.positionInBuffer(f,s.remainder);this.deleteNodeHead(f,Y),f.piece.length===0&&L.push(f);const ce=a.next();for(let Ce=ce;Ce!==Ut&&Ce!==f;Ce=Ce.next())L.push(Ce);const me=a.piece.length===0?a.prev():a;this.deleteNodes(L),this.validateCRLFWithNextNode(me),this.computeBufferMetadata()}insertContentToNodeLeft(e,t){const i=[];if(this.shouldCheckCRLF()&&this.endWithCR(e)&&this.startWithLF(t)){const f=t.piece,L={line:f.start.line+1,column:0},R=new de(f.bufferIndex,L,f.end,this.getLineFeedCnt(f.bufferIndex,L,f.end),f.length-1);t.piece=R,e+=`
`,l(this,t,-1,-1),t.piece.length===0&&i.push(t)}const s=this.createNewPieces(e);let a=this.rbInsertLeft(t,s[s.length-1]);for(let f=s.length-2;f>=0;f--)a=this.rbInsertLeft(a,s[f]);this.validateCRLFWithPrevNode(a),this.deleteNodes(i)}insertContentToNodeRight(e,t){this.adjustCarriageReturnFromNext(e,t)&&(e+=`
`);const i=this.createNewPieces(e),s=this.rbInsertRight(t,i[0]);let a=s;for(let f=1;f<i.length;f++)a=this.rbInsertRight(a,i[f]);this.validateCRLFWithPrevNode(s)}positionInBuffer(e,t,i){const s=e.piece,a=e.piece.bufferIndex,f=this._buffers[a].lineStarts,R=f[s.start.line]+s.start.column+t;let Y=s.start.line,ce=s.end.line,me=0,Ce=0,Re=0;for(;Y<=ce&&(me=Y+(ce-Y)/2|0,Re=f[me],me!==ce);)if(Ce=f[me+1],R<Re)ce=me-1;else if(R>=Ce)Y=me+1;else break;return i?(i.line=me,i.column=R-Re,null):{line:me,column:R-Re}}getLineFeedCnt(e,t,i){if(i.column===0)return i.line-t.line;const s=this._buffers[e].lineStarts;if(i.line===s.length-1)return i.line-t.line;const a=s[i.line+1],f=s[i.line]+i.column;if(a>f+1)return i.line-t.line;const L=f-1;return this._buffers[e].buffer.charCodeAt(L)===13?i.line-t.line+1:i.line-t.line}offsetInBuffer(e,t){return this._buffers[e].lineStarts[t.line]+t.column}deleteNodes(e){for(let t=0;t<e.length;t++)br(this,e[t])}createNewPieces(e){if(e.length>d){const ce=[];for(;e.length>d;){const Ce=e.charCodeAt(d-1);let Re;Ce===13||Ce>=55296&&Ce<=56319?(Re=e.substring(0,d-1),e=e.substring(d-1)):(Re=e.substring(0,d),e=e.substring(d));const ze=Ie(Re);ce.push(new de(this._buffers.length,{line:0,column:0},{line:ze.length-1,column:Re.length-ze[ze.length-1]},ze.length-1,Re.length)),this._buffers.push(new we(Re,ze))}const me=Ie(e);return ce.push(new de(this._buffers.length,{line:0,column:0},{line:me.length-1,column:e.length-me[me.length-1]},me.length-1,e.length)),this._buffers.push(new we(e,me)),ce}let t=this._buffers[0].buffer.length;const i=Ie(e,!1);let s=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===t&&t!==0&&this.startWithLF(e)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},s=this._lastChangeBufferPos;for(let ce=0;ce<i.length;ce++)i[ce]+=t+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+="_"+e,t+=1}else{if(t!==0)for(let ce=0;ce<i.length;ce++)i[ce]+=t;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(i.slice(1)),this._buffers[0].buffer+=e}const a=this._buffers[0].buffer.length,f=this._buffers[0].lineStarts.length-1,L=a-this._buffers[0].lineStarts[f],R={line:f,column:L},Y=new de(0,s,R,this.getLineFeedCnt(0,s,R),a-t);return this._lastChangeBufferPos=R,[Y]}getLineRawContent(e,t=0){let i=this.root,s="";const a=this._searchCache.get2(e);if(a){i=a.node;const f=this.getAccumulatedValue(i,e-a.nodeStartLineNumber-1),L=this._buffers[i.piece.bufferIndex].buffer,R=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);if(a.nodeStartLineNumber+i.piece.lineFeedCnt===e)s=L.substring(R+f,R+i.piece.length);else{const Y=this.getAccumulatedValue(i,e-a.nodeStartLineNumber);return L.substring(R+f,R+Y-t)}}else{let f=0;const L=e;for(;i!==Ut;)if(i.left!==Ut&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const R=this.getAccumulatedValue(i,e-i.lf_left-2),Y=this.getAccumulatedValue(i,e-i.lf_left-1),ce=this._buffers[i.piece.bufferIndex].buffer,me=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return f+=i.size_left,this._searchCache.set({node:i,nodeStartOffset:f,nodeStartLineNumber:L-(e-1-i.lf_left)}),ce.substring(me+R,me+Y-t)}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const R=this.getAccumulatedValue(i,e-i.lf_left-2),Y=this._buffers[i.piece.bufferIndex].buffer,ce=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);s=Y.substring(ce+R,ce+i.piece.length);break}else e-=i.lf_left+i.piece.lineFeedCnt,f+=i.size_left+i.piece.length,i=i.right}for(i=i.next();i!==Ut;){const f=this._buffers[i.piece.bufferIndex].buffer;if(i.piece.lineFeedCnt>0){const L=this.getAccumulatedValue(i,0),R=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);return s+=f.substring(R,R+L-t),s}else{const L=this.offsetInBuffer(i.piece.bufferIndex,i.piece.start);s+=f.substr(L,i.piece.length)}i=i.next()}return s}computeBufferMetadata(){let e=this.root,t=1,i=0;for(;e!==Ut;)t+=e.lf_left+e.piece.lineFeedCnt,i+=e.size_left+e.piece.length,e=e.right;this._lineCnt=t,this._length=i,this._searchCache.validate(this._length)}getIndexOf(e,t){const i=e.piece,s=this.positionInBuffer(e,t),a=s.line-i.start.line;if(this.offsetInBuffer(i.bufferIndex,i.end)-this.offsetInBuffer(i.bufferIndex,i.start)===t){const f=this.getLineFeedCnt(e.piece.bufferIndex,i.start,s);if(f!==a)return{index:f,remainder:0}}return{index:a,remainder:s.column}}getAccumulatedValue(e,t){if(t<0)return 0;const i=e.piece,s=this._buffers[i.bufferIndex].lineStarts,a=i.start.line+t+1;return a>i.end.line?s[i.end.line]+i.end.column-s[i.start.line]-i.start.column:s[a]-s[i.start.line]-i.start.column}deleteNodeTail(e,t){const i=e.piece,s=i.lineFeedCnt,a=this.offsetInBuffer(i.bufferIndex,i.end),f=t,L=this.offsetInBuffer(i.bufferIndex,f),R=this.getLineFeedCnt(i.bufferIndex,i.start,f),Y=R-s,ce=L-a,me=i.length+ce;e.piece=new de(i.bufferIndex,i.start,f,R,me),l(this,e,ce,Y)}deleteNodeHead(e,t){const i=e.piece,s=i.lineFeedCnt,a=this.offsetInBuffer(i.bufferIndex,i.start),f=t,L=this.getLineFeedCnt(i.bufferIndex,f,i.end),R=this.offsetInBuffer(i.bufferIndex,f),Y=L-s,ce=a-R,me=i.length+ce;e.piece=new de(i.bufferIndex,f,i.end,L,me),l(this,e,ce,Y)}shrinkNode(e,t,i){const s=e.piece,a=s.start,f=s.end,L=s.length,R=s.lineFeedCnt,Y=t,ce=this.getLineFeedCnt(s.bufferIndex,s.start,Y),me=this.offsetInBuffer(s.bufferIndex,t)-this.offsetInBuffer(s.bufferIndex,a);e.piece=new de(s.bufferIndex,s.start,Y,ce,me),l(this,e,me-L,ce-R);const Ce=new de(s.bufferIndex,i,f,this.getLineFeedCnt(s.bufferIndex,i,f),this.offsetInBuffer(s.bufferIndex,f)-this.offsetInBuffer(s.bufferIndex,i)),Re=this.rbInsertRight(e,Ce);this.validateCRLFWithPrevNode(Re)}appendToNode(e,t){this.adjustCarriageReturnFromNext(t,e)&&(t+=`
`);const i=this.shouldCheckCRLF()&&this.startWithLF(t)&&this.endWithCR(e),s=this._buffers[0].buffer.length;this._buffers[0].buffer+=t;const a=Ie(t,!1);for(let Re=0;Re<a.length;Re++)a[Re]+=s;if(i){const Re=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:s-Re}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1));const f=this._buffers[0].lineStarts.length-1,L=this._buffers[0].buffer.length-this._buffers[0].lineStarts[f],R={line:f,column:L},Y=e.piece.length+t.length,ce=e.piece.lineFeedCnt,me=this.getLineFeedCnt(0,e.piece.start,R),Ce=me-ce;e.piece=new de(e.piece.bufferIndex,e.piece.start,R,me,Y),this._lastChangeBufferPos=R,l(this,e,t.length,Ce)}nodeAt(e){let t=this.root;const i=this._searchCache.get(e);if(i)return{node:i.node,nodeStartOffset:i.nodeStartOffset,remainder:e-i.nodeStartOffset};let s=0;for(;t!==Ut;)if(t.size_left>e)t=t.left;else if(t.size_left+t.piece.length>=e){s+=t.size_left;const a={node:t,remainder:e-t.size_left,nodeStartOffset:s};return this._searchCache.set(a),a}else e-=t.size_left+t.piece.length,s+=t.size_left+t.piece.length,t=t.right;return null}nodeAt2(e,t){let i=this.root,s=0;for(;i!==Ut;)if(i.left!==Ut&&i.lf_left>=e-1)i=i.left;else if(i.lf_left+i.piece.lineFeedCnt>e-1){const a=this.getAccumulatedValue(i,e-i.lf_left-2),f=this.getAccumulatedValue(i,e-i.lf_left-1);return s+=i.size_left,{node:i,remainder:Math.min(a+t-1,f),nodeStartOffset:s}}else if(i.lf_left+i.piece.lineFeedCnt===e-1){const a=this.getAccumulatedValue(i,e-i.lf_left-2);if(a+t-1<=i.piece.length)return{node:i,remainder:a+t-1,nodeStartOffset:s};t-=i.piece.length-a;break}else e-=i.lf_left+i.piece.lineFeedCnt,s+=i.size_left+i.piece.length,i=i.right;for(i=i.next();i!==Ut;){if(i.piece.lineFeedCnt>0){const a=this.getAccumulatedValue(i,0),f=this.offsetOfNode(i);return{node:i,remainder:Math.min(t-1,a),nodeStartOffset:f}}else if(i.piece.length>=t-1){const a=this.offsetOfNode(i);return{node:i,remainder:t-1,nodeStartOffset:a}}else t-=i.piece.length;i=i.next()}return null}nodeCharCodeAt(e,t){if(e.piece.lineFeedCnt<1)return-1;const i=this._buffers[e.piece.bufferIndex],s=this.offsetInBuffer(e.piece.bufferIndex,e.piece.start)+t;return i.buffer.charCodeAt(s)}offsetOfNode(e){if(!e)return 0;let t=e.size_left;for(;e!==this.root;)e.parent.right===e&&(t+=e.parent.size_left+e.parent.piece.length),e=e.parent;return t}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(e){if(typeof e=="string")return e.charCodeAt(0)===10;if(e===Ut||e.piece.lineFeedCnt===0)return!1;const t=e.piece,i=this._buffers[t.bufferIndex].lineStarts,s=t.start.line,a=i[s]+t.start.column;return s===i.length-1||i[s+1]>a+1?!1:this._buffers[t.bufferIndex].buffer.charCodeAt(a)===10}endWithCR(e){return typeof e=="string"?e.charCodeAt(e.length-1)===13:e===Ut||e.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(e,e.piece.length-1)===13}validateCRLFWithPrevNode(e){if(this.shouldCheckCRLF()&&this.startWithLF(e)){const t=e.prev();this.endWithCR(t)&&this.fixCRLF(t,e)}}validateCRLFWithNextNode(e){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const t=e.next();this.startWithLF(t)&&this.fixCRLF(e,t)}}fixCRLF(e,t){const i=[],s=this._buffers[e.piece.bufferIndex].lineStarts;let a;e.piece.end.column===0?a={line:e.piece.end.line-1,column:s[e.piece.end.line]-s[e.piece.end.line-1]-1}:a={line:e.piece.end.line,column:e.piece.end.column-1};const f=e.piece.length-1,L=e.piece.lineFeedCnt-1;e.piece=new de(e.piece.bufferIndex,e.piece.start,a,L,f),l(this,e,-1,-1),e.piece.length===0&&i.push(e);const R={line:t.piece.start.line+1,column:0},Y=t.piece.length-1,ce=this.getLineFeedCnt(t.piece.bufferIndex,R,t.piece.end);t.piece=new de(t.piece.bufferIndex,R,t.piece.end,ce,Y),l(this,t,-1,-1),t.piece.length===0&&i.push(t);const me=this.createNewPieces(`\r
`);this.rbInsertRight(e,me[0]);for(let Ce=0;Ce<i.length;Ce++)br(this,i[Ce])}adjustCarriageReturnFromNext(e,t){if(this.shouldCheckCRLF()&&this.endWithCR(e)){const i=t.next();if(this.startWithLF(i)){if(e+=`
`,i.piece.length===1)br(this,i);else{const s=i.piece,a={line:s.start.line+1,column:0},f=s.length-1,L=this.getLineFeedCnt(s.bufferIndex,a,s.end);i.piece=new de(s.bufferIndex,a,s.end,L,f),l(this,i,-1,-1)}return!0}}return!1}iterate(e,t){if(e===Ut)return t(Ut);const i=this.iterate(e.left,t);return i&&t(e)&&this.iterate(e.right,t)}getNodeContent(e){if(e===Ut)return"";const t=this._buffers[e.piece.bufferIndex],i=e.piece,s=this.offsetInBuffer(i.bufferIndex,i.start),a=this.offsetInBuffer(i.bufferIndex,i.end);return t.buffer.substring(s,a)}getPieceContent(e){const t=this._buffers[e.bufferIndex],i=this.offsetInBuffer(e.bufferIndex,e.start),s=this.offsetInBuffer(e.bufferIndex,e.end);return t.buffer.substring(i,s)}rbInsertRight(e,t){const i=new Dr(t,1);if(i.left=Ut,i.right=Ut,i.parent=Ut,i.size_left=0,i.lf_left=0,this.root===Ut)this.root=i,i.color=0;else if(e.right===Ut)e.right=i,i.parent=e;else{const a=pr(e.right);a.left=i,i.parent=a}return r(this,i),i}rbInsertLeft(e,t){const i=new Dr(t,1);if(i.left=Ut,i.right=Ut,i.parent=Ut,i.size_left=0,i.lf_left=0,this.root===Ut)this.root=i,i.color=0;else if(e.left===Ut)e.left=i,i.parent=e;else{const s=$i(e.left);s.right=i,i.parent=s}return r(this,i),i}}class Ve extends K.JT{constructor(e,t,i,s,a,f,L){super(),this._onDidChangeContent=this._register(new O.Q5),this._BOM=t,this._mightContainNonBasicASCII=!f,this._mightContainRTL=s,this._mightContainUnusualLineTerminators=a,this._pieceTree=new Pe(e,i,L)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(e){return this._pieceTree.createSnapshot(e?this._BOM:"")}getOffsetAt(e,t){return this._pieceTree.getOffsetAt(e,t)}getPositionAt(e){return this._pieceTree.getPositionAt(e)}getRangeAt(e,t){const i=e+t,s=this.getPositionAt(e),a=this.getPositionAt(i);return new k.e(s.lineNumber,s.column,a.lineNumber,a.column)}getValueInRange(e,t=0){if(e.isEmpty())return"";const i=this._getEndOfLine(t);return this._pieceTree.getValueInRange(e,i)}getValueLengthInRange(e,t=0){if(e.isEmpty())return 0;if(e.startLineNumber===e.endLineNumber)return e.endColumn-e.startColumn;const i=this.getOffsetAt(e.startLineNumber,e.startColumn),s=this.getOffsetAt(e.endLineNumber,e.endColumn);let a=0;const f=this._getEndOfLine(t),L=this.getEOL();if(f.length!==L.length){const R=f.length-L.length,Y=e.endLineNumber-e.startLineNumber;a=R*Y}return s-i+a}getCharacterCountInRange(e,t=0){if(this._mightContainNonBasicASCII){let i=0;const s=e.startLineNumber,a=e.endLineNumber;for(let f=s;f<=a;f++){const L=this.getLineContent(f),R=f===s?e.startColumn-1:0,Y=f===a?e.endColumn-1:L.length;for(let ce=R;ce<Y;ce++)b.ZG(L.charCodeAt(ce))?(i=i+1,ce=ce+1):i=i+1}return i+=this._getEndOfLine(t).length*(a-s),i}return this.getValueLengthInRange(e,t)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(e){return this._pieceTree.getLineContent(e)}getLineCharCode(e,t){return this._pieceTree.getLineCharCode(e,t)}getLineLength(e){return this._pieceTree.getLineLength(e)}getLineFirstNonWhitespaceColumn(e){const t=b.LC(this.getLineContent(e));return t===-1?0:t+1}getLineLastNonWhitespaceColumn(e){const t=b.ow(this.getLineContent(e));return t===-1?0:t+2}_getEndOfLine(e){switch(e){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(e){this._pieceTree.setEOL(e)}applyEdits(e,t,i){let s=this._mightContainRTL,a=this._mightContainUnusualLineTerminators,f=this._mightContainNonBasicASCII,L=!0,R=[];for(let Xe=0;Xe<e.length;Xe++){const nt=e[Xe];L&&nt._isTracked&&(L=!1);const wt=nt.range;if(nt.text){let Vn=!0;f||(Vn=!b.$i(nt.text),f=Vn),!s&&Vn&&(s=b.Ut(nt.text)),!a&&Vn&&(a=b.ab(nt.text))}let Bt="",Jt=0,an=0,Sn=0;if(nt.text){let Vn;[Jt,an,Sn,Vn]=(0,B.Q)(nt.text);const yn=this.getEOL();Vn===0||Vn===(yn===`\r
`?2:1)?Bt=nt.text:Bt=nt.text.replace(/\r\n|\r|\n/g,yn)}R[Xe]={sortIndex:Xe,identifier:nt.identifier||null,range:wt,rangeOffset:this.getOffsetAt(wt.startLineNumber,wt.startColumn),rangeLength:this.getValueLengthInRange(wt),text:Bt,eolCount:Jt,firstLineLength:an,lastLineLength:Sn,forceMoveMarkers:!!nt.forceMoveMarkers,isAutoWhitespaceEdit:nt.isAutoWhitespaceEdit||!1}}R.sort(Ve._sortOpsAscending);let Y=!1;for(let Xe=0,nt=R.length-1;Xe<nt;Xe++){const wt=R[Xe].range.getEndPosition(),Bt=R[Xe+1].range.getStartPosition();if(Bt.isBeforeOrEqual(wt)){if(Bt.isBefore(wt))throw new Error("Overlapping ranges are not allowed!");Y=!0}}L&&(R=this._reduceOperations(R));const ce=i||t?Ve._getInverseEditRanges(R):[],me=[];if(t)for(let Xe=0;Xe<R.length;Xe++){const nt=R[Xe],wt=ce[Xe];if(nt.isAutoWhitespaceEdit&&nt.range.isEmpty())for(let Bt=wt.startLineNumber;Bt<=wt.endLineNumber;Bt++){let Jt="";Bt===wt.startLineNumber&&(Jt=this.getLineContent(nt.range.startLineNumber),b.LC(Jt)!==-1)||me.push({lineNumber:Bt,oldContent:Jt})}}let Ce=null;if(i){let Xe=0;Ce=[];for(let nt=0;nt<R.length;nt++){const wt=R[nt],Bt=ce[nt],Jt=this.getValueInRange(wt.range),an=wt.rangeOffset+Xe;Xe+=wt.text.length-Jt.length,Ce[nt]={sortIndex:wt.sortIndex,identifier:wt.identifier,range:Bt,text:Jt,textChange:new Rn(wt.rangeOffset,Jt,an,wt.text)}}Y||Ce.sort((nt,wt)=>nt.sortIndex-wt.sortIndex)}this._mightContainRTL=s,this._mightContainUnusualLineTerminators=a,this._mightContainNonBasicASCII=f;const Re=this._doApplyEdits(R);let ze=null;if(t&&me.length>0){me.sort((Xe,nt)=>nt.lineNumber-Xe.lineNumber),ze=[];for(let Xe=0,nt=me.length;Xe<nt;Xe++){const wt=me[Xe].lineNumber;if(Xe>0&&me[Xe-1].lineNumber===wt)continue;const Bt=me[Xe].oldContent,Jt=this.getLineContent(wt);Jt.length===0||Jt===Bt||b.LC(Jt)!==-1||ze.push(wt)}}return this._onDidChangeContent.fire(),new Tn.je(Ce,Re,ze)}_reduceOperations(e){return e.length<1e3?e:[this._toSingleEditOperation(e)]}_toSingleEditOperation(e){let t=!1;const i=e[0].range,s=e[e.length-1].range,a=new k.e(i.startLineNumber,i.startColumn,s.endLineNumber,s.endColumn);let f=i.startLineNumber,L=i.startColumn;const R=[];for(let Re=0,ze=e.length;Re<ze;Re++){const Xe=e[Re],nt=Xe.range;t=t||Xe.forceMoveMarkers,R.push(this.getValueInRange(new k.e(f,L,nt.startLineNumber,nt.startColumn))),Xe.text.length>0&&R.push(Xe.text),f=nt.endLineNumber,L=nt.endColumn}const Y=R.join(""),[ce,me,Ce]=(0,B.Q)(Y);return{sortIndex:0,identifier:e[0].identifier,range:a,rangeOffset:this.getOffsetAt(a.startLineNumber,a.startColumn),rangeLength:this.getValueLengthInRange(a,0),text:Y,eolCount:ce,firstLineLength:me,lastLineLength:Ce,forceMoveMarkers:t,isAutoWhitespaceEdit:!1}}_doApplyEdits(e){e.sort(Ve._sortOpsDescending);const t=[];for(let i=0;i<e.length;i++){const s=e[i],a=s.range.startLineNumber,f=s.range.startColumn,L=s.range.endLineNumber,R=s.range.endColumn;if(a===L&&f===R&&s.text.length===0)continue;s.text?(this._pieceTree.delete(s.rangeOffset,s.rangeLength),this._pieceTree.insert(s.rangeOffset,s.text,!0)):this._pieceTree.delete(s.rangeOffset,s.rangeLength);const Y=new k.e(a,f,L,R);t.push({range:Y,rangeLength:s.rangeLength,text:s.text,rangeOffset:s.rangeOffset,forceMoveMarkers:s.forceMoveMarkers})}return t}findMatchesLineByLine(e,t,i,s){return this._pieceTree.findMatchesLineByLine(e,t,i,s)}static _getInverseEditRanges(e){const t=[];let i=0,s=0,a=null;for(let f=0,L=e.length;f<L;f++){const R=e[f];let Y,ce;a?a.range.endLineNumber===R.range.startLineNumber?(Y=i,ce=s+(R.range.startColumn-a.range.endColumn)):(Y=i+(R.range.startLineNumber-a.range.endLineNumber),ce=R.range.startColumn):(Y=R.range.startLineNumber,ce=R.range.startColumn);let me;if(R.text.length>0){const Ce=R.eolCount+1;Ce===1?me=new k.e(Y,ce,Y,ce+R.firstLineLength):me=new k.e(Y,ce,Y+Ce-1,R.lastLineLength+1)}else me=new k.e(Y,ce,Y,ce);i=me.endLineNumber,s=me.endColumn,t.push(me),a=R}return t}static _sortOpsAscending(e,t){const i=k.e.compareRangesUsingEnds(e.range,t.range);return i===0?e.sortIndex-t.sortIndex:i}static _sortOpsDescending(e,t){const i=k.e.compareRangesUsingEnds(e.range,t.range);return i===0?t.sortIndex-e.sortIndex:-i}}class $e{constructor(e,t,i,s,a,f,L,R,Y){this._chunks=e,this._bom=t,this._cr=i,this._lf=s,this._crlf=a,this._containsRTL=f,this._containsUnusualLineTerminators=L,this._isBasicASCII=R,this._normalizeEOL=Y}_getEOL(e){const t=this._cr+this._lf+this._crlf,i=this._cr+this._crlf;return t===0?e===1?`
`:`\r
`:i>t/2?`\r
`:`
`}create(e){const t=this._getEOL(e),i=this._chunks;if(this._normalizeEOL&&(t===`\r
`&&(this._cr>0||this._lf>0)||t===`
`&&(this._cr>0||this._crlf>0)))for(let a=0,f=i.length;a<f;a++){const L=i[a].buffer.replace(/\r\n|\r|\n/g,t),R=Ie(L);i[a]=new we(L,R)}const s=new Ve(i,this._bom,t,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:s,disposable:s}}}class et{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(e){if(e.length===0)return;this.chunks.length===0&&b.uS(e)&&(this.BOM=b.c1,e=e.substr(1));const t=e.charCodeAt(e.length-1);t===13||t>=55296&&t<=56319?(this._acceptChunk1(e.substr(0,e.length-1),!1),this._hasPreviousChar=!0,this._previousChar=t):(this._acceptChunk1(e,!1),this._hasPreviousChar=!1,this._previousChar=t)}_acceptChunk1(e,t){!t&&e.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+e):this._acceptChunk2(e))}_acceptChunk2(e){const t=oe(this._tmpLineStarts,e);this.chunks.push(new we(e,t.lineStarts)),this.cr+=t.cr,this.lf+=t.lf,this.crlf+=t.crlf,t.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=b.Ut(e)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=b.ab(e)))}finish(e=!0){return this._finish(),new $e(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,e)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const e=this.chunks[this.chunks.length-1];e.buffer+=String.fromCharCode(this._previousChar);const t=Ie(e.buffer);e.lineStarts=t,this._previousChar===13&&this.cr++}}}var dt=N(2784),yt=N(3655),Qe=N(9703),gt=N(1984),rt=N(6629);const Et=new class{clone(){return this}equals(p){return this===p}};function It(p,e){return new TokenizationResult([new Token(0,"",p)],e)}function Mt(p,e){const t=new Uint32Array(2);return t[0]=0,t[1]=(p<<0|0|0|32768|33554432)>>>0,new yt.DI(t,e===null?Et:e)}class $t{constructor(e){this._default=e,this._store=[]}get(e){return e<this._store.length?this._store[e]:this._default}set(e,t){for(;e>=this._store.length;)this._store[this._store.length]=this._default;this._store[e]=t}replace(e,t,i){if(e>=this._store.length)return;if(t===0){this.insert(e,i);return}else if(i===0){this.delete(e,t);return}const s=this._store.slice(0,e),a=this._store.slice(e+t),f=ln(i,this._default);this._store=s.concat(f,a)}delete(e,t){t===0||e>=this._store.length||this._store.splice(e,t)}insert(e,t){if(t===0||e>=this._store.length)return;const i=[];for(let s=0;s<t;s++)i[s]=this._default;this._store=(0,U.Zv)(this._store,e,i)}}function ln(p,e){const t=[];for(let i=0;i<p;i++)t[i]=e;return t}class At{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(e,t){this._startLineNumber=e,this._tokens=t}getLineTokens(e){return this._tokens[e-this._startLineNumber]}appendLineTokens(e){this._tokens.push(e)}}class it{constructor(){this._tokens=[]}add(e,t){if(this._tokens.length>0){const i=this._tokens[this._tokens.length-1];if(i.endLineNumber+1===e){i.appendLineTokens(t);return}}this._tokens.push(new At(e,[t]))}finalize(){return this._tokens}}const er=class er{static createEmpty(e,t){const i=er.defaultTokenMetadata,s=new Uint32Array(2);return s[0]=e.length,s[1]=i,new er(s,e,t)}static createFromTextAndMetadata(e,t){let i=0,s="";const a=new Array;for(const{text:f,metadata:L}of e)a.push(i+f.length,L),i+=f.length,s+=f;return new er(new Uint32Array(a),s,t)}constructor(e,t,i){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t,this.languageIdCodec=i}equals(e){return e instanceof er?this.slicedEquals(e,0,this._tokensCount):!1}slicedEquals(e,t,i){if(this._text!==e._text||this._tokensCount!==e._tokensCount)return!1;const s=t<<1,a=s+(i<<1);for(let f=s;f<a;f++)if(this._tokens[f]!==e._tokens[f])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[(e<<1)+1]}getLanguageId(e){const t=this._tokens[(e<<1)+1],i=Ne.N.getLanguageId(t);return this.languageIdCodec.decodeLanguageId(i)}getStandardTokenType(e){const t=this._tokens[(e<<1)+1];return Ne.N.getTokenType(t)}getForeground(e){const t=this._tokens[(e<<1)+1];return Ne.N.getForeground(t)}getClassName(e){const t=this._tokens[(e<<1)+1];return Ne.N.getClassNameFromMetadata(t)}getInlineStyle(e,t){const i=this._tokens[(e<<1)+1];return Ne.N.getInlineStyleFromMetadata(i,t)}getPresentation(e){const t=this._tokens[(e<<1)+1];return Ne.N.getPresentationFromMetadata(t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return er.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,i){return new Pt(this,e,t,i)}static convertToEndOffset(e,t){const s=(e.length>>>1)-1;for(let a=0;a<s;a++)e[a<<1]=e[a+1<<1];e[s<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let i=0,s=(e.length>>>1)-1;for(;i<s;){const a=i+Math.floor((s-i)/2),f=e[a<<1];if(f===t)return a+1;f<t?i=a+1:f>t&&(s=a)}return i}withInserted(e){if(e.length===0)return this;let t=0,i=0,s="";const a=new Array;let f=0;for(;;){const L=t<this._tokensCount?this._tokens[t<<1]:-1,R=i<e.length?e[i]:null;if(L!==-1&&(R===null||L<=R.offset)){s+=this._text.substring(f,L);const Y=this._tokens[(t<<1)+1];a.push(s.length,Y),t++,f=L}else if(R){if(R.offset>f){s+=this._text.substring(f,R.offset);const Y=this._tokens[(t<<1)+1];a.push(s.length,Y),f=R.offset}s+=R.text,a.push(s.length,R.tokenMetadata),i++}else break}return new er(new Uint32Array(a),s,this.languageIdCodec)}getTokenText(e){const t=this.getStartOffset(e),i=this.getEndOffset(e);return this._text.substring(t,i)}forEach(e){const t=this.getCount();for(let i=0;i<t;i++)e(i)}};er.defaultTokenMetadata=33587200;let St=er;class Pt{constructor(e,t,i,s){this._source=e,this._startOffset=t,this._endOffset=i,this._deltaOffset=s,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this.languageIdCodec=e.languageIdCodec,this._tokensCount=0;for(let a=this._firstTokenIndex,f=e.getCount();a<f&&!(e.getStartOffset(a)>=i);a++)this._tokensCount++}getMetadata(e){return this._source.getMetadata(this._firstTokenIndex+e)}getLanguageId(e){return this._source.getLanguageId(this._firstTokenIndex+e)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(e){return e instanceof Pt?this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getStandardTokenType(e){return this._source.getStandardTokenType(this._firstTokenIndex+e)}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}getPresentation(e){return this._source.getPresentation(this._firstTokenIndex+e)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}getTokenText(e){const t=this._firstTokenIndex+e,i=this._source.getStartOffset(t),s=this._source.getEndOffset(t);let a=this._source.getTokenText(t);return i<this._startOffset&&(a=a.substring(this._startOffset-i)),s>this._endOffset&&(a=a.substring(0,a.length-(s-this._endOffset))),a}forEach(e){for(let t=0;t<this.getCount();t++)e(t)}}function wn(p,e){const t=e.lineNumber;if(!p.tokenization.isCheapToTokenize(t))return;p.tokenization.forceTokenization(t);const i=p.tokenization.getLineTokens(t),s=i.findTokenIndexAtOffset(e.column-1);return i.getStandardTokenType(s)}class pn{constructor(e,t){this.tokenizationSupport=t,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new ui(e)}getStartState(e){return this.store.getStartState(e,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class dn extends pn{constructor(e,t,i,s){super(e,t),this._textModel=i,this._languageIdCodec=s}updateTokensUntilLine(e,t){const i=this._textModel.getLanguageId();for(;;){const s=this.getFirstInvalidLine();if(!s||s.lineNumber>t)break;const a=this._textModel.getLineContent(s.lineNumber),f=yi(this._languageIdCodec,i,this.tokenizationSupport,a,!0,s.startState);e.add(s.lineNumber,f.tokens),this.store.setEndState(s.lineNumber,f.endState)}}getTokenTypeIfInsertingCharacter(e,t){const i=this.getStartState(e.lineNumber);if(!i)return 0;const s=this._textModel.getLanguageId(),a=this._textModel.getLineContent(e.lineNumber),f=a.substring(0,e.column-1)+t+a.substring(e.column-1),L=yi(this._languageIdCodec,s,this.tokenizationSupport,f,!0,i),R=new St(L.tokens,f,this._languageIdCodec);if(R.getCount()===0)return 0;const Y=R.findTokenIndexAtOffset(e.column-1);return R.getStandardTokenType(Y)}tokenizeLineWithEdit(e,t,i){const s=e.lineNumber,a=e.column,f=this.getStartState(s);if(!f)return null;const L=this._textModel.getLineContent(s),R=L.substring(0,a-1)+i+L.substring(a-1+t),Y=this._textModel.getLanguageIdAtPosition(s,0),ce=yi(this._languageIdCodec,Y,this.tokenizationSupport,R,!0,f);return new St(ce.tokens,R,this._languageIdCodec)}hasAccurateTokensForLine(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t}isCheapToTokenize(e){const t=this.store.getFirstInvalidEndStateLineNumberOrMax();return e<t||e===t&&this._textModel.getLineLength(e)<2048}tokenizeHeuristically(e,t,i){if(i<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(t<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(e,i),{heuristicTokens:!1};let s=this.guessStartState(t);const a=this._textModel.getLanguageId();for(let f=t;f<=i;f++){const L=this._textModel.getLineContent(f),R=yi(this._languageIdCodec,a,this.tokenizationSupport,L,!0,s);e.add(f,R.tokens),s=R.endState}return{heuristicTokens:!0}}guessStartState(e){let t=this._textModel.getLineFirstNonWhitespaceColumn(e);const i=[];let s=null;for(let L=e-1;t>1&&L>=1;L--){const R=this._textModel.getLineFirstNonWhitespaceColumn(L);if(R!==0&&R<t&&(i.push(this._textModel.getLineContent(L)),t=R,s=this.getStartState(L),s))break}s||(s=this.tokenizationSupport.getInitialState()),i.reverse();const a=this._textModel.getLanguageId();let f=s;for(const L of i)f=yi(this._languageIdCodec,a,this.tokenizationSupport,L,!1,f).endState;return f}}class ui{constructor(e){this.lineCount=e,this._tokenizationStateStore=new ci,this._invalidEndStatesLineNumbers=new $n,this._invalidEndStatesLineNumbers.addRange(new rt.q(1,e+1))}getEndState(e){return this._tokenizationStateStore.getEndState(e)}setEndState(e,t){if(!t)throw new z.he("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(e);const i=this._tokenizationStateStore.setEndState(e,t);return i&&e<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new rt.q(e+1,e+2)),i}acceptChange(e,t){this.lineCount+=t-e.length,this._tokenizationStateStore.acceptChange(e,t),this._invalidEndStatesLineNumbers.addRangeAndResize(new rt.q(e.startLineNumber,e.endLineNumberExclusive),t)}acceptChanges(e){for(const t of e){const[i]=(0,B.Q)(t.text);this.acceptChange(new dt.z(t.range.startLineNumber,t.range.endLineNumber+1),i+1)}}invalidateEndStateRange(e){this._invalidEndStatesLineNumbers.addRange(new rt.q(e.startLineNumber,e.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(e,t){return e===1?t:this.getEndState(e-1)}getFirstInvalidLine(e){const t=this.getFirstInvalidEndStateLineNumber();if(t===null)return null;const i=this.getStartState(t,e);if(!i)throw new z.he("Start state must be defined");return{lineNumber:t,startState:i}}}class ci{constructor(){this._lineEndStates=new $t(null)}getEndState(e){return this._lineEndStates.get(e)}setEndState(e,t){const i=this._lineEndStates.get(e);return i&&i.equals(t)?!1:(this._lineEndStates.set(e,t),!0)}acceptChange(e,t){let i=e.length;t>0&&i>0&&(i--,t--),this._lineEndStates.replace(e.startLineNumber,i,t)}}class $n{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(e){const t=this._ranges.findIndex(i=>i.contains(e));if(t!==-1){const i=this._ranges[t];i.start===e?i.endExclusive===e+1?this._ranges.splice(t,1):this._ranges[t]=new rt.q(e+1,i.endExclusive):i.endExclusive===e+1?this._ranges[t]=new rt.q(i.start,e):this._ranges.splice(t,1,new rt.q(i.start,e),new rt.q(e+1,i.endExclusive))}}addRange(e){rt.q.addRange(e,this._ranges)}addRangeAndResize(e,t){let i=0;for(;!(i>=this._ranges.length||e.start<=this._ranges[i].endExclusive);)i++;let s=i;for(;!(s>=this._ranges.length||e.endExclusive<this._ranges[s].start);)s++;const a=t-e.length;for(let f=s;f<this._ranges.length;f++)this._ranges[f]=this._ranges[f].delta(a);if(i===s){const f=new rt.q(e.start,e.start+t);f.isEmpty||this._ranges.splice(i,0,f)}else{const f=Math.min(e.start,this._ranges[i].start),L=Math.max(e.endExclusive,this._ranges[s-1].endExclusive),R=new rt.q(f,L+a);R.isEmpty?this._ranges.splice(i,s-i):this._ranges.splice(i,s-i,R)}}toString(){return this._ranges.map(e=>e.toString()).join(" + ")}}function yi(p,e,t,i,s,a){let f=null;if(t)try{f=t.tokenizeEncoded(i,s,a.clone())}catch(L){(0,z.dL)(L)}return f||(f=Mt(p.encodeLanguageId(e),a)),St.convertToEndOffset(f.tokens,i.length),f}class Rs{constructor(e,t){this._tokenizerWithStateStore=e,this._backgroundTokenStore=t,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,Qe.jg)(e=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(e)}))}_backgroundTokenizeWithDeadline(e){const t=Date.now()+e.timeRemaining(),i=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<t?(0,o.fn)(i):this._beginBackgroundTokenization())};i()}_backgroundTokenizeForAtLeast1ms(){const e=this._tokenizerWithStateStore._textModel.getLineCount(),t=new it,i=gt.G.create(!1);do if(i.elapsed()>1||this._tokenizeOneInvalidLine(t)>=e)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(t.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(e){var i;const t=(i=this._tokenizerWithStateStore)==null?void 0:i.getFirstInvalidLine();return t?(this._tokenizerWithStateStore.updateTokensUntilLine(e,t.lineNumber),t.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(e,t){this._tokenizerWithStateStore.store.invalidateEndStateRange(new dt.z(e,t))}}class Ms{constructor(){this._onDidChangeVisibleRanges=new O.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const e=new Os(t=>{this._onDidChangeVisibleRanges.fire({view:e,state:t})});return this._views.add(e),e}detachView(e){this._views.delete(e),this._onDidChangeVisibleRanges.fire({view:e,state:void 0})}}class Os{constructor(e){this.handleStateChange=e}setVisibleLines(e,t){const i=e.map(s=>new dt.z(s.startLineNumber,s.endLineNumber+1));this.handleStateChange({visibleLineRanges:i,stabilized:t})}}class Ps extends K.JT{get lineRanges(){return this._lineRanges}constructor(e){super(),this._refreshTokens=e,this.runner=this._register(new Qe.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,U.fS)(this._computedLineRanges,this._lineRanges,(e,t)=>e.equals(t))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(e){this._lineRanges=e.visibleLineRanges,e.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}class Ls extends K.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(e,t,i){super(),this._languageIdCodec=e,this._textModel=t,this.getLanguageId=i,this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new O.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event}tokenizeIfCheap(e){this.isCheapToTokenize(e)&&this.forceTokenization(e)}}class ys extends Ls{constructor(e,t,i,s){super(t,i,s),this._treeSitterService=e,this._tokenizationSupport=null,this._initialize()}_initialize(){const e=this.getLanguageId();(!this._tokenizationSupport||this._lastLanguageId!==e)&&(this._lastLanguageId=e,this._tokenizationSupport=yt.A3.get(e))}getLineTokens(e){const t=this._textModel.getLineContent(e);if(this._tokenizationSupport){const i=this._tokenizationSupport.tokenizeEncoded(e,this._textModel);if(i)return new St(i,t,this._languageIdCodec)}return St.createEmpty(t,this._languageIdCodec)}resetTokenization(e=!0){e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]}),this._initialize()}handleDidChangeAttached(){}handleDidChangeContent(e){e.isFlush&&this.resetTokenization(!1)}forceTokenization(e){}hasAccurateTokensForLine(e){return!0}isCheapToTokenize(e){return!0}getTokenTypeIfInsertingCharacter(e,t,i){return 0}tokenizeLineWithEdit(e,t,i){return null}get hasTokens(){return this._treeSitterService.getParseResult(this._textModel)!==void 0}}var Qt=N(5224);const tn=new Uint32Array(0).buffer;class In{static deleteBeginning(e,t){return e===null||e===tn?e:In.delete(e,0,t)}static deleteEnding(e,t){if(e===null||e===tn)return e;const i=An(e),s=i[i.length-2];return In.delete(e,t,s)}static delete(e,t,i){if(e===null||e===tn||t===i)return e;const s=An(e),a=s.length>>>1;if(t===0&&s[s.length-2]===i)return tn;const f=St.findIndexInTokensArray(s,t),L=f>0?s[f-1<<1]:0,R=s[f<<1];if(i<R){const Re=i-t;for(let ze=f;ze<a;ze++)s[ze<<1]-=Re;return e}let Y,ce;L!==t?(s[f<<1]=t,Y=f+1<<1,ce=t):(Y=f<<1,ce=L);const me=i-t;for(let Re=f+1;Re<a;Re++){const ze=s[Re<<1]-me;ze>ce&&(s[Y++]=ze,s[Y++]=s[(Re<<1)+1],ce=ze)}if(Y===s.length)return e;const Ce=new Uint32Array(Y);return Ce.set(s.subarray(0,Y),0),Ce.buffer}static append(e,t){if(t===tn)return e;if(e===tn)return t;if(e===null)return e;if(t===null)return null;const i=An(e),s=An(t),a=s.length>>>1,f=new Uint32Array(i.length+s.length);f.set(i,0);let L=i.length;const R=i[i.length-2];for(let Y=0;Y<a;Y++)f[L++]=s[Y<<1]+R,f[L++]=s[(Y<<1)+1];return f.buffer}static insert(e,t,i){if(e===null||e===tn)return e;const s=An(e),a=s.length>>>1;let f=St.findIndexInTokensArray(s,t);f>0&&s[f-1<<1]===t&&f--;for(let L=f;L<a;L++)s[L<<1]+=i;return e}}function An(p){return p instanceof Uint32Array?p:new Uint32Array(p)}class ti{constructor(e){this._lineTokens=[],this._len=0,this._languageIdCodec=e}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(e,t,i){let s=null;if(t<this._len&&(s=this._lineTokens[t]),s!==null&&s!==tn)return new St(An(s),i,this._languageIdCodec);const a=new Uint32Array(2);return a[0]=i.length,a[1]=Ni(this._languageIdCodec.encodeLanguageId(e)),new St(a,i,this._languageIdCodec)}static _massageTokens(e,t,i){const s=i?An(i):null;if(t===0){let a=!1;if(s&&s.length>1&&(a=Ne.N.getLanguageId(s[1])!==e),!a)return tn}if(!s||s.length===0){const a=new Uint32Array(2);return a[0]=t,a[1]=Ni(e),a.buffer}return s[s.length-2]=t,s.byteOffset===0&&s.byteLength===s.buffer.byteLength?s.buffer:s}_ensureLine(e){for(;e>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(e,t){t!==0&&(e+t>this._len&&(t=this._len-e),this._lineTokens.splice(e,t),this._len-=t)}_insertLines(e,t){if(t===0)return;const i=[];for(let s=0;s<t;s++)i[s]=null;this._lineTokens=U.Zv(this._lineTokens,e,i),this._len+=t}setTokens(e,t,i,s,a){const f=ti._massageTokens(this._languageIdCodec.encodeLanguageId(e),i,s);this._ensureLine(t);const L=this._lineTokens[t];return this._lineTokens[t]=f,a?!ti._equals(L,f):!1}static _equals(e,t){if(!e||!t)return!e&&!t;const i=An(e),s=An(t);if(i.length!==s.length)return!1;for(let a=0,f=i.length;a<f;a++)if(i[a]!==s[a])return!1;return!0}acceptEdit(e,t,i){this._acceptDeleteRange(e),this._acceptInsertText(new y.L(e.startLineNumber,e.startColumn),t,i)}_acceptDeleteRange(e){const t=e.startLineNumber-1;if(t>=this._len)return;if(e.startLineNumber===e.endLineNumber){if(e.startColumn===e.endColumn)return;this._lineTokens[t]=In.delete(this._lineTokens[t],e.startColumn-1,e.endColumn-1);return}this._lineTokens[t]=In.deleteEnding(this._lineTokens[t],e.startColumn-1);const i=e.endLineNumber-1;let s=null;i<this._len&&(s=In.deleteBeginning(this._lineTokens[i],e.endColumn-1)),this._lineTokens[t]=In.append(this._lineTokens[t],s),this._deleteLines(e.startLineNumber,e.endLineNumber-e.startLineNumber)}_acceptInsertText(e,t,i){if(t===0&&i===0)return;const s=e.lineNumber-1;if(!(s>=this._len)){if(t===0){this._lineTokens[s]=In.insert(this._lineTokens[s],e.column-1,i);return}this._lineTokens[s]=In.deleteEnding(this._lineTokens[s],e.column-1),this._lineTokens[s]=In.insert(this._lineTokens[s],e.column-1,i),this._insertLines(e.lineNumber,t)}}setMultilineTokens(e,t){if(e.length===0)return{changes:[]};const i=[];for(let s=0,a=e.length;s<a;s++){const f=e[s];let L=0,R=0,Y=!1;for(let ce=f.startLineNumber;ce<=f.endLineNumber;ce++)Y?(this.setTokens(t.getLanguageId(),ce-1,t.getLineLength(ce),f.getLineTokens(ce),!1),R=ce):this.setTokens(t.getLanguageId(),ce-1,t.getLineLength(ce),f.getLineTokens(ce),!0)&&(Y=!0,L=ce,R=ce);Y&&i.push({fromLineNumber:L,toLineNumber:R})}return{changes:i}}}function Ni(p){return(p<<0|0|0|32768|33554432|1024)>>>0}class si{constructor(e){this._pieces=[],this._isComplete=!1,this._languageIdCodec=e}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(e,t){this._pieces=e||[],this._isComplete=t}setPartial(e,t){let i=e;if(t.length>0){const a=t[0].getRange(),f=t[t.length-1].getRange();if(!a||!f)return e;i=e.plusRange(a).plusRange(f)}let s=null;for(let a=0,f=this._pieces.length;a<f;a++){const L=this._pieces[a];if(L.endLineNumber<i.startLineNumber)continue;if(L.startLineNumber>i.endLineNumber){s=s||{index:a};break}if(L.removeTokens(i),L.isEmpty()){this._pieces.splice(a,1),a--,f--;continue}if(L.endLineNumber<i.startLineNumber)continue;if(L.startLineNumber>i.endLineNumber){s=s||{index:a};continue}const[R,Y]=L.split(i);if(R.isEmpty()){s=s||{index:a};continue}Y.isEmpty()||(this._pieces.splice(a,1,R,Y),a++,f++,s=s||{index:a})}return s=s||{index:this._pieces.length},t.length>0&&(this._pieces=U.Zv(this._pieces,s.index,t)),i}isComplete(){return this._isComplete}addSparseTokens(e,t){if(t.getLineContent().length===0)return t;const i=this._pieces;if(i.length===0)return t;const s=si._findFirstPieceWithLine(i,e),a=i[s].getLineTokens(e);if(!a)return t;const f=t.getCount(),L=a.getCount();let R=0;const Y=[];let ce=0,me=0;const Ce=(Re,ze)=>{Re!==me&&(me=Re,Y[ce++]=Re,Y[ce++]=ze)};for(let Re=0;Re<L;Re++){const ze=a.getStartCharacter(Re),Xe=a.getEndCharacter(Re),nt=a.getMetadata(Re),wt=((nt&1?2048:0)|(nt&2?4096:0)|(nt&4?8192:0)|(nt&8?16384:0)|(nt&16?16744448:0)|(nt&32?4278190080:0))>>>0,Bt=~wt>>>0;for(;R<f&&t.getEndOffset(R)<=ze;)Ce(t.getEndOffset(R),t.getMetadata(R)),R++;for(R<f&&t.getStartOffset(R)<ze&&Ce(ze,t.getMetadata(R));R<f&&t.getEndOffset(R)<Xe;)Ce(t.getEndOffset(R),t.getMetadata(R)&Bt|nt&wt),R++;if(R<f)Ce(Xe,t.getMetadata(R)&Bt|nt&wt),t.getEndOffset(R)===Xe&&R++;else{const Jt=Math.min(Math.max(0,R-1),f-1);Ce(Xe,t.getMetadata(Jt)&Bt|nt&wt)}}for(;R<f;)Ce(t.getEndOffset(R),t.getMetadata(R)),R++;return new St(new Uint32Array(Y),t.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(e,t){let i=0,s=e.length-1;for(;i<s;){let a=i+Math.floor((s-i)/2);if(e[a].endLineNumber<t)i=a+1;else if(e[a].startLineNumber>t)s=a-1;else{for(;a>i&&e[a-1].startLineNumber<=t&&t<=e[a-1].endLineNumber;)a--;return a}}return i}acceptEdit(e,t,i,s,a){for(const f of this._pieces)f.acceptEdit(e,t,i,s,a)}}var gi=function(p,e,t,i){var s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,e,t,i);else for(var L=p.length-1;L>=0;L--)(f=p[L])&&(a=(s<3?f(a):s>3?f(e,t,a):f(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},xs=function(p,e){return function(t,i){e(t,i,p)}},fs;let ws=fs=class extends Er{constructor(e,t,i,s,a,f,L){super(),this._textModel=e,this._bracketPairsTextModelPart=t,this._languageId=i,this._attachedViews=s,this._languageService=a,this._languageConfigurationService=f,this._treeSitterService=L,this._semanticTokens=new si(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new O.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new O.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new O.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._tokensDisposables=this._register(new K.SL),this._register(this._languageConfigurationService.onDidChange(R=>{R.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(O.ju.filter(yt.A3.onDidChange,R=>R.changedLanguages.includes(this._languageId))(()=>{this.createPreferredTokenProvider()})),this.createPreferredTokenProvider()}createGrammarTokens(){return this._register(new Fs(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews))}createTreeSitterTokens(){return this._register(new ys(this._treeSitterService,this._languageService.languageIdCodec,this._textModel,()=>this._languageId))}createTokens(e){var i;const t=this._tokens!==void 0;(i=this._tokens)==null||i.dispose(),this._tokens=e?this.createTreeSitterTokens():this.createGrammarTokens(),this._tokensDisposables.clear(),this._tokensDisposables.add(this._tokens.onDidChangeTokens(s=>{this._emitModelTokensChangedEvent(s)})),this._tokensDisposables.add(this._tokens.onDidChangeBackgroundTokenizationState(s=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()})),t&&this._tokens.resetTokenization()}createPreferredTokenProvider(){yt.A3.get(this._languageId)?this._tokens instanceof ys||this.createTokens(!0):this._tokens instanceof Fs||this.createTokens(!1)}handleLanguageConfigurationServiceChange(e){e.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})}handleDidChangeContent(e){if(e.isFlush)this._semanticTokens.flush();else if(!e.isEolChange)for(const t of e.changes){const[i,s,a]=(0,B.Q)(t.text);this._semanticTokens.acceptEdit(t.range,i,s,a,t.text.length>0?t.text.charCodeAt(0):0)}this._tokens.handleDidChangeContent(e)}handleDidChangeAttached(){this._tokens.handleDidChangeAttached()}getLineTokens(e){this.validateLineNumber(e);const t=this._tokens.getLineTokens(e);return this._semanticTokens.addSparseTokens(e,t)}_emitModelTokensChangedEvent(e){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(e),this._onDidChangeTokens.fire(e))}validateLineNumber(e){if(e<1||e>this._textModel.getLineCount())throw new z.he("Illegal value for lineNumber")}get hasTokens(){return this._tokens.hasTokens}resetTokenization(){this._tokens.resetTokenization()}get backgroundTokenizationState(){return this._tokens.backgroundTokenizationState}forceTokenization(e){this.validateLineNumber(e),this._tokens.forceTokenization(e)}hasAccurateTokensForLine(e){return this.validateLineNumber(e),this._tokens.hasAccurateTokensForLine(e)}isCheapToTokenize(e){return this.validateLineNumber(e),this._tokens.isCheapToTokenize(e)}tokenizeIfCheap(e){this.validateLineNumber(e),this._tokens.tokenizeIfCheap(e)}getTokenTypeIfInsertingCharacter(e,t,i){return this._tokens.getTokenTypeIfInsertingCharacter(e,t,i)}tokenizeLineWithEdit(e,t,i){return this._tokens.tokenizeLineWithEdit(e,t,i)}setSemanticTokens(e,t){this._semanticTokens.set(e,t),this._emitModelTokensChangedEvent({semanticTokensApplied:e!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(e,t){if(this.hasCompleteSemanticTokens())return;const i=this._textModel.validateRange(this._semanticTokens.setPartial(e,t));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:i.startLineNumber,toLineNumber:i.endLineNumber}]})}getWordAtPosition(e){this.assertNotDisposed();const t=this._textModel.validatePosition(e),i=this._textModel.getLineContent(t.lineNumber),s=this.getLineTokens(t.lineNumber),a=s.findTokenIndexAtOffset(t.column-1),[f,L]=fs._findLanguageBoundaries(s,a),R=(0,fe.t2)(t.column,this.getLanguageConfiguration(s.getLanguageId(a)).getWordDefinition(),i.substring(f,L),f);if(R&&R.startColumn<=e.column&&e.column<=R.endColumn)return R;if(a>0&&f===t.column-1){const[Y,ce]=fs._findLanguageBoundaries(s,a-1),me=(0,fe.t2)(t.column,this.getLanguageConfiguration(s.getLanguageId(a-1)).getWordDefinition(),i.substring(Y,ce),Y);if(me&&me.startColumn<=e.column&&e.column<=me.endColumn)return me}return null}getLanguageConfiguration(e){return this._languageConfigurationService.getLanguageConfiguration(e)}static _findLanguageBoundaries(e,t){const i=e.getLanguageId(t);let s=0;for(let f=t;f>=0&&e.getLanguageId(f)===i;f--)s=e.getStartOffset(f);let a=e.getLineContent().length;for(let f=t,L=e.getCount();f<L&&e.getLanguageId(f)===i;f++)a=e.getEndOffset(f);return[s,a]}getWordUntilPosition(e){const t=this.getWordAtPosition(e);return t?{word:t.word.substr(0,e.column-t.startColumn),startColumn:t.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(e,t){const i=this._textModel.validatePosition(new y.L(e,t)),s=this.getLineTokens(i.lineNumber);return s.getLanguageId(s.findTokenIndexAtOffset(i.column-1))}setLanguageId(e,t="api"){if(this._languageId===e)return;const i={oldLanguage:this._languageId,newLanguage:e,source:t};this._languageId=e,this._bracketPairsTextModelPart.handleDidChangeLanguage(i),this._tokens.resetTokenization(),this.createPreferredTokenProvider(),this._onDidChangeLanguage.fire(i),this._onDidChangeLanguageConfiguration.fire({})}};ws=fs=gi([xs(4,ue.O),xs(5,H),xs(6,Qt.ITreeSitterParserService)],ws);class Fs extends Ls{constructor(e,t,i,s){super(e,t,i),this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new K.XK),this._tokens=new ti(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new K.XK),this._attachedViewStates=this._register(new K.b2),this._register(yt.RW.onDidChange(a=>{const f=this.getLanguageId();a.changedLanguages.indexOf(f)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(s.onDidChangeVisibleRanges(({view:a,state:f})=>{if(f){let L=this._attachedViewStates.get(a);L||(L=new Ps(()=>this.refreshRanges(L.lineRanges)),this._attachedViewStates.set(a,L)),L.handleStateChange(f)}else this._attachedViewStates.deleteAndDispose(a)}))}resetTokenization(e=!0){var a;this._tokens.flush(),(a=this._debugBackgroundTokens)==null||a.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new ui(this._textModel.getLineCount())),e&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const t=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const f=yt.RW.get(this.getLanguageId());if(!f)return[null,null];let L;try{L=f.getInitialState()}catch(R){return(0,z.dL)(R),[null,null]}return[f,L]},[i,s]=t();if(i&&s?this._tokenizer=new dn(this._textModel.getLineCount(),i,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const f={setTokens:L=>{this.setTokens(L)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const L=2;this._backgroundTokenizationState=L,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(L,R)=>{var ce;if(!this._tokenizer)return;const Y=this._tokenizer.store.getFirstInvalidEndStateLineNumber();Y!==null&&L>=Y&&((ce=this._tokenizer)==null||ce.store.setEndState(L,R))}};i&&i.createBackgroundTokenizer&&!i.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,f)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Rs(this._tokenizer,f),this._defaultBackgroundTokenizer.handleChanges()),i!=null&&i.backgroundTokenizerShouldOnlyVerifyTokens&&i.createBackgroundTokenizer?(this._debugBackgroundTokens=new ti(this._languageIdCodec),this._debugBackgroundStates=new ui(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=i.createBackgroundTokenizer(this._textModel,{setTokens:L=>{var R;(R=this._debugBackgroundTokens)==null||R.setMultilineTokens(L,this._textModel)},backgroundTokenizationFinished(){},setEndState:(L,R)=>{var Y;(Y=this._debugBackgroundStates)==null||Y.setEndState(L,R)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var e;(e=this._defaultBackgroundTokenizer)==null||e.handleChanges()}handleDidChangeContent(e){var t,i,s;if(e.isFlush)this.resetTokenization(!1);else if(!e.isEolChange){for(const a of e.changes){const[f,L]=(0,B.Q)(a.text);this._tokens.acceptEdit(a.range,f,L),(t=this._debugBackgroundTokens)==null||t.acceptEdit(a.range,f,L)}(i=this._debugBackgroundStates)==null||i.acceptChanges(e.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(e.changes),(s=this._defaultBackgroundTokenizer)==null||s.handleChanges()}}setTokens(e){const{changes:t}=this._tokens.setMultilineTokens(e,this._textModel);return t.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:t}),{changes:t}}refreshAllVisibleLineTokens(){const e=dt.z.joinMany([...this._attachedViewStates].map(([t,i])=>i.lineRanges));this.refreshRanges(e)}refreshRanges(e){for(const t of e)this.refreshRange(t.startLineNumber,t.endLineNumberExclusive-1)}refreshRange(e,t){var f,L;if(!this._tokenizer)return;e=Math.max(1,Math.min(this._textModel.getLineCount(),e)),t=Math.min(this._textModel.getLineCount(),t);const i=new it,{heuristicTokens:s}=this._tokenizer.tokenizeHeuristically(i,e,t),a=this.setTokens(i.finalize());if(s)for(const R of a.changes)(f=this._backgroundTokenizer.value)==null||f.requestTokens(R.fromLineNumber,R.toLineNumber+1);(L=this._defaultBackgroundTokenizer)==null||L.checkFinished()}forceTokenization(e){var i,s;const t=new it;(i=this._tokenizer)==null||i.updateTokensUntilLine(t,e),this.setTokens(t.finalize()),(s=this._defaultBackgroundTokenizer)==null||s.checkFinished()}hasAccurateTokensForLine(e){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(e):!0}isCheapToTokenize(e){return this._tokenizer?this._tokenizer.isCheapToTokenize(e):!0}getLineTokens(e){var s;const t=this._textModel.getLineContent(e),i=this._tokens.getTokens(this._textModel.getLanguageId(),e-1,t);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>e&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>e){const a=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),e-1,t);!i.equals(a)&&((s=this._debugBackgroundTokenizer.value)!=null&&s.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(e)}return i}getTokenTypeIfInsertingCharacter(e,t,i){if(!this._tokenizer)return 0;const s=this._textModel.validatePosition(new y.L(e,t));return this.forceTokenization(s.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(s,i)}tokenizeLineWithEdit(e,t,i){if(!this._tokenizer)return null;const s=this._textModel.validatePosition(e);return this.forceTokenization(s.lineNumber),this._tokenizer.tokenizeLineWithEdit(s,t,i)}get hasTokens(){return this._tokens.hasTokens}}class Xs{constructor(){this.changeType=1}}class Qr{static applyInjectedText(e,t){if(!t||t.length===0)return e;let i="",s=0;for(const a of t)i+=e.substring(s,a.column-1),s=a.column-1,i+=a.options.content;return i+=e.substring(s),i}static fromDecorations(e){const t=[];for(const i of e)i.options.before&&i.options.before.content.length>0&&t.push(new Qr(i.ownerId,i.range.startLineNumber,i.range.startColumn,i.options.before,0)),i.options.after&&i.options.after.content.length>0&&t.push(new Qr(i.ownerId,i.range.endLineNumber,i.range.endColumn,i.options.after,1));return t.sort((i,s)=>i.lineNumber===s.lineNumber?i.column===s.column?i.order-s.order:i.column-s.column:i.lineNumber-s.lineNumber),t}constructor(e,t,i,s,a){this.ownerId=e,this.lineNumber=t,this.column=i,this.options=s,this.order=a}}class Vs{constructor(e,t,i){this.changeType=2,this.lineNumber=e,this.detail=t,this.injectedText=i}}class Zs{constructor(e,t){this.changeType=3,this.fromLineNumber=e,this.toLineNumber=t}}class Ys{constructor(e,t,i,s){this.changeType=4,this.injectedTexts=s,this.fromLineNumber=e,this.toLineNumber=t,this.detail=i}}class eo{constructor(){this.changeType=5}}class Mr{constructor(e,t,i,s){this.changes=e,this.versionId=t,this.isUndoing=i,this.isRedoing=s,this.resultingSelection=null}containsEvent(e){for(let t=0,i=this.changes.length;t<i;t++)if(this.changes[t].changeType===e)return!0;return!1}static merge(e,t){const i=[].concat(e.changes).concat(t.changes),s=t.versionId,a=e.isUndoing||t.isUndoing,f=e.isRedoing||t.isRedoing;return new Mr(i,s,a,f)}}class to{constructor(e){this.changes=e}}class ds{constructor(e,t){this.rawContentChangedEvent=e,this.contentChangedEvent=t}merge(e){const t=Mr.merge(this.rawContentChangedEvent,e.rawContentChangedEvent),i=ds._mergeChangeEvents(this.contentChangedEvent,e.contentChangedEvent);return new ds(t,i)}static _mergeChangeEvents(e,t){const i=[].concat(e.changes).concat(t.changes),s=t.eol,a=t.versionId,f=e.isUndoing||t.isUndoing,L=e.isRedoing||t.isRedoing,R=e.isFlush||t.isFlush,Y=e.isEolChange&&t.isEolChange;return{changes:i,eol:s,isEolChange:Y,versionId:a,isUndoing:f,isRedoing:L,isFlush:R}}}const Us=(0,F.yh)("undoRedoService");class Ao{constructor(e,t){this.resource=e,this.elements=t}}const Fr=class Fr{constructor(){this.id=Fr._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Fr._ID=0,Fr.None=new Fr;let zs=Fr;const Vr=class Vr{constructor(){this.id=Vr._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}};Vr._ID=0,Vr.None=new Vr;let Ws=Vr;var no=function(p,e,t,i){var s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,e,t,i);else for(var L=p.length-1;L>=0;L--)(f=p[L])&&(a=(s<3?f(a):s>3?f(e,t,a):f(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},gs=function(p,e){return function(t,i){e(t,i,p)}},_r;function io(p){const e=new et;return e.acceptChunk(p),e.finish()}function ro(p){const e=new et;let t;for(;typeof(t=p.read())=="string";)e.acceptChunk(t);return e.finish()}function js(p,e){let t;return typeof p=="string"?t=io(p):Tn.Hf(p)?t=ro(p):t=p,t.create(e)}let ms=0;const so=999,oo=1e4;class ao{constructor(e){this._source=e,this._eos=!1}read(){if(this._eos)return null;const e=[];let t=0,i=0;do{const s=this._source.read();if(s===null)return this._eos=!0,t===0?null:e.join("");if(s.length>0&&(e[t++]=s,i+=s.length),i>=65536)return e.join("")}while(!0)}}const Kr=()=>{throw new Error("Invalid change accessor")};let Ss=(Pi=class extends K.JT{static resolveOptions(e,t){if(t.detectIndentation){const i=Nr(e,t.tabSize,t.insertSpaces);return new Tn.dJ({tabSize:i.tabSize,indentSize:"tabSize",insertSpaces:i.insertSpaces,trimAutoWhitespace:t.trimAutoWhitespace,defaultEOL:t.defaultEOL,bracketPairColorizationOptions:t.bracketPairColorizationOptions})}return new Tn.dJ(t)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(e){return this._eventEmitter.slowEvent(t=>e(t.contentChangedEvent))}onDidChangeContentOrInjectedText(e){return(0,K.F8)(this._eventEmitter.fastEvent(t=>e(t)),this._onDidChangeInjectedText.event(t=>e(t)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(e,t,i,s=null,a,f,L,R){super(),this._undoRedoService=a,this._languageService=f,this._languageConfigurationService=L,this.instantiationService=R,this._onWillDispose=this._register(new O.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new go(ze=>this.handleBeforeFireDecorationsChangedEvent(ze))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new O.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new O.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new O.Q5),this._eventEmitter=this._register(new mo),this._languageSelectionListener=this._register(new K.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new Ms,ms++,this.id="$model"+ms,this.isForSimpleWidget=i.isForSimpleWidget,typeof s=="undefined"||s===null?this._associatedResource=_.o.parse("inmemory://model/"+ms):this._associatedResource=s,this._attachedEditorCount=0;const{textBuffer:Y,disposable:ce}=js(e,i.defaultEOL);this._buffer=Y,this._bufferDisposable=ce,this._options=_r.resolveOptions(this._buffer,i);const me=typeof t=="string"?t:t.languageId;typeof t!="string"&&(this._languageSelectionListener.value=t.onDidChange(()=>this._setLanguage(t.languageId))),this._bracketPairs=this._register(new on(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Mn(this,this._languageConfigurationService)),this._decorationProvider=this._register(new wr(this)),this._tokenizationTextModelPart=this.instantiationService.createInstance(ws,this,this._bracketPairs,me,this._attachedViews);const Ce=this._buffer.getLineCount(),Re=this._buffer.getValueLengthInRange(new k.e(1,1,Ce,this._buffer.getLineLength(Ce)+1),0);i.largeFileOptimizations?(this._isTooLargeForTokenization=Re>_r.LARGE_FILE_SIZE_THRESHOLD||Ce>_r.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=Re>_r.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=Re>_r._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=b.PJ(ms),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Hs,this._commandManager=new hr(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(me),this._register(this._languageConfigurationService.onDidChange(ze=>{this._bracketPairs.handleLanguageConfigurationServiceChange(ze),this._tokenizationTextModelPart.handleLanguageConfigurationServiceChange(ze)}))}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const e=new Ve([],"",`
`,!1,!1,!0,!0);e.dispose(),this._buffer=e,this._bufferDisposable=K.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new z.he("Model is disposed!")}_emitContentChangedEvent(e,t){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(t),this._bracketPairs.handleDidChangeContent(t),this._eventEmitter.fire(new ds(e,t)))}setValue(e){if(this._assertNotDisposed(),e==null)throw(0,z.b1)();const{textBuffer:t,disposable:i}=js(e,this._options.defaultEOL);this._setValueFromTextBuffer(t,i)}_createContentChanged2(e,t,i,s,a,f,L,R){return{changes:[{range:e,rangeOffset:t,rangeLength:i,text:s}],eol:this._buffer.getEOL(),isEolChange:R,versionId:this.getVersionId(),isUndoing:a,isRedoing:f,isFlush:L}}_setValueFromTextBuffer(e,t){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueLengthInRange(i),a=this.getLineCount(),f=this.getLineMaxColumn(a);this._buffer=e,this._bufferDisposable.dispose(),this._bufferDisposable=t,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new Hs,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Mr([new Xs],this._versionId,!1,!1),this._createContentChanged2(new k.e(1,1,a,f),0,s,this.getValue(),!1,!1,!0,!1))}setEOL(e){this._assertNotDisposed();const t=e===1?`\r
`:`
`;if(this._buffer.getEOL()===t)return;const i=this.getFullModelRange(),s=this.getValueLengthInRange(i),a=this.getLineCount(),f=this.getLineMaxColumn(a);this._onBeforeEOLChange(),this._buffer.setEOL(t),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Mr([new eo],this._versionId,!1,!1),this._createContentChanged2(new k.e(1,1,a,f),0,s,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const e=this.getVersionId(),t=this._decorationsTree.collectNodesPostOrder();for(let i=0,s=t.length;i<s;i++){const a=t[i],f=a.range,L=a.cachedAbsoluteStart-a.start,R=this._buffer.getOffsetAt(f.startLineNumber,f.startColumn),Y=this._buffer.getOffsetAt(f.endLineNumber,f.endColumn);a.cachedAbsoluteStart=R,a.cachedAbsoluteEnd=Y,a.cachedVersionId=e,a.start=R-L,a.end=Y-L,Mi(a)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(e){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(e)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let e=0,t=0;const i=this._buffer.getLineCount();for(let s=1;s<=i;s++){const a=this._buffer.getLineLength(s);a>=oo?t+=a:e+=a}return t>e}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(e){this._assertNotDisposed();const t=typeof e.tabSize!="undefined"?e.tabSize:this._options.tabSize,i=typeof e.indentSize!="undefined"?e.indentSize:this._options.originalIndentSize,s=typeof e.insertSpaces!="undefined"?e.insertSpaces:this._options.insertSpaces,a=typeof e.trimAutoWhitespace!="undefined"?e.trimAutoWhitespace:this._options.trimAutoWhitespace,f=typeof e.bracketColorizationOptions!="undefined"?e.bracketColorizationOptions:this._options.bracketPairColorizationOptions,L=new Tn.dJ({tabSize:t,indentSize:i,insertSpaces:s,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:a,bracketPairColorizationOptions:f});if(this._options.equals(L))return;const R=this._options.createChangeEvent(L);this._options=L,this._bracketPairs.handleDidChangeOptions(R),this._decorationProvider.handleDidChangeOptions(R),this._onDidChangeOptions.fire(R)}detectIndentation(e,t){this._assertNotDisposed();const i=Nr(this._buffer,t,e);this.updateOptions({insertSpaces:i.insertSpaces,tabSize:i.tabSize,indentSize:i.tabSize})}normalizeIndentation(e){return this._assertNotDisposed(),Z(e,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(e=null){const t=this.findMatches(b.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(e,t.map(i=>({range:i.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(e){this._assertNotDisposed();const t=this._validatePosition(e.lineNumber,e.column,0);return this._buffer.getOffsetAt(t.lineNumber,t.column)}getPositionAt(e){this._assertNotDisposed();const t=Math.min(this._buffer.getLength(),Math.max(0,e));return this._buffer.getPositionAt(t)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(e){this._versionId=e}_overwriteAlternativeVersionId(e){this._alternativeVersionId=e}_overwriteInitialUndoRedoSnapshot(e){this._initialUndoRedoSnapshot=e}getValue(e,t=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new z.he("Operation would exceed heap memory limits");const i=this.getFullModelRange(),s=this.getValueInRange(i,e);return t?this._buffer.getBOM()+s:s}createSnapshot(e=!1){return new ao(this._buffer.createSnapshot(e))}getValueLength(e,t=!1){this._assertNotDisposed();const i=this.getFullModelRange(),s=this.getValueLengthInRange(i,e);return t?this._buffer.getBOM().length+s:s}getValueInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(e),t)}getValueLengthInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(e),t)}getCharacterCountInRange(e,t=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(e),t)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new z.he("Illegal value for lineNumber");return this._buffer.getLineContent(e)}getLineLength(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new z.he("Illegal value for lineNumber");return this._buffer.getLineLength(e)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new z.he("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(e){return this._assertNotDisposed(),1}getLineMaxColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new z.he("Illegal value for lineNumber");return this._buffer.getLineLength(e)+1}getLineFirstNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new z.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(e)}getLineLastNonWhitespaceColumn(e){if(this._assertNotDisposed(),e<1||e>this.getLineCount())throw new z.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(e)}_validateRangeRelaxedNoAllocations(e){const t=this._buffer.getLineCount(),i=e.startLineNumber,s=e.startColumn;let a=Math.floor(typeof i=="number"&&!isNaN(i)?i:1),f=Math.floor(typeof s=="number"&&!isNaN(s)?s:1);if(a<1)a=1,f=1;else if(a>t)a=t,f=this.getLineMaxColumn(a);else if(f<=1)f=1;else{const me=this.getLineMaxColumn(a);f>=me&&(f=me)}const L=e.endLineNumber,R=e.endColumn;let Y=Math.floor(typeof L=="number"&&!isNaN(L)?L:1),ce=Math.floor(typeof R=="number"&&!isNaN(R)?R:1);if(Y<1)Y=1,ce=1;else if(Y>t)Y=t,ce=this.getLineMaxColumn(Y);else if(ce<=1)ce=1;else{const me=this.getLineMaxColumn(Y);ce>=me&&(ce=me)}return i===a&&s===f&&L===Y&&R===ce&&e instanceof k.e&&!(e instanceof x.Y)?e:new k.e(a,f,Y,ce)}_isValidPosition(e,t,i){if(typeof e!="number"||typeof t!="number"||isNaN(e)||isNaN(t)||e<1||t<1||(e|0)!==e||(t|0)!==t)return!1;const s=this._buffer.getLineCount();if(e>s)return!1;if(t===1)return!0;const a=this.getLineMaxColumn(e);if(t>a)return!1;if(i===1){const f=this._buffer.getLineCharCode(e,t-2);if(b.ZG(f))return!1}return!0}_validatePosition(e,t,i){const s=Math.floor(typeof e=="number"&&!isNaN(e)?e:1),a=Math.floor(typeof t=="number"&&!isNaN(t)?t:1),f=this._buffer.getLineCount();if(s<1)return new y.L(1,1);if(s>f)return new y.L(f,this.getLineMaxColumn(f));if(a<=1)return new y.L(s,1);const L=this.getLineMaxColumn(s);if(a>=L)return new y.L(s,L);if(i===1){const R=this._buffer.getLineCharCode(s,a-2);if(b.ZG(R))return new y.L(s,a-1)}return new y.L(s,a)}validatePosition(e){return this._assertNotDisposed(),e instanceof y.L&&this._isValidPosition(e.lineNumber,e.column,1)?e:this._validatePosition(e.lineNumber,e.column,1)}_isValidRange(e,t){const i=e.startLineNumber,s=e.startColumn,a=e.endLineNumber,f=e.endColumn;if(!this._isValidPosition(i,s,0)||!this._isValidPosition(a,f,0))return!1;if(t===1){const L=s>1?this._buffer.getLineCharCode(i,s-2):0,R=f>1&&f<=this._buffer.getLineLength(a)?this._buffer.getLineCharCode(a,f-2):0,Y=b.ZG(L),ce=b.ZG(R);return!Y&&!ce}return!0}validateRange(e){if(this._assertNotDisposed(),e instanceof k.e&&!(e instanceof x.Y)&&this._isValidRange(e,1))return e;const i=this._validatePosition(e.startLineNumber,e.startColumn,0),s=this._validatePosition(e.endLineNumber,e.endColumn,0),a=i.lineNumber,f=i.column,L=s.lineNumber,R=s.column;{const Y=f>1?this._buffer.getLineCharCode(a,f-2):0,ce=R>1&&R<=this._buffer.getLineLength(L)?this._buffer.getLineCharCode(L,R-2):0,me=b.ZG(Y),Ce=b.ZG(ce);return!me&&!Ce?new k.e(a,f,L,R):a===L&&f===R?new k.e(a,f-1,L,R-1):me&&Ce?new k.e(a,f-1,L,R+1):me?new k.e(a,f-1,L,R):new k.e(a,f,L,R+1)}return new k.e(a,f,L,R)}modifyPosition(e,t){this._assertNotDisposed();const i=this.getOffsetAt(e)+t;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,i)))}getFullModelRange(){this._assertNotDisposed();const e=this.getLineCount();return new k.e(1,1,e,this.getLineMaxColumn(e))}findMatchesLineByLine(e,t,i,s){return this._buffer.findMatchesLineByLine(e,t,i,s)}findMatches(e,t,i,s,a,f,L=so){this._assertNotDisposed();let R=null;t!==null&&(Array.isArray(t)||(t=[t]),t.every(me=>k.e.isIRange(me))&&(R=t.map(me=>this.validateRange(me)))),R===null&&(R=[this.getFullModelRange()]),R=R.sort((me,Ce)=>me.startLineNumber-Ce.startLineNumber||me.startColumn-Ce.startColumn);const Y=[];Y.push(R.reduce((me,Ce)=>k.e.areIntersecting(me,Ce)?me.plusRange(Ce):(Y.push(me),Ce)));let ce;if(!i&&e.indexOf(`
`)<0){const Ce=new c.bc(e,i,s,a).parseSearchRequest();if(!Ce)return[];ce=Re=>this.findMatchesLineByLine(Re,Ce,f,L)}else ce=me=>c.pM.findMatches(this,new c.bc(e,i,s,a),me,f,L);return Y.map(ce).reduce((me,Ce)=>me.concat(Ce),[])}findNextMatch(e,t,i,s,a,f){this._assertNotDisposed();const L=this.validatePosition(t);if(!i&&e.indexOf(`
`)<0){const Y=new c.bc(e,i,s,a).parseSearchRequest();if(!Y)return null;const ce=this.getLineCount();let me=new k.e(L.lineNumber,L.column,ce,this.getLineMaxColumn(ce)),Ce=this.findMatchesLineByLine(me,Y,f,1);return c.pM.findNextMatch(this,new c.bc(e,i,s,a),L,f),Ce.length>0||(me=new k.e(1,1,L.lineNumber,this.getLineMaxColumn(L.lineNumber)),Ce=this.findMatchesLineByLine(me,Y,f,1),Ce.length>0)?Ce[0]:null}return c.pM.findNextMatch(this,new c.bc(e,i,s,a),L,f)}findPreviousMatch(e,t,i,s,a,f){this._assertNotDisposed();const L=this.validatePosition(t);return c.pM.findPreviousMatch(this,new c.bc(e,i,s,a),L,f)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(e){if((this.getEOL()===`
`?0:1)!==e)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(e)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(e){return e instanceof Tn.Qi?e:new Tn.Qi(e.identifier||null,this.validateRange(e.range),e.text,e.forceMoveMarkers||!1,e.isAutoWhitespaceEdit||!1,e._isTracked||!1)}_validateEditOperations(e){const t=[];for(let i=0,s=e.length;i<s;i++)t[i]=this._validateEditOperation(e[i]);return t}pushEditOperations(e,t,i,s){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(e,this._validateEditOperations(t),i,s)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(e,t,i,s){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const a=t.map(L=>({range:this.validateRange(L.range),text:L.text}));let f=!0;if(e)for(let L=0,R=e.length;L<R;L++){const Y=e[L];let ce=!1;for(let me=0,Ce=a.length;me<Ce;me++){const Re=a[me].range,ze=Re.startLineNumber>Y.endLineNumber,Xe=Y.startLineNumber>Re.endLineNumber;if(!ze&&!Xe){ce=!0;break}}if(!ce){f=!1;break}}if(f)for(let L=0,R=this._trimAutoWhitespaceLines.length;L<R;L++){const Y=this._trimAutoWhitespaceLines[L],ce=this.getLineMaxColumn(Y);let me=!0;for(let Ce=0,Re=a.length;Ce<Re;Ce++){const ze=a[Ce].range,Xe=a[Ce].text;if(!(Y<ze.startLineNumber||Y>ze.endLineNumber)&&!(Y===ze.startLineNumber&&ze.startColumn===ce&&ze.isEmpty()&&Xe&&Xe.length>0&&Xe.charAt(0)===`
`)&&!(Y===ze.startLineNumber&&ze.startColumn===1&&ze.isEmpty()&&Xe&&Xe.length>0&&Xe.charAt(Xe.length-1)===`
`)){me=!1;break}}if(me){const Ce=new k.e(Y,1,Y,ce);t.push(new Tn.Qi(null,Ce,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(e,t,i,s)}_applyUndo(e,t,i,s){const a=e.map(f=>{const L=this.getPositionAt(f.newPosition),R=this.getPositionAt(f.newEnd);return{range:new k.e(L.lineNumber,L.column,R.lineNumber,R.column),text:f.oldText}});this._applyUndoRedoEdits(a,t,!0,!1,i,s)}_applyRedo(e,t,i,s){const a=e.map(f=>{const L=this.getPositionAt(f.oldPosition),R=this.getPositionAt(f.oldEnd);return{range:new k.e(L.lineNumber,L.column,R.lineNumber,R.column),text:f.newText}});this._applyUndoRedoEdits(a,t,!1,!0,i,s)}_applyUndoRedoEdits(e,t,i,s,a,f){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=i,this._isRedoing=s,this.applyEdits(e,!1),this.setEOL(t),this._overwriteAlternativeVersionId(a)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(f),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(e,t=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const i=this._validateEditOperations(e);return this._doApplyEdits(i,t)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(e,t){const i=this._buffer.getLineCount(),s=this._buffer.applyEdits(e,this._options.trimAutoWhitespace,t),a=this._buffer.getLineCount(),f=s.changes;if(this._trimAutoWhitespaceLines=s.trimAutoWhitespaceLineNumbers,f.length!==0){for(let Y=0,ce=f.length;Y<ce;Y++){const me=f[Y];this._decorationsTree.acceptReplace(me.rangeOffset,me.rangeLength,me.text.length,me.forceMoveMarkers)}const L=[];this._increaseVersionId();let R=i;for(let Y=0,ce=f.length;Y<ce;Y++){const me=f[Y],[Ce]=(0,B.Q)(me.text);this._onDidChangeDecorations.fire();const Re=me.range.startLineNumber,ze=me.range.endLineNumber,Xe=ze-Re,nt=Ce,wt=Math.min(Xe,nt),Bt=nt-Xe,Jt=a-R-Bt+Re,an=Jt,Sn=Jt+nt,Vn=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new y.L(an,1)),this.getOffsetAt(new y.L(Sn,this.getLineMaxColumn(Sn))),0),yn=Qr.fromDecorations(Vn),bn=new U.H9(yn);for(let Cn=wt;Cn>=0;Cn--){const mi=Re+Cn,Yn=Jt+Cn;bn.takeFromEndWhile(Ur=>Ur.lineNumber>Yn);const Fi=bn.takeFromEndWhile(Ur=>Ur.lineNumber===Yn);L.push(new Vs(mi,this.getLineContent(Yn),Fi))}if(wt<Xe){const Cn=Re+wt;L.push(new Zs(Cn+1,ze))}if(wt<nt){const Cn=new U.H9(yn),mi=Re+wt,Yn=nt-wt,Fi=a-R-Yn+mi+1,Ur=[],Js=[];for(let Zr=0;Zr<Yn;Zr++){const Is=Fi+Zr;Js[Zr]=this.getLineContent(Is),Cn.takeWhile(As=>As.lineNumber<Is),Ur[Zr]=Cn.takeWhile(As=>As.lineNumber===Is)}L.push(new Ys(mi+1,Re+nt,Js,Ur))}R+=Bt}this._emitContentChangedEvent(new Mr(L,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:f,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return s.reverseEdits===null?void 0:s.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(e){if(e===null||e.size===0)return;const i=Array.from(e).map(s=>new Vs(s,this.getLineContent(s),this._getInjectedTextInLine(s)));this._onDidChangeInjectedText.fire(new to(i))}changeDecorations(e,t=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(t,e)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(e,t){const i={addDecoration:(a,f)=>this._deltaDecorationsImpl(e,[],[{range:a,options:f}])[0],changeDecoration:(a,f)=>{this._changeDecorationImpl(a,f)},changeDecorationOptions:(a,f)=>{this._changeDecorationOptionsImpl(a,qs(f))},removeDecoration:a=>{this._deltaDecorationsImpl(e,[a],[])},deltaDecorations:(a,f)=>a.length===0&&f.length===0?[]:this._deltaDecorationsImpl(e,a,f)};let s=null;try{s=t(i)}catch(a){(0,z.dL)(a)}return i.addDecoration=Kr,i.changeDecoration=Kr,i.changeDecorationOptions=Kr,i.removeDecoration=Kr,i.deltaDecorations=Kr,s}deltaDecorations(e,t,i=0){if(this._assertNotDisposed(),e||(e=[]),e.length===0&&t.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,z.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(i,e,t)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(e){return this.getDecorationRange(e)}_setTrackedRange(e,t,i){const s=e?this._decorations[e]:null;if(!s)return t?this._deltaDecorationsImpl(0,[],[{range:t,options:Gs[i]}],!0)[0]:null;if(!t)return this._decorationsTree.delete(s),delete this._decorations[s.id],null;const a=this._validateRangeRelaxedNoAllocations(t),f=this._buffer.getOffsetAt(a.startLineNumber,a.startColumn),L=this._buffer.getOffsetAt(a.endLineNumber,a.endColumn);return this._decorationsTree.delete(s),s.reset(this.getVersionId(),f,L,a),s.setOptions(Gs[i]),this._decorationsTree.insert(s),s.id}removeAllDecorationsWithOwnerId(e){if(this._isDisposed)return;const t=this._decorationsTree.collectNodesFromOwner(e);for(let i=0,s=t.length;i<s;i++){const a=t[i];this._decorationsTree.delete(a),delete this._decorations[a.id]}}getDecorationOptions(e){const t=this._decorations[e];return t?t.options:null}getDecorationRange(e){const t=this._decorations[e];return t?this._decorationsTree.getNodeRange(this,t):null}getLineDecorations(e,t=0,i=!1){return e<1||e>this.getLineCount()?[]:this.getLinesDecorations(e,e,t,i)}getLinesDecorations(e,t,i=0,s=!1,a=!1){const f=this.getLineCount(),L=Math.min(f,Math.max(1,e)),R=Math.min(f,Math.max(1,t)),Y=this.getLineMaxColumn(R),ce=new k.e(L,1,R,Y),me=this._getDecorationsInRange(ce,i,s,a);return(0,U.vA)(me,this._decorationProvider.getDecorationsInRange(ce,i,s)),me}getDecorationsInRange(e,t=0,i=!1,s=!1,a=!1){const f=this.validateRange(e),L=this._getDecorationsInRange(f,t,i,a);return(0,U.vA)(L,this._decorationProvider.getDecorationsInRange(f,t,i,s)),L}getOverviewRulerDecorations(e=0,t=!1){return this._decorationsTree.getAll(this,e,t,!0,!1)}getInjectedTextDecorations(e=0){return this._decorationsTree.getAllInjectedText(this,e)}_getInjectedTextInLine(e){const t=this._buffer.getOffsetAt(e,1),i=t+this._buffer.getLineLength(e),s=this._decorationsTree.getInjectedTextInInterval(this,t,i,0);return Qr.fromDecorations(s).filter(a=>a.lineNumber===e)}getAllDecorations(e=0,t=!1){let i=this._decorationsTree.getAll(this,e,t,!1,!1);return i=i.concat(this._decorationProvider.getAllDecorations(e,t)),i}getAllMarginDecorations(e=0){return this._decorationsTree.getAll(this,e,!1,!1,!0)}_getDecorationsInRange(e,t,i,s){const a=this._buffer.getOffsetAt(e.startLineNumber,e.startColumn),f=this._buffer.getOffsetAt(e.endLineNumber,e.endColumn);return this._decorationsTree.getAllInInterval(this,a,f,t,i,s)}getRangeAt(e,t){return this._buffer.getRangeAt(e,t-e)}_changeDecorationImpl(e,t){const i=this._decorations[e];if(!i)return;if(i.options.after){const L=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(L.endLineNumber)}if(i.options.before){const L=this.getDecorationRange(e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(L.startLineNumber)}const s=this._validateRangeRelaxedNoAllocations(t),a=this._buffer.getOffsetAt(s.startLineNumber,s.startColumn),f=this._buffer.getOffsetAt(s.endLineNumber,s.endColumn);this._decorationsTree.delete(i),i.reset(this.getVersionId(),a,f,s),this._decorationsTree.insert(i),this._onDidChangeDecorations.checkAffectedAndFire(i.options),i.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.endLineNumber),i.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(s.startLineNumber)}_changeDecorationOptionsImpl(e,t){const i=this._decorations[e];if(!i)return;const s=!!(i.options.overviewRuler&&i.options.overviewRuler.color),a=!!(t.overviewRuler&&t.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(i.options),this._onDidChangeDecorations.checkAffectedAndFire(t),i.options.after||t.after){const R=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(R.endLineNumber)}if(i.options.before||t.before){const R=this._decorationsTree.getNodeRange(this,i);this._onDidChangeDecorations.recordLineAffectedByInjectedText(R.startLineNumber)}const f=s!==a,L=uo(t)!==ps(i);f||L?(this._decorationsTree.delete(i),i.setOptions(t),this._decorationsTree.insert(i)):i.setOptions(t)}_deltaDecorationsImpl(e,t,i,s=!1){const a=this.getVersionId(),f=t.length;let L=0;const R=i.length;let Y=0;this._onDidChangeDecorations.beginDeferredEmit();try{const ce=new Array(R);for(;L<f||Y<R;){let me=null;if(L<f){do me=this._decorations[t[L++]];while(!me&&L<f);if(me){if(me.options.after){const Ce=this._decorationsTree.getNodeRange(this,me);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.endLineNumber)}if(me.options.before){const Ce=this._decorationsTree.getNodeRange(this,me);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ce.startLineNumber)}this._decorationsTree.delete(me),s||this._onDidChangeDecorations.checkAffectedAndFire(me.options)}}if(Y<R){if(!me){const wt=++this._lastDecorationId,Bt=`${this._instanceId};${wt}`;me=new Qi(Bt,0,0),this._decorations[Bt]=me}const Ce=i[Y],Re=this._validateRangeRelaxedNoAllocations(Ce.range),ze=qs(Ce.options),Xe=this._buffer.getOffsetAt(Re.startLineNumber,Re.startColumn),nt=this._buffer.getOffsetAt(Re.endLineNumber,Re.endColumn);me.ownerId=e,me.reset(a,Xe,nt,Re),me.setOptions(ze),me.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Re.endLineNumber),me.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Re.startLineNumber),s||this._onDidChangeDecorations.checkAffectedAndFire(ze),this._decorationsTree.insert(me),ce[Y]=me.id,Y++}else me&&delete this._decorations[me.id]}return ce}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(e,t){typeof e=="string"?(this._languageSelectionListener.clear(),this._setLanguage(e,t)):(this._languageSelectionListener.value=e.onDidChange(()=>this._setLanguage(e.languageId,t)),this._setLanguage(e.languageId,t))}_setLanguage(e,t){this.tokenization.setLanguageId(e,t),this._languageService.requestRichLanguageFeatures(e)}getLanguageIdAtPosition(e,t){return this.tokenization.getLanguageIdAtPosition(e,t)}getWordAtPosition(e){return this._tokenizationTextModelPart.getWordAtPosition(e)}getWordUntilPosition(e){return this._tokenizationTextModelPart.getWordUntilPosition(e)}normalizePosition(e,t){return e}getLineIndentColumn(e){return lo(this.getLineContent(e))+1}},_r=Pi,Pi._MODEL_SYNC_LIMIT=50*1024*1024,Pi.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,Pi.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,Pi.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,Pi.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:g.tabSize,indentSize:g.indentSize,insertSpaces:g.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:g.trimAutoWhitespace,largeFileOptimizations:g.largeFileOptimizations,bracketPairColorizationOptions:g.bracketPairColorizationOptions},Pi);Ss=_r=no([gs(4,Us),gs(5,ue.O),gs(6,H),gs(7,F.TG)],Ss);function lo(p){let e=0;for(const t of p)if(t===" "||t==="	")e++;else break;return e}function Es(p){return!!(p.options.overviewRuler&&p.options.overviewRuler.color)}function uo(p){return!!p.after||!!p.before}function ps(p){return!!p.options.after||!!p.options.before}class Hs{constructor(){this._decorationsTree0=new ki,this._decorationsTree1=new ki,this._injectedTextDecorationsTree=new ki}ensureAllNodesHaveRanges(e){this.getAll(e,0,!1,!1,!1)}_ensureNodesHaveRanges(e,t){for(const i of t)i.range===null&&(i.range=e.getRangeAt(i.cachedAbsoluteStart,i.cachedAbsoluteEnd));return t}getAllInInterval(e,t,i,s,a,f){const L=e.getVersionId(),R=this._intervalSearch(t,i,s,a,L,f);return this._ensureNodesHaveRanges(e,R)}_intervalSearch(e,t,i,s,a,f){const L=this._decorationsTree0.intervalSearch(e,t,i,s,a,f),R=this._decorationsTree1.intervalSearch(e,t,i,s,a,f),Y=this._injectedTextDecorationsTree.intervalSearch(e,t,i,s,a,f);return L.concat(R).concat(Y)}getInjectedTextInInterval(e,t,i,s){const a=e.getVersionId(),f=this._injectedTextDecorationsTree.intervalSearch(t,i,s,!1,a,!1);return this._ensureNodesHaveRanges(e,f).filter(L=>L.options.showIfCollapsed||!L.range.isEmpty())}getAllInjectedText(e,t){const i=e.getVersionId(),s=this._injectedTextDecorationsTree.search(t,!1,i,!1);return this._ensureNodesHaveRanges(e,s).filter(a=>a.options.showIfCollapsed||!a.range.isEmpty())}getAll(e,t,i,s,a){const f=e.getVersionId(),L=this._search(t,i,s,f,a);return this._ensureNodesHaveRanges(e,L)}_search(e,t,i,s,a){if(i)return this._decorationsTree1.search(e,t,s,a);{const f=this._decorationsTree0.search(e,t,s,a),L=this._decorationsTree1.search(e,t,s,a),R=this._injectedTextDecorationsTree.search(e,t,s,a);return f.concat(L).concat(R)}}collectNodesFromOwner(e){const t=this._decorationsTree0.collectNodesFromOwner(e),i=this._decorationsTree1.collectNodesFromOwner(e),s=this._injectedTextDecorationsTree.collectNodesFromOwner(e);return t.concat(i).concat(s)}collectNodesPostOrder(){const e=this._decorationsTree0.collectNodesPostOrder(),t=this._decorationsTree1.collectNodesPostOrder(),i=this._injectedTextDecorationsTree.collectNodesPostOrder();return e.concat(t).concat(i)}insert(e){ps(e)?this._injectedTextDecorationsTree.insert(e):Es(e)?this._decorationsTree1.insert(e):this._decorationsTree0.insert(e)}delete(e){ps(e)?this._injectedTextDecorationsTree.delete(e):Es(e)?this._decorationsTree1.delete(e):this._decorationsTree0.delete(e)}getNodeRange(e,t){const i=e.getVersionId();return t.cachedVersionId!==i&&this._resolveNode(t,i),t.range===null&&(t.range=e.getRangeAt(t.cachedAbsoluteStart,t.cachedAbsoluteEnd)),t.range}_resolveNode(e,t){ps(e)?this._injectedTextDecorationsTree.resolveNode(e,t):Es(e)?this._decorationsTree1.resolveNode(e,t):this._decorationsTree0.resolveNode(e,t)}acceptReplace(e,t,i,s){this._decorationsTree0.acceptReplace(e,t,i,s),this._decorationsTree1.acceptReplace(e,t,i,s),this._injectedTextDecorationsTree.acceptReplace(e,t,i,s)}}function Gi(p){return p.replace(/[^a-z0-9\-_]/gi," ")}class $s{constructor(e){this.color=e.color||"",this.darkColor=e.darkColor||""}}class co extends $s{constructor(e){super(e),this._resolvedColor=null,this.position=typeof e.position=="number"?e.position:Tn.sh.Center}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(e,t){if(typeof e=="string")return e;const i=e?t.getColor(e.id):null;return i?i.toString():""}}class ho{constructor(e){var t;this.position=(t=e==null?void 0:e.position)!=null?t:Tn.U.Center,this.persistLane=e==null?void 0:e.persistLane}}class fo extends $s{constructor(e){var t,i;super(e),this.position=e.position,this.sectionHeaderStyle=(t=e.sectionHeaderStyle)!=null?t:null,this.sectionHeaderText=(i=e.sectionHeaderText)!=null?i:null}getColor(e){return this._resolvedColor||(e.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,e):this._resolvedColor=this._resolveColor(this.color,e)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(e,t){return typeof e=="string"?I.Il.fromHex(e):t.getColor(e.id)}}class Xr{static from(e){return e instanceof Xr?e:new Xr(e)}constructor(e){this.content=e.content||"",this.inlineClassName=e.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=e.attachedData||null,this.cursorStops=e.cursorStops||null}}class Oi{static register(e){return new Oi(e)}static createDynamic(e){return new Oi(e)}constructor(e){var t,i,s,a,f,L;this.description=e.description,this.blockClassName=e.blockClassName?Gi(e.blockClassName):null,this.blockDoesNotCollapse=(t=e.blockDoesNotCollapse)!=null?t:null,this.blockIsAfterEnd=(i=e.blockIsAfterEnd)!=null?i:null,this.blockPadding=(s=e.blockPadding)!=null?s:null,this.stickiness=e.stickiness||0,this.zIndex=e.zIndex||0,this.className=e.className?Gi(e.className):null,this.shouldFillLineOnLineBreak=(a=e.shouldFillLineOnLineBreak)!=null?a:null,this.hoverMessage=e.hoverMessage||null,this.glyphMarginHoverMessage=e.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=e.lineNumberHoverMessage||null,this.isWholeLine=e.isWholeLine||!1,this.showIfCollapsed=e.showIfCollapsed||!1,this.collapseOnReplaceEdit=e.collapseOnReplaceEdit||!1,this.overviewRuler=e.overviewRuler?new co(e.overviewRuler):null,this.minimap=e.minimap?new fo(e.minimap):null,this.glyphMargin=e.glyphMarginClassName?new ho(e.glyphMargin):null,this.glyphMarginClassName=e.glyphMarginClassName?Gi(e.glyphMarginClassName):null,this.linesDecorationsClassName=e.linesDecorationsClassName?Gi(e.linesDecorationsClassName):null,this.lineNumberClassName=e.lineNumberClassName?Gi(e.lineNumberClassName):null,this.linesDecorationsTooltip=e.linesDecorationsTooltip?b.fA(e.linesDecorationsTooltip):null,this.firstLineDecorationClassName=e.firstLineDecorationClassName?Gi(e.firstLineDecorationClassName):null,this.marginClassName=e.marginClassName?Gi(e.marginClassName):null,this.inlineClassName=e.inlineClassName?Gi(e.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=e.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=e.beforeContentClassName?Gi(e.beforeContentClassName):null,this.afterContentClassName=e.afterContentClassName?Gi(e.afterContentClassName):null,this.after=e.after?Xr.from(e.after):null,this.before=e.before?Xr.from(e.before):null,this.hideInCommentTokens=(f=e.hideInCommentTokens)!=null?f:!1,this.hideInStringTokens=(L=e.hideInStringTokens)!=null?L:!1}}Oi.EMPTY=Oi.register({description:"empty"});const Gs=[Oi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),Oi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),Oi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),Oi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function qs(p){return p instanceof Oi?p:Oi.createDynamic(p)}class go extends K.JT{constructor(e){super(),this.handleBeforeFire=e,this._actual=this._register(new O.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var e;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(e=this._affectedInjectedTextLines)==null||e.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(e){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(e)}checkAffectedAndFire(e){var t,i;this._affectsMinimap||(this._affectsMinimap=!!((t=e.minimap)!=null&&t.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!((i=e.overviewRuler)!=null&&i.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!e.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!e.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const e={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(e)}}class mo extends K.JT{constructor(){super(),this._fastEmitter=this._register(new O.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new O.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(e=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=e;const t=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(t),this._slowEmitter.fire(t)}}fire(e){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(e):this._deferredEvent=e;return}this._fastEmitter.fire(e),this._slowEmitter.fire(e)}}var po=N(5633),bo=N(3849),bs=N(5173),_o=N(6364),vo=function(p,e,t,i){var s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(p,e,t,i);else for(var L=p.length-1;L>=0;L--)(f=p[L])&&(a=(s<3?f(a):s>3?f(e,t,a):f(e,t))||a);return s>3&&a&&Object.defineProperty(e,t,a),a},_s=function(p,e){return function(t,i){e(t,i,p)}},Or;function vr(p){return p.toString()}class Co{constructor(e,t,i){this.model=e,this._modelEventListeners=new K.SL,this.model=e,this._modelEventListeners.add(e.onWillDispose(()=>t(e))),this._modelEventListeners.add(e.onDidChangeLanguage(s=>i(e,s)))}dispose(){this._modelEventListeners.dispose()}}const ko=o.IJ||o.dz?1:2;class Lo{constructor(e,t,i,s,a,f,L,R){this.uri=e,this.initialUndoRedoSnapshot=t,this.time=i,this.sharesUndoRedoStack=s,this.heapSize=a,this.sha1=f,this.versionId=L,this.alternativeVersionId=R}}let Ns=(Cr=class extends K.JT{constructor(e,t,i,s){super(),this._configurationService=e,this._resourcePropertiesService=t,this._undoRedoService=i,this._instantiationService=s,this._onModelAdded=this._register(new O.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new O.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new O.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(a=>this._updateModelOptions(a))),this._updateModelOptions(void 0)}static _readModelOptions(e,t){var Ce;let i=g.tabSize;if(e.editor&&typeof e.editor.tabSize!="undefined"){const Re=parseInt(e.editor.tabSize,10);isNaN(Re)||(i=Re),i<1&&(i=1)}let s="tabSize";if(e.editor&&typeof e.editor.indentSize!="undefined"&&e.editor.indentSize!=="tabSize"){const Re=parseInt(e.editor.indentSize,10);isNaN(Re)||(s=Math.max(Re,1))}let a=g.insertSpaces;e.editor&&typeof e.editor.insertSpaces!="undefined"&&(a=e.editor.insertSpaces==="false"?!1:!!e.editor.insertSpaces);let f=ko;const L=e.eol;L===`\r
`?f=2:L===`
`&&(f=1);let R=g.trimAutoWhitespace;e.editor&&typeof e.editor.trimAutoWhitespace!="undefined"&&(R=e.editor.trimAutoWhitespace==="false"?!1:!!e.editor.trimAutoWhitespace);let Y=g.detectIndentation;e.editor&&typeof e.editor.detectIndentation!="undefined"&&(Y=e.editor.detectIndentation==="false"?!1:!!e.editor.detectIndentation);let ce=g.largeFileOptimizations;e.editor&&typeof e.editor.largeFileOptimizations!="undefined"&&(ce=e.editor.largeFileOptimizations==="false"?!1:!!e.editor.largeFileOptimizations);let me=g.bracketPairColorizationOptions;return(Ce=e.editor)!=null&&Ce.bracketPairColorization&&typeof e.editor.bracketPairColorization=="object"&&(me={enabled:!!e.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!e.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:t,tabSize:i,indentSize:s,insertSpaces:a,detectIndentation:Y,defaultEOL:f,trimAutoWhitespace:R,largeFileOptimizations:ce,bracketPairColorizationOptions:me}}_getEOL(e,t){if(e)return this._resourcePropertiesService.getEOL(e,t);const i=this._configurationService.getValue("files.eol",{overrideIdentifier:t});return i&&typeof i=="string"&&i!=="auto"?i:o.OS===3||o.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const e=this._configurationService.getValue("files.restoreUndoStack");return typeof e=="boolean"?e:!0}getCreationOptions(e,t,i){const s=typeof e=="string"?e:e.languageId;let a=this._modelCreationOptionsByLanguageAndResource[s+t];if(!a){const f=this._configurationService.getValue("editor",{overrideIdentifier:s,resource:t}),L=this._getEOL(t,s);a=Or._readModelOptions({editor:f,eol:L},i),this._modelCreationOptionsByLanguageAndResource[s+t]=a}return a}_updateModelOptions(e){const t=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const i=Object.keys(this._models);for(let s=0,a=i.length;s<a;s++){const f=i[s],L=this._models[f],R=L.model.getLanguageId(),Y=L.model.uri;if(e&&!e.affectsConfiguration("editor",{overrideIdentifier:R,resource:Y})&&!e.affectsConfiguration("files.eol",{overrideIdentifier:R,resource:Y}))continue;const ce=t[R+Y],me=this.getCreationOptions(R,Y,L.model.isForSimpleWidget);Or._setModelOptionsForModel(L.model,me,ce)}}static _setModelOptionsForModel(e,t,i){i&&i.defaultEOL!==t.defaultEOL&&e.getLineCount()===1&&e.setEOL(t.defaultEOL===1?0:1),!(i&&i.detectIndentation===t.detectIndentation&&i.insertSpaces===t.insertSpaces&&i.tabSize===t.tabSize&&i.indentSize===t.indentSize&&i.trimAutoWhitespace===t.trimAutoWhitespace&&(0,_o.fS)(i.bracketPairColorizationOptions,t.bracketPairColorizationOptions))&&(t.detectIndentation?(e.detectIndentation(t.insertSpaces,t.tabSize),e.updateOptions({trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions})):e.updateOptions({insertSpaces:t.insertSpaces,tabSize:t.tabSize,indentSize:t.indentSize,trimAutoWhitespace:t.trimAutoWhitespace,bracketColorizationOptions:t.bracketPairColorizationOptions}))}_insertDisposedModel(e){this._disposedModels.set(vr(e.uri),e),this._disposedModelsHeapSize+=e.heapSize}_removeDisposedModel(e){const t=this._disposedModels.get(vr(e));return t&&(this._disposedModelsHeapSize-=t.heapSize),this._disposedModels.delete(vr(e)),t}_ensureDisposedModelsHeapSize(e){if(this._disposedModelsHeapSize>e){const t=[];for(this._disposedModels.forEach(i=>{i.sharesUndoRedoStack||t.push(i)}),t.sort((i,s)=>i.time-s.time);t.length>0&&this._disposedModelsHeapSize>e;){const i=t.shift();this._removeDisposedModel(i.uri),i.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(i.initialUndoRedoSnapshot)}}}_createModelData(e,t,i,s){const a=this.getCreationOptions(t,i,s),f=this._instantiationService.createInstance(Ss,e,t,a,i);if(i&&this._disposedModels.has(vr(i))){const Y=this._removeDisposedModel(i),ce=this._undoRedoService.getElements(i),me=this._getSHA1Computer(),Ce=me.canComputeSHA1(f)?me.computeSHA1(f)===Y.sha1:!1;if(Ce||Y.sharesUndoRedoStack){for(const Re of ce.past)Ci(Re)&&Re.matchesResource(i)&&Re.setModel(f);for(const Re of ce.future)Ci(Re)&&Re.matchesResource(i)&&Re.setModel(f);this._undoRedoService.setElementsValidFlag(i,!0,Re=>Ci(Re)&&Re.matchesResource(i)),Ce&&(f._overwriteVersionId(Y.versionId),f._overwriteAlternativeVersionId(Y.alternativeVersionId),f._overwriteInitialUndoRedoSnapshot(Y.initialUndoRedoSnapshot))}else Y.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Y.initialUndoRedoSnapshot)}const L=vr(f.uri);if(this._models[L])throw new Error("ModelService: Cannot add model because it already exists!");const R=new Co(f,Y=>this._onWillDispose(Y),(Y,ce)=>this._onDidChangeLanguage(Y,ce));return this._models[L]=R,R}createModel(e,t,i,s=!1){let a;return t?a=this._createModelData(e,t,i,s):a=this._createModelData(e,Ye.bd,i,s),this._onModelAdded.fire(a.model),a.model}getModels(){const e=[],t=Object.keys(this._models);for(let i=0,s=t.length;i<s;i++){const a=t[i];e.push(this._models[a].model)}return e}getModel(e){const t=vr(e),i=this._models[t];return i?i.model:null}_schemaShouldMaintainUndoRedoElements(e){return e.scheme===bs.lg.file||e.scheme===bs.lg.vscodeRemote||e.scheme===bs.lg.vscodeUserData||e.scheme===bs.lg.vscodeNotebookCell||e.scheme==="fake-fs"}_onWillDispose(e){const t=vr(e.uri),i=this._models[t],s=this._undoRedoService.getUriComparisonKey(e.uri)!==e.uri.toString();let a=!1,f=0;if(s||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(e.uri)){const Y=this._undoRedoService.getElements(e.uri);if(Y.past.length>0||Y.future.length>0){for(const ce of Y.past)Ci(ce)&&ce.matchesResource(e.uri)&&(a=!0,f+=ce.heapSize(e.uri),ce.setModel(e.uri));for(const ce of Y.future)Ci(ce)&&ce.matchesResource(e.uri)&&(a=!0,f+=ce.heapSize(e.uri),ce.setModel(e.uri))}}const L=Or.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,R=this._getSHA1Computer();if(a)if(!s&&(f>L||!R.canComputeSHA1(e))){const Y=i.model.getInitialUndoRedoSnapshot();Y!==null&&this._undoRedoService.restoreSnapshot(Y)}else this._ensureDisposedModelsHeapSize(L-f),this._undoRedoService.setElementsValidFlag(e.uri,!1,Y=>Ci(Y)&&Y.matchesResource(e.uri)),this._insertDisposedModel(new Lo(e.uri,i.model.getInitialUndoRedoSnapshot(),Date.now(),s,f,R.computeSHA1(e),e.getVersionId(),e.getAlternativeVersionId()));else if(!s){const Y=i.model.getInitialUndoRedoSnapshot();Y!==null&&this._undoRedoService.restoreSnapshot(Y)}delete this._models[t],i.dispose(),delete this._modelCreationOptionsByLanguageAndResource[e.getLanguageId()+e.uri],this._onModelRemoved.fire(e)}_onDidChangeLanguage(e,t){const i=t.oldLanguage,s=e.getLanguageId(),a=this.getCreationOptions(i,e.uri,e.isForSimpleWidget),f=this.getCreationOptions(s,e.uri,e.isForSimpleWidget);Or._setModelOptionsForModel(e,f,a),this._onModelModeChanged.fire({model:e,oldLanguageId:i})}_getSHA1Computer(){return new vs}},Or=Cr,Cr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,Cr);Ns=Or=vo([_s(0,ke.Ui),_s(1,po.ITextResourcePropertiesService),_s(2,Us),_s(3,F.TG)],Ns);const ks=class ks{canComputeSHA1(e){return e.getValueLength()<=ks.MAX_MODEL_SIZE}computeSHA1(e){const t=new bo.yP,i=e.createSnapshot();let s;for(;s=i.read();)t.update(s);return t.digest()}};ks.MAX_MODEL_SIZE=10485760;let vs=ks},6417:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ITextModelService:function(){return K}});var O=N(1721);const K=(0,O.yh)("textModelService")},7263:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{encodeSemanticTokensDto:function(){return I}});var O=N(5656),K=N(264);function o(b){for(let _=0,B=b.length;_<B;_+=4){const ae=b[_+0],J=b[_+1],Z=b[_+2],y=b[_+3];b[_+0]=y,b[_+1]=Z,b[_+2]=J,b[_+3]=ae}}function U(b){const _=new Uint8Array(b.buffer,b.byteOffset,b.length*4);return K.r()||o(_),O.KN.wrap(_)}function I(b){const _=new Uint32Array(z(b));let B=0;if(_[B++]=b.id,b.type==="full")_[B++]=1,_[B++]=b.data.length,_.set(b.data,B),B+=b.data.length;else{_[B++]=2,_[B++]=b.deltas.length;for(const ae of b.deltas)_[B++]=ae.start,_[B++]=ae.deleteCount,ae.data?(_[B++]=ae.data.length,_.set(ae.data,B),B+=ae.data.length):_[B++]=0}return U(_)}function z(b){let _=0;if(_+=2,b.type==="full")_+=1+b.data.length;else{_+=1,_+=3*b.deltas.length;for(const B of b.deltas)B.data&&(_+=B.data.length)}return _}},9094:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{SemanticTokensProviderStyling:function(){return k},toMultilineTokens2:function(){return x}});var O=N(4864),K=N(2357),o=N(1178),U=N(2338),I=N(8390),z=N(5453);class b{static create(S,w){return new b(S,new _(w))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(S,w){this._startLineNumber=S,this._tokens=w,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(S){return this._startLineNumber<=S&&S<=this._endLineNumber?this._tokens.getLineTokens(S-this._startLineNumber):null}getRange(){const S=this._tokens.getRange();return S&&new I.e(this._startLineNumber+S.startLineNumber,S.startColumn,this._startLineNumber+S.endLineNumber,S.endColumn)}removeTokens(S){const w=S.startLineNumber-this._startLineNumber,A=S.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(w,S.startColumn-1,A,S.endColumn-1),this._updateEndLineNumber()}split(S){const w=S.startLineNumber-this._startLineNumber,A=S.endLineNumber-this._startLineNumber,[M,C,V]=this._tokens.split(w,S.startColumn-1,A,S.endColumn-1);return[new b(this._startLineNumber,M),new b(this._startLineNumber+V,C)]}applyEdit(S,w){const[A,M,C]=(0,z.Q)(w);this.acceptEdit(S,A,M,C,w.length>0?w.charCodeAt(0):0)}acceptEdit(S,w,A,M,C){this._acceptDeleteRange(S),this._acceptInsertText(new U.L(S.startLineNumber,S.startColumn),w,A,M,C),this._updateEndLineNumber()}_acceptDeleteRange(S){if(S.startLineNumber===S.endLineNumber&&S.startColumn===S.endColumn)return;const w=S.startLineNumber-this._startLineNumber,A=S.endLineNumber-this._startLineNumber;if(A<0){const C=A-w;this._startLineNumber-=C;return}const M=this._tokens.getMaxDeltaLine();if(!(w>=M+1)){if(w<0&&A>=M+1){this._startLineNumber=0,this._tokens.clear();return}if(w<0){const C=-w;this._startLineNumber-=C,this._tokens.acceptDeleteRange(S.startColumn-1,0,0,A,S.endColumn-1)}else this._tokens.acceptDeleteRange(0,w,S.startColumn-1,A,S.endColumn-1)}}_acceptInsertText(S,w,A,M,C){if(w===0&&A===0)return;const V=S.lineNumber-this._startLineNumber;if(V<0){this._startLineNumber+=w;return}const W=this._tokens.getMaxDeltaLine();V>=W+1||this._tokens.acceptInsertText(V,S.column-1,w,A,M,C)}}class _{constructor(S){this._tokens=S,this._tokenCount=S.length/4}toString(S){const w=[];for(let A=0;A<this._tokenCount;A++)w.push(`(${this._getDeltaLine(A)+S},${this._getStartCharacter(A)}-${this._getEndCharacter(A)})`);return`[${w.join(",")}]`}getMaxDeltaLine(){const S=this._getTokenCount();return S===0?-1:this._getDeltaLine(S-1)}getRange(){const S=this._getTokenCount();if(S===0)return null;const w=this._getStartCharacter(0),A=this._getDeltaLine(S-1),M=this._getEndCharacter(S-1);return new I.e(0,w+1,A,M+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(S){return this._tokens[4*S]}_getStartCharacter(S){return this._tokens[4*S+1]}_getEndCharacter(S){return this._tokens[4*S+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(S){let w=0,A=this._getTokenCount()-1;for(;w<A;){const M=w+Math.floor((A-w)/2),C=this._getDeltaLine(M);if(C<S)w=M+1;else if(C>S)A=M-1;else{let V=M;for(;V>w&&this._getDeltaLine(V-1)===S;)V--;let W=M;for(;W<A&&this._getDeltaLine(W+1)===S;)W++;return new B(this._tokens.subarray(4*V,4*W+4))}}return this._getDeltaLine(w)===S?new B(this._tokens.subarray(4*w,4*w+4)):null}clear(){this._tokenCount=0}removeTokens(S,w,A,M){const C=this._tokens,V=this._tokenCount;let W=0,j=!1,Q=0;for(let ge=0;ge<V;ge++){const ne=4*ge,X=C[ne],G=C[ne+1],ie=C[ne+2],se=C[ne+3];if((X>S||X===S&&ie>=w)&&(X<A||X===A&&G<=M))j=!0;else{if(W===0&&(Q=X),j){const Me=4*W;C[Me]=X-Q,C[Me+1]=G,C[Me+2]=ie,C[Me+3]=se}W++}}return this._tokenCount=W,Q}split(S,w,A,M){const C=this._tokens,V=this._tokenCount,W=[],j=[];let Q=W,ge=0,ne=0;for(let X=0;X<V;X++){const G=4*X,ie=C[G],se=C[G+1],Me=C[G+2],He=C[G+3];if(ie>S||ie===S&&Me>=w){if(ie<A||ie===A&&se<=M)continue;Q!==j&&(Q=j,ge=0,ne=ie)}Q[ge++]=ie-ne,Q[ge++]=se,Q[ge++]=Me,Q[ge++]=He}return[new _(new Uint32Array(W)),new _(new Uint32Array(j)),ne]}acceptDeleteRange(S,w,A,M,C){const V=this._tokens,W=this._tokenCount,j=M-w;let Q=0,ge=!1;for(let ne=0;ne<W;ne++){const X=4*ne;let G=V[X],ie=V[X+1],se=V[X+2];const Me=V[X+3];if(G<w||G===w&&se<=A){Q++;continue}else if(G===w&&ie<A)G===M&&se>C?se-=C-A:se=A;else if(G===w&&ie===A)if(G===M&&se>C)se-=C-A;else{ge=!0;continue}else if(G<M||G===M&&ie<C)if(G===M&&se>C)G=w,ie=A,se=ie+(se-C);else{ge=!0;continue}else if(G>M){if(j===0&&!ge){Q=W;break}G-=j}else if(G===M&&ie>=C)S&&G===0&&(ie+=S,se+=S),G-=j,ie-=C-A,se-=C-A;else throw new Error("Not possible!");const He=4*Q;V[He]=G,V[He+1]=ie,V[He+2]=se,V[He+3]=Me,Q++}this._tokenCount=Q}acceptInsertText(S,w,A,M,C,V){const W=A===0&&M===1&&(V>=48&&V<=57||V>=65&&V<=90||V>=97&&V<=122),j=this._tokens,Q=this._tokenCount;for(let ge=0;ge<Q;ge++){const ne=4*ge;let X=j[ne],G=j[ne+1],ie=j[ne+2];if(!(X<S||X===S&&ie<w)){if(X===S&&ie===w)if(W)ie+=1;else continue;else if(X===S&&G<w&&w<ie)A===0?ie+=M:ie=w;else{if(X===S&&G===w&&W)continue;if(X===S)if(X+=A,A===0)G+=M,ie+=M;else{const se=ie-G;G=C+(G-w),ie=G+se}else X+=A}j[ne]=X,j[ne+1]=G,j[ne+2]=ie}}}}class B{constructor(S){this._tokens=S}getCount(){return this._tokens.length/4}getStartCharacter(S){return this._tokens[4*S+1]}getEndCharacter(S){return this._tokens[4*S+2]}getMetadata(S){return this._tokens[4*S+3]}}var ae=N(4033),J=function(T,S,w,A){var M=arguments.length,C=M<3?S:A===null?A=Object.getOwnPropertyDescriptor(S,w):A,V;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(T,S,w,A);else for(var W=T.length-1;W>=0;W--)(V=T[W])&&(C=(M<3?V(C):M>3?V(S,w,C):V(S,w))||C);return M>3&&C&&Object.defineProperty(S,w,C),C},Z=function(T,S){return function(w,A){S(w,A,T)}};const y=!1;let k=class{constructor(S,w,A,M){this._legend=S,this._themeService=w,this._languageService=A,this._logService=M,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new ue}getMetadata(S,w,A){const M=this._languageService.languageIdCodec.encodeLanguageId(A),C=this._hashTable.get(S,w,M);let V;if(C)V=C.metadata,y&&this._logService.getLevel()===o.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${S} / ${w}: foreground ${O.N.getForeground(V)}, fontStyle ${O.N.getFontStyle(V).toString(2)}`);else{let W=this._legend.tokenTypes[S];const j=[];if(W){let Q=w;for(let ne=0;Q>0&&ne<this._legend.tokenModifiers.length;ne++)Q&1&&j.push(this._legend.tokenModifiers[ne]),Q=Q>>1;y&&Q>0&&this._logService.getLevel()===o.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${w.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),j.push("not-in-legend"));const ge=this._themeService.getColorTheme().getTokenStyleMetadata(W,j,A);if(typeof ge=="undefined")V=2147483647;else{if(V=0,typeof ge.italic!="undefined"){const ne=(ge.italic?1:0)<<11;V|=ne|1}if(typeof ge.bold!="undefined"){const ne=(ge.bold?2:0)<<11;V|=ne|2}if(typeof ge.underline!="undefined"){const ne=(ge.underline?4:0)<<11;V|=ne|4}if(typeof ge.strikethrough!="undefined"){const ne=(ge.strikethrough?8:0)<<11;V|=ne|8}if(ge.foreground){const ne=ge.foreground<<15;V|=ne|16}V===0&&(V=2147483647)}}else y&&this._logService.getLevel()===o.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${S} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),V=2147483647,W="not-in-legend";this._hashTable.add(S,w,M,V),y&&this._logService.getLevel()===o.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${S} (${W}) / ${w} (${j.join(" ")}): foreground ${O.N.getForeground(V)}, fontStyle ${O.N.getFontStyle(V).toString(2)}`)}return V}warnOverlappingSemanticTokens(S,w){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${S}, column ${w}`))}warnInvalidLengthSemanticTokens(S,w){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${S}, column ${w}`))}warnInvalidEditStart(S,w,A,M,C){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${S}, resultId: ${w}) at edit #${A}: The provided start offset ${M} is outside the previous data (length ${C}).`))}};k=J([Z(1,K.XE),Z(2,ae.O),Z(3,o.VZ)],k);function x(T,S,w){const A=T.data,M=T.data.length/5|0,C=Math.max(Math.ceil(M/1024),400),V=[];let W=0,j=1,Q=0;for(;W<M;){const ge=W;let ne=Math.min(ge+C,M);if(ne<M){let Te=ne;for(;Te-1>ge&&A[5*Te]===0;)Te--;if(Te-1===ge){let ve=ne;for(;ve+1<M&&A[5*ve]===0;)ve++;ne=ve}else ne=Te}let X=new Uint32Array((ne-ge)*4),G=0,ie=0,se=0,Me=0;for(;W<ne;){const Te=5*W,ve=A[Te],P=A[Te+1],ee=j+ve|0,xe=ve===0?Q+P|0:P,Fe=A[Te+2],Ue=xe+Fe|0,qe=A[Te+3],Ge=A[Te+4];if(Ue<=xe)S.warnInvalidLengthSemanticTokens(ee,xe+1);else if(se===ee&&Me>xe)S.warnOverlappingSemanticTokens(ee,xe+1);else{const We=S.getMetadata(qe,Ge,w);We!==2147483647&&(ie===0&&(ie=ee),X[G]=ee-ie,X[G+1]=xe,X[G+2]=Ue,X[G+3]=We,G+=4,se=ee,Me=Ue)}j=ee,Q=xe,W++}G!==X.length&&(X=X.subarray(0,G));const He=b.create(ie,X);V.push(He)}return V}class g{constructor(S,w,A,M){this.tokenTypeIndex=S,this.tokenModifierSet=w,this.languageId=A,this.metadata=M,this.next=null}}const fe=class fe{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=fe._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<fe._SIZES.length?.6666666666666666*this._currentLength:0),this._elements=[],fe._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(S,w){for(let A=0;A<w;A++)S[A]=null}_hash2(S,w){return(S<<5)-S+w|0}_hashFunc(S,w,A){return this._hash2(this._hash2(S,w),A)%this._currentLength}get(S,w,A){const M=this._hashFunc(S,w,A);let C=this._elements[M];for(;C;){if(C.tokenTypeIndex===S&&C.tokenModifierSet===w&&C.languageId===A)return C;C=C.next}return null}add(S,w,A,M){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const C=this._elements;this._currentLengthIndex++,this._currentLength=fe._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<fe._SIZES.length?.6666666666666666*this._currentLength:0),this._elements=[],fe._nullOutEntries(this._elements,this._currentLength);for(const V of C){let W=V;for(;W;){const j=W.next;W.next=null,this._add(W),W=j}}}this._add(new g(S,w,A,M))}_add(S){const w=this._hashFunc(S.tokenTypeIndex,S.tokenModifierSet,S.languageId);S.next=this._elements[w],this._elements[w]=S}};fe._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143];let ue=fe},1819:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ISemanticTokensStylingService:function(){return K}});var O=N(1721);const K=(0,O.yh)("semanticTokensStylingService")},9837:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{SemanticTokensStylingService:function(){return ae}});var O=N(338),K=N(4033),o=N(2357),U=N(1178),I=N(9094),z=N(1819),b=N(4707),_=function(J,Z,y,k){var x=arguments.length,g=x<3?Z:k===null?k=Object.getOwnPropertyDescriptor(Z,y):k,ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(J,Z,y,k);else for(var fe=J.length-1;fe>=0;fe--)(ue=J[fe])&&(g=(x<3?ue(g):x>3?ue(Z,y,g):ue(Z,y))||g);return x>3&&g&&Object.defineProperty(Z,y,g),g},B=function(J,Z){return function(y,k){Z(y,k,J)}};let ae=class extends O.JT{constructor(Z,y,k){super(),this._themeService=Z,this._logService=y,this._languageService=k,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(Z){return this._caches.has(Z)||this._caches.set(Z,new I.SemanticTokensProviderStyling(Z.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(Z)}};ae=_([B(0,o.XE),B(1,U.VZ),B(2,K.O)],ae),(0,b.z)(z.ISemanticTokensStylingService,ae,1)},2489:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{MirrorModel:function(){return ue},STOP_SYNC_MODEL_DELTA_TIME_MS:function(){return k},WorkerTextModelSyncClient:function(){return x},WorkerTextModelSyncServer:function(){return g}});var O=N(9703),K=N(338),o=N(9423),U=N(2338),I=N(8390),z=N(2343),b=N(9632),_=N(7894),B=N(8334);class ae{constructor(T){this.values=T,this.prefixSum=new Uint32Array(T.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(T,S){T=(0,B.A)(T);const w=this.values,A=this.prefixSum,M=S.length;return M===0?!1:(this.values=new Uint32Array(w.length+M),this.values.set(w.subarray(0,T),0),this.values.set(w.subarray(T),T+M),this.values.set(S,T),T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(A.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(T,S){return T=(0,B.A)(T),S=(0,B.A)(S),this.values[T]===S?!1:(this.values[T]=S,T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),!0)}removeValues(T,S){T=(0,B.A)(T),S=(0,B.A)(S);const w=this.values,A=this.prefixSum;if(T>=w.length)return!1;const M=w.length-T;return S>=M&&(S=M),S===0?!1:(this.values=new Uint32Array(w.length-S),this.values.set(w.subarray(0,T),0),this.values.set(w.subarray(T+S),T),this.prefixSum=new Uint32Array(this.values.length),T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(A.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(T){return T<0?0:(T=(0,B.A)(T),this._getPrefixSum(T))}_getPrefixSum(T){if(T<=this.prefixSumValidIndex[0])return this.prefixSum[T];let S=this.prefixSumValidIndex[0]+1;S===0&&(this.prefixSum[0]=this.values[0],S++),T>=this.values.length&&(T=this.values.length-1);for(let w=S;w<=T;w++)this.prefixSum[w]=this.prefixSum[w-1]+this.values[w];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],T),this.prefixSum[T]}getIndexOf(T){T=Math.floor(T),this.getTotalSum();let S=0,w=this.values.length-1,A=0,M=0,C=0;for(;S<=w;)if(A=S+(w-S)/2|0,M=this.prefixSum[A],C=M-this.values[A],T<C)w=A-1;else if(T>=M)S=A+1;else break;return new Z(A,T-C)}}class J{constructor(T){this._values=T,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(T){return this._ensureValid(),T===0?0:this._prefixSum[T-1]}getIndexOf(T){this._ensureValid();const S=this._indexBySum[T],w=S>0?this._prefixSum[S-1]:0;return new Z(S,T-w)}removeValues(T,S){this._values.splice(T,S),this._invalidate(T)}insertValues(T,S){this._values=arrayInsert(this._values,T,S),this._invalidate(T)}_invalidate(T){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,T-1)}_ensureValid(){if(!this._isValid){for(let T=this._validEndIndex+1,S=this._values.length;T<S;T++){const w=this._values[T],A=T>0?this._prefixSum[T-1]:0;this._prefixSum[T]=A+w;for(let M=0;M<w;M++)this._indexBySum[A+M]=T}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(T,S){this._values[T]!==S&&(this._values[T]=S,this._invalidate(T))}}class Z{constructor(T,S){this.index=T,this.remainder=S,this._prefixSumIndexOfResultBrand=void 0,this.index=T,this.remainder=S}}class y{constructor(T,S,w,A){this._uri=T,this._lines=S,this._eol=w,this._versionId=A,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(T){T.eol&&T.eol!==this._eol&&(this._eol=T.eol,this._lineStarts=null);const S=T.changes;for(const w of S)this._acceptDeleteRange(w.range),this._acceptInsertText(new U.L(w.range.startLineNumber,w.range.startColumn),w.text);this._versionId=T.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const T=this._eol.length,S=this._lines.length,w=new Uint32Array(S);for(let A=0;A<S;A++)w[A]=this._lines[A].length+T;this._lineStarts=new ae(w)}}_setLineText(T,S){this._lines[T]=S,this._lineStarts&&this._lineStarts.setValue(T,this._lines[T].length+this._eol.length)}_acceptDeleteRange(T){if(T.startLineNumber===T.endLineNumber){if(T.startColumn===T.endColumn)return;this._setLineText(T.startLineNumber-1,this._lines[T.startLineNumber-1].substring(0,T.startColumn-1)+this._lines[T.startLineNumber-1].substring(T.endColumn-1));return}this._setLineText(T.startLineNumber-1,this._lines[T.startLineNumber-1].substring(0,T.startColumn-1)+this._lines[T.endLineNumber-1].substring(T.endColumn-1)),this._lines.splice(T.startLineNumber,T.endLineNumber-T.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(T.startLineNumber,T.endLineNumber-T.startLineNumber)}_acceptInsertText(T,S){if(S.length===0)return;const w=(0,b.uq)(S);if(w.length===1){this._setLineText(T.lineNumber-1,this._lines[T.lineNumber-1].substring(0,T.column-1)+w[0]+this._lines[T.lineNumber-1].substring(T.column-1));return}w[w.length-1]+=this._lines[T.lineNumber-1].substring(T.column-1),this._setLineText(T.lineNumber-1,this._lines[T.lineNumber-1].substring(0,T.column-1)+w[0]);const A=new Uint32Array(w.length-1);for(let M=1;M<w.length;M++)this._lines.splice(T.lineNumber+M-1,0,w[M]),A[M-1]=w[M].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(T.lineNumber,A)}}const k=60*1e3;class x extends K.JT{constructor(T,S,w=!1){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=T,this._modelService=S,!w){const A=new O.zh;A.cancelAndSet(()=>this._checkStopModelSync(),Math.round(k/2)),this._register(A)}}dispose(){for(const T in this._syncedModels)(0,K.B9)(this._syncedModels[T]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(T,S=!1){for(const w of T){const A=w.toString();this._syncedModels[A]||this._beginModelSync(w,S),this._syncedModels[A]&&(this._syncedModelsLastUsedTime[A]=new Date().getTime())}}_checkStopModelSync(){const T=new Date().getTime(),S=[];for(const w in this._syncedModelsLastUsedTime)T-this._syncedModelsLastUsedTime[w]>k&&S.push(w);for(const w of S)this._stopModelSync(w)}_beginModelSync(T,S){const w=this._modelService.getModel(T);if(!w||!S&&w.isTooLargeForSyncing())return;const A=T.toString();this._proxy.$acceptNewModel({url:w.uri.toString(),lines:w.getLinesContent(),EOL:w.getEOL(),versionId:w.getVersionId()});const M=new K.SL;M.add(w.onDidChangeContent(C=>{this._proxy.$acceptModelChanged(A.toString(),C)})),M.add(w.onWillDispose(()=>{this._stopModelSync(A)})),M.add((0,K.OF)(()=>{this._proxy.$acceptRemovedModel(A)})),this._syncedModels[A]=M}_stopModelSync(T){const S=this._syncedModels[T];delete this._syncedModels[T],delete this._syncedModelsLastUsedTime[T],(0,K.B9)(S)}}class g{constructor(){this._models=Object.create(null)}getModel(T){return this._models[T]}getModels(){const T=[];return Object.keys(this._models).forEach(S=>T.push(this._models[S])),T}$acceptNewModel(T){this._models[T.url]=new ue(o.o.parse(T.url),T.lines,T.EOL,T.versionId)}$acceptModelChanged(T,S){if(!this._models[T])return;this._models[T].onEvents(S)}$acceptRemovedModel(T){this._models[T]&&delete this._models[T]}}class ue extends y{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(T){const S=[];for(let w=0;w<this._lines.length;w++){const A=this._lines[w],M=this.offsetAt(new U.L(w+1,1)),C=A.matchAll(T);for(const V of C)(V.index||V.index===0)&&(V.index=V.index+M),S.push(V)}return S}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(T){return this._lines[T-1]}getWordAtPosition(T,S){const w=(0,z.t2)(T.column,(0,z.eq)(S),this._lines[T.lineNumber-1],0);return w?new I.e(T.lineNumber,w.startColumn,T.lineNumber,w.endColumn):null}words(T){const S=this._lines,w=this._wordenize.bind(this);let A=0,M="",C=0,V=[];return{*[Symbol.iterator](){for(;;)if(C<V.length){const W=M.substring(V[C].start,V[C].end);C+=1,yield W}else if(A<S.length)M=S[A],V=w(M,T),C=0,A+=1;else break}}}getLineWords(T,S){const w=this._lines[T-1],A=this._wordenize(w,S),M=[];for(const C of A)M.push({word:w.substring(C.start,C.end),startColumn:C.start+1,endColumn:C.end+1});return M}_wordenize(T,S){const w=[];let A;for(S.lastIndex=0;(A=S.exec(T))&&A[0].length!==0;)w.push({start:A.index,end:A.index+A[0].length});return w}getValueInRange(T){if(T=this._validateRange(T),T.startLineNumber===T.endLineNumber)return this._lines[T.startLineNumber-1].substring(T.startColumn-1,T.endColumn-1);const S=this._eol,w=T.startLineNumber-1,A=T.endLineNumber-1,M=[];M.push(this._lines[w].substring(T.startColumn-1));for(let C=w+1;C<A;C++)M.push(this._lines[C]);return M.push(this._lines[A].substring(0,T.endColumn-1)),M.join(S)}offsetAt(T){return T=this._validatePosition(T),this._ensureLineStarts(),this._lineStarts.getPrefixSum(T.lineNumber-2)+(T.column-1)}positionAt(T){T=Math.floor(T),T=Math.max(0,T),this._ensureLineStarts();const S=this._lineStarts.getIndexOf(T),w=this._lines[S.index].length;return{lineNumber:1+S.index,column:1+Math.min(S.remainder,w)}}_validateRange(T){const S=this._validatePosition({lineNumber:T.startLineNumber,column:T.startColumn}),w=this._validatePosition({lineNumber:T.endLineNumber,column:T.endColumn});return S.lineNumber!==T.startLineNumber||S.column!==T.startColumn||w.lineNumber!==T.endLineNumber||w.column!==T.endColumn?{startLineNumber:S.lineNumber,startColumn:S.column,endLineNumber:w.lineNumber,endColumn:w.column}:T}_validatePosition(T){if(!U.L.isIPosition(T))throw new Error("bad position");let{lineNumber:S,column:w}=T,A=!1;if(S<1)S=1,w=1,A=!0;else if(S>this._lines.length)S=this._lines.length,w=this._lines[S-1].length+1,A=!0;else{const M=this._lines[S-1].length+1;w<1?(w=1,A=!0):w>M&&(w=M,A=!0)}return A?{lineNumber:S,column:w}:T}}},5858:function(vt,Se,N){"use strict";N.r(Se)},5633:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ITextResourceConfigurationService:function(){return K},ITextResourcePropertiesService:function(){return o}});var O=N(1721);const K=(0,O.yh)("textResourceConfigurationService"),o=(0,O.yh)("textResourcePropertiesService")},5224:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ITreeSitterParserService:function(){return K}});var O=N(1721);const K=(0,O.yh)("treeSitterParserService")},234:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{DraggedTreeItemsIdentifier:function(){return K},TreeViewsDnDService:function(){return O}});class O{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(U){if(U&&this._dragOperations.has(U)){const I=this._dragOperations.get(U);return this._dragOperations.delete(U),I}}}class K{constructor(U){this.identifier=U}}},8743:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{ITreeViewsDnDService:function(){return U}});var O=N(4707),K=N(1721),o=N(234);const U=(0,K.yh)("treeViewsDndService");(0,O.z)(U,o.TreeViewsDnDService,1)},9810:function(vt,Se,N){"use strict";N.r(Se),N.d(Se,{UnicodeTextModelHighlighter:function(){return z}});var O=N(8390),K=N(8470),o=N(9632),U=N(6038),I=N(2343);class z{static computeUnicodeHighlights(J,Z,y){const k=y?y.startLineNumber:1,x=y?y.endLineNumber:J.getLineCount(),g=new _(Z),ue=g.getCandidateCodePoints();let fe;ue==="allNonBasicAscii"?fe=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):fe=new RegExp(`${b(Array.from(ue))}`,"g");const T=new K.sz(null,fe),S=[];let w=!1,A,M=0,C=0,V=0;e:for(let W=k,j=x;W<=j;W++){const Q=J.getLineContent(W),ge=Q.length;T.reset(0);do if(A=T.next(Q),A){let ne=A.index,X=A.index+A[0].length;if(ne>0){const Me=Q.charCodeAt(ne-1);o.ZG(Me)&&ne--}if(X+1<ge){const Me=Q.charCodeAt(X-1);o.ZG(Me)&&X++}const G=Q.substring(ne,X);let ie=(0,I.t2)(ne+1,I.Af,Q,0);ie&&ie.endColumn<=ne+1&&(ie=null);const se=g.shouldHighlightNonBasicASCII(G,ie?ie.word:null);if(se!==0){if(se===3?M++:se===2?C++:se===1?V++:(0,U.vE)(se),S.length>=1e3){w=!0;break e}S.push(new O.e(W,ne+1,W,X+1))}}while(A)}return{ranges:S,hasMore:w,ambiguousCharacterCount:M,invisibleCharacterCount:C,nonBasicAsciiCharacterCount:V}}static computeUnicodeHighlightReason(J,Z){const y=new _(Z);switch(y.shouldHighlightNonBasicASCII(J,null)){case 0:return null;case 2:return{kind:1};case 3:{const x=J.codePointAt(0),g=y.ambiguousCharacters.getPrimaryConfusable(x),ue=o.ZK.getLocales().filter(fe=>!o.ZK.getInstance(new Set([...Z.allowedLocales,fe])).isAmbiguous(x));return{kind:0,confusableWith:String.fromCodePoint(g),notAmbiguousInLocales:ue}}case 1:return{kind:2}}}}function b(ae,J){return`[${o.ec(ae.map(y=>String.fromCodePoint(y)).join(""))}]`}class _{constructor(J){this.options=J,this.allowedCodePoints=new Set(J.allowedCodePoints),this.ambiguousCharacters=o.ZK.getInstance(new Set(J.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const J=new Set;if(this.options.invisibleCharacters)for(const Z of o.vU.codePoints)B(String.fromCodePoint(Z))||J.add(Z);if(this.options.ambiguousCharacters)for(const Z of this.ambiguousCharacters.getConfusableCodePoints())J.add(Z);for(const Z of this.allowedCodePoints)J.delete(Z);return J}shouldHighlightNonBasicASCII(J,Z){const y=J.codePointAt(0);if(this.allowedCodePoints.has(y))return 0;if(this.options.nonBasicASCII)return 1;let k=!1,x=!1;if(Z)for(const g of Z){const ue=g.codePointAt(0),fe=o.$i(g);k=k||fe,!fe&&!this.ambiguousCharacters.isAmbiguous(ue)&&!o.vU.isInvisibleCharacter(ue)&&(x=!0)}return!k&&x?0:this.options.invisibleCharacters&&!B(J)&&o.vU.isInvisibleCharacter(y)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(y)?3:0}}function B(ae){return ae===" "||ae===`
`||ae==="	"}},9410:function(vt,Se,N){var O={"./editorBaseApi":[2726],"./editorBaseApi.js":[2726],"./editorSimpleWorker":[1945],"./editorSimpleWorker.js":[1945],"./editorWorker":[4541,179],"./editorWorker.js":[4541,179],"./editorWorkerHost":[7570],"./editorWorkerHost.js":[7570],"./findSectionHeaders":[6767],"./findSectionHeaders.js":[6767],"./getIconClasses":[1628,179],"./getIconClasses.js":[1628,179],"./languageFeatureDebounce":[6453,179],"./languageFeatureDebounce.js":[6453,179],"./languageFeatures":[7924,179],"./languageFeatures.js":[7924,179],"./languageFeaturesService":[4279,179],"./languageFeaturesService.js":[4279,179],"./languageService":[7939,179],"./languageService.js":[7939,179],"./languagesAssociations":[5981,179],"./languagesAssociations.js":[5981,179],"./languagesRegistry":[7921,179],"./languagesRegistry.js":[7921,179],"./markerDecorations":[231,179],"./markerDecorations.js":[231,179],"./markerDecorationsService":[808,179],"./markerDecorationsService.js":[808,179],"./model":[2361,179],"./model.js":[2361,179],"./modelService":[7751,179],"./modelService.js":[7751,179],"./resolverService":[6417,179],"./resolverService.js":[6417,179],"./semanticTokensDto":[7263,179],"./semanticTokensDto.js":[7263,179],"./semanticTokensProviderStyling":[9094,179],"./semanticTokensProviderStyling.js":[9094,179],"./semanticTokensStyling":[1819,179],"./semanticTokensStyling.js":[1819,179],"./semanticTokensStylingService":[9837,179],"./semanticTokensStylingService.js":[9837,179],"./textModelSync/textModelSync.impl":[2489],"./textModelSync/textModelSync.impl.js":[2489],"./textModelSync/textModelSync.protocol":[5858,179],"./textModelSync/textModelSync.protocol.js":[5858,179],"./textResourceConfiguration":[5633,179],"./textResourceConfiguration.js":[5633,179],"./treeSitterParserService":[5224,179],"./treeSitterParserService.js":[5224,179],"./treeViewsDnd":[234,179],"./treeViewsDnd.js":[234,179],"./treeViewsDndService":[8743,179],"./treeViewsDndService.js":[8743,179],"./unicodeTextModelHighlighter":[9810],"./unicodeTextModelHighlighter.js":[9810]};function K(o){if(!N.o(O,o))return Promise.resolve().then(function(){var z=new Error("Cannot find module '"+o+"'");throw z.code="MODULE_NOT_FOUND",z});var U=O[o],I=U[0];return Promise.all(U.slice(1).map(N.e)).then(function(){return N(I)})}K.keys=function(){return Object.keys(O)},K.id=9410,vt.exports=K},7547:function(vt,Se,N){var O={"./editorBaseApi":2726,"./editorBaseApi.js":2726,"./editorSimpleWorker":1945,"./editorSimpleWorker.js":1945,"./editorWorker":4541,"./editorWorker.js":4541,"./editorWorkerHost":7570,"./editorWorkerHost.js":7570,"./findSectionHeaders":6767,"./findSectionHeaders.js":6767,"./getIconClasses":1628,"./getIconClasses.js":1628,"./languageFeatureDebounce":6453,"./languageFeatureDebounce.js":6453,"./languageFeatures":7924,"./languageFeatures.js":7924,"./languageFeaturesService":4279,"./languageFeaturesService.js":4279,"./languageService":7939,"./languageService.js":7939,"./languagesAssociations":5981,"./languagesAssociations.js":5981,"./languagesRegistry":7921,"./languagesRegistry.js":7921,"./markerDecorations":231,"./markerDecorations.js":231,"./markerDecorationsService":808,"./markerDecorationsService.js":808,"./model":2361,"./model.js":2361,"./modelService":7751,"./modelService.js":7751,"./resolverService":6417,"./resolverService.js":6417,"./semanticTokensDto":7263,"./semanticTokensDto.js":7263,"./semanticTokensProviderStyling":9094,"./semanticTokensProviderStyling.js":9094,"./semanticTokensStyling":1819,"./semanticTokensStyling.js":1819,"./semanticTokensStylingService":9837,"./semanticTokensStylingService.js":9837,"./textModelSync/textModelSync.impl":2489,"./textModelSync/textModelSync.impl.js":2489,"./textModelSync/textModelSync.protocol":5858,"./textModelSync/textModelSync.protocol.js":5858,"./textResourceConfiguration":5633,"./textResourceConfiguration.js":5633,"./treeSitterParserService":5224,"./treeSitterParserService.js":5224,"./treeViewsDnd":234,"./treeViewsDnd.js":234,"./treeViewsDndService":8743,"./treeViewsDndService.js":8743,"./unicodeTextModelHighlighter":9810,"./unicodeTextModelHighlighter.js":9810};function K(U){var I=o(U);return N(I)}function o(U){if(!N.o(O,U)){var I=new Error("Cannot find module '"+U+"'");throw I.code="MODULE_NOT_FOUND",I}return O[U]}K.keys=function(){return Object.keys(O)},K.resolve=o,vt.exports=K,K.id=7547},4329:function(vt,Se,N){"use strict";N.d(Se,{fq:function(){return K},NC:function(){return I}});function O(){return globalThis._VSCODE_NLS_MESSAGES}function K(){return globalThis._VSCODE_NLS_LANGUAGE}const o=K()==="pseudo"||typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function U(_,B){let ae;return B.length===0?ae=_:ae=_.replace(/\{(\d+)\}/g,(J,Z)=>{const y=Z[0],k=B[y];let x=J;return typeof k=="string"?x=k:(typeof k=="number"||typeof k=="boolean"||k===void 0||k===null)&&(x=String(k)),x}),o&&(ae="\uFF3B"+ae.replace(/[aouei]/g,"$&$&")+"\uFF3D"),ae}function I(_,B,...ae){return U(typeof _=="number"?z(_,B):B,ae)}function z(_,B){var J;const ae=(J=O())==null?void 0:J[_];if(typeof ae!="string"){if(typeof B=="string")return B;throw new Error(`!!! NLS MISSING: ${_} !!!`)}return ae}function b(_,B,...ae){let J;typeof _=="number"?J=z(_,B):J=B;const Z=U(J,ae);return{value:Z,original:B===J?Z:U(B,ae)}}},2954:function(vt,Se,N){"use strict";N.d(Se,{UI:function(){return _},Ui:function(){return K}});var O=N(1721);const K=(0,O.yh)("configurationService");function o(B,ae){const J=Object.create(null);for(const Z in B)U(J,Z,B[Z],ae);return J}function U(B,ae,J,Z){const y=ae.split("."),k=y.pop();let x=B;for(let g=0;g<y.length;g++){const ue=y[g];let fe=x[ue];switch(typeof fe){case"undefined":fe=x[ue]=Object.create(null);break;case"object":if(fe===null){Z(`Ignoring ${ae} as ${y.slice(0,g+1).join(".")} is null`);return}break;default:Z(`Ignoring ${ae} as ${y.slice(0,g+1).join(".")} is ${JSON.stringify(fe)}`);return}x=fe}if(typeof x=="object"&&x!==null)try{x[k]=J}catch(g){Z(`Ignoring ${ae} as ${y.join(".")} is ${JSON.stringify(x)}`)}else Z(`Ignoring ${ae} as ${y.join(".")} is ${JSON.stringify(x)}`)}function I(B,ae){const J=ae.split(".");z(B,J)}function z(B,ae){const J=ae.shift();if(ae.length===0){delete B[J];return}if(Object.keys(B).indexOf(J)!==-1){const Z=B[J];typeof Z=="object"&&!Array.isArray(Z)&&(z(Z,ae),Object.keys(Z).length===0&&delete B[J])}}function b(B,ae,J){function Z(x,g){let ue=x;for(const fe of g){if(typeof ue!="object"||ue===null)return;ue=ue[fe]}return ue}const y=ae.split("."),k=Z(B,y);return typeof k=="undefined"?J:k}function _(B){return B.replace(/[\[\]]/g,"")}},5085:function(vt,Se,N){"use strict";N.d(Se,{IP:function(){return _}});var O=N(7894),K=N(3130),o=N(8200),U=N(4329),I=N(2954),z=N(5038),b=N(4311);const _={Configuration:"base.contributions.configuration"},B={properties:{},patternProperties:{}},ae={properties:{},patternProperties:{}},J={properties:{},patternProperties:{}},Z={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},k={properties:{},patternProperties:{}},x="vscode://schemas/settings/resourceLanguage",g=b.B.as(z.I.JSONContribution);class ue{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new K.Q5,this._onDidUpdateConfiguration=new K.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:U.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},g.registerSchema(x,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(j,Q=!0){this.registerConfigurations([j],Q)}registerConfigurations(j,Q=!0){const ge=new Set;this.doRegisterConfigurations(j,Q,ge),g.registerSchema(x,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:ge})}registerDefaultConfigurations(j){const Q=new Set;this.doRegisterDefaultConfigurations(j,Q),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:Q,defaultsOverrides:!0})}doRegisterDefaultConfigurations(j,Q){var ne;this.registeredConfigurationDefaults.push(...j);const ge=[];for(const{overrides:X,source:G}of j)for(const ie in X){Q.add(ie);const se=(ne=this.configurationDefaultsOverrides.get(ie))!=null?ne:this.configurationDefaultsOverrides.set(ie,{configurationDefaultOverrides:[]}).get(ie),Me=X[ie];if(se.configurationDefaultOverrides.push({value:Me,source:G}),w.test(ie)){const He=this.mergeDefaultConfigurationsForOverrideIdentifier(ie,Me,G,se.configurationDefaultOverrideValue);if(!He)continue;se.configurationDefaultOverrideValue=He,this.updateDefaultOverrideProperty(ie,He,G),ge.push(...A(ie))}else{const He=this.mergeDefaultConfigurationsForConfigurationProperty(ie,Me,G,se.configurationDefaultOverrideValue);if(!He)continue;se.configurationDefaultOverrideValue=He;const Te=this.configurationProperties[ie];Te&&(this.updatePropertyDefaultValue(ie,Te),this.updateSchema(ie,Te))}}this.doRegisterOverrideIdentifiers(ge)}updateDefaultOverrideProperty(j,Q,ge){const ne={type:"object",default:Q.value,description:U.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,I.UI)(j)),$ref:x,defaultDefaultValue:Q.value,source:ge,defaultValueSource:ge};this.configurationProperties[j]=ne,this.defaultLanguageConfigurationOverridesNode.properties[j]=ne}mergeDefaultConfigurationsForOverrideIdentifier(j,Q,ge,ne){var ie,se;const X=(ne==null?void 0:ne.value)||{},G=(ie=ne==null?void 0:ne.source)!=null?ie:new Map;if(!(G instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const Me of Object.keys(Q)){const He=Q[Me];if(o.Kn(He)&&(o.o8(X[Me])||o.Kn(X[Me]))){if(X[Me]=wi(wi({},(se=X[Me])!=null?se:{}),He),ge)for(const ve in He)G.set(`${Me}.${ve}`,ge)}else X[Me]=He,ge?G.set(Me,ge):G.delete(Me)}return{value:X,source:G}}mergeDefaultConfigurationsForConfigurationProperty(j,Q,ge,ne){var Me,He;const X=this.configurationProperties[j],G=(Me=ne==null?void 0:ne.value)!=null?Me:X==null?void 0:X.defaultDefaultValue;let ie=ge;if(o.Kn(Q)&&(X!==void 0&&X.type==="object"||X===void 0&&(o.o8(G)||o.Kn(G)))){if(ie=(He=ne==null?void 0:ne.source)!=null?He:new Map,!(ie instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const Te in Q)ge&&ie.set(`${j}.${Te}`,ge);Q=wi(wi({},o.Kn(G)?G:{}),Q)}return{value:Q,source:ie}}registerOverrideIdentifiers(j){this.doRegisterOverrideIdentifiers(j),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(j){for(const Q of j)this.overrideIdentifiers.add(Q);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(j,Q,ge){j.forEach(ne=>{this.validateAndRegisterProperties(ne,Q,ne.extensionInfo,ne.restrictedProperties,void 0,ge),this.configurationContributors.push(ne),this.registerJSONConfiguration(ne)})}validateAndRegisterProperties(j,Q=!0,ge,ne,X=3,G){var Me;X=o.Jp(j.scope)?X:j.scope;const ie=j.properties;if(ie)for(const He in ie){const Te=ie[He];if(Q&&V(He,Te)){delete ie[He];continue}if(Te.source=ge,Te.defaultDefaultValue=ie[He].default,this.updatePropertyDefaultValue(He,Te),w.test(He)?Te.scope=void 0:(Te.scope=o.Jp(Te.scope)?X:Te.scope,Te.restricted=o.Jp(Te.restricted)?!!(ne!=null&&ne.includes(He)):Te.restricted),ie[He].hasOwnProperty("included")&&!ie[He].included){this.excludedConfigurationProperties[He]=ie[He],delete ie[He];continue}else this.configurationProperties[He]=ie[He],(Me=ie[He].policy)!=null&&Me.name&&this.policyConfigurations.set(ie[He].policy.name,He);!ie[He].deprecationMessage&&ie[He].markdownDeprecationMessage&&(ie[He].deprecationMessage=ie[He].markdownDeprecationMessage),G.add(He)}const se=j.allOf;if(se)for(const He of se)this.validateAndRegisterProperties(He,Q,ge,ne,X,G)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(j){const Q=ge=>{const ne=ge.properties;if(ne)for(const G in ne)this.updateSchema(G,ne[G]);const X=ge.allOf;X==null||X.forEach(Q)};Q(j)}updateSchema(j,Q){switch(B.properties[j]=Q,Q.scope){case 1:ae.properties[j]=Q;break;case 2:J.properties[j]=Q;break;case 6:Z.properties[j]=Q;break;case 3:y.properties[j]=Q;break;case 4:k.properties[j]=Q;break;case 5:k.properties[j]=Q,this.resourceLanguageSettingsSchema.properties[j]=Q;break}}updateOverridePropertyPatternKey(){for(const j of this.overrideIdentifiers.values()){const Q=`[${j}]`,ge={type:"object",description:U.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:U.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:x};this.updatePropertyDefaultValue(Q,ge),B.properties[Q]=ge,ae.properties[Q]=ge,J.properties[Q]=ge,Z.properties[Q]=ge,y.properties[Q]=ge,k.properties[Q]=ge}}registerOverridePropertyPatternKey(){const j={type:"object",description:U.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:U.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:x};B.patternProperties[S]=j,ae.patternProperties[S]=j,J.patternProperties[S]=j,Z.patternProperties[S]=j,y.patternProperties[S]=j,k.patternProperties[S]=j,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(j,Q){var G;const ge=(G=this.configurationDefaultsOverrides.get(j))==null?void 0:G.configurationDefaultOverrideValue;let ne,X;ge&&(!Q.disallowConfigurationDefault||!ge.source)&&(ne=ge.value,X=ge.source),o.o8(ne)&&(ne=Q.defaultDefaultValue,X=void 0),o.o8(ne)&&(ne=M(Q.type)),Q.default=ne,Q.defaultValueSource=X}}const fe="\\[([^\\]]+)\\]",T=new RegExp(fe,"g"),S=`^(${fe})+$`,w=new RegExp(S);function A(W){const j=[];if(w.test(W)){let Q=T.exec(W);for(;Q!=null&&Q.length;){const ge=Q[1].trim();ge&&j.push(ge),Q=T.exec(W)}}return(0,O.EB)(j)}function M(W){switch(Array.isArray(W)?W[0]:W){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const C=new ue;b.B.add(_.Configuration,C);function V(W,j){var Q,ge,ne,X;return W.trim()?w.test(W)?U.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",W):C.getConfigurationProperties()[W]!==void 0?U.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",W):(Q=j.policy)!=null&&Q.name&&C.getPolicyConfigurations().get((ge=j.policy)==null?void 0:ge.name)!==void 0?U.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",W,(ne=j.policy)==null?void 0:ne.name,C.getPolicyConfigurations().get((X=j.policy)==null?void 0:X.name)):null:U.NC("config.property.empty","Cannot register an empty property")}},4707:function(vt,Se,N){"use strict";N.d(Se,{z:function(){return o}});class O{constructor(z,b=[],_=!1){this.ctor=z,this.staticArguments=b,this.supportsDelayedInstantiation=_}}const K=[];function o(I,z,b){z instanceof O||(z=new O(z,[],!!b)),K.push([I,z])}function U(){return K}},1721:function(vt,Se,N){"use strict";N.d(Se,{TG:function(){return K},yh:function(){return U}});var O;(function(I){I.serviceIds=new Map,I.DI_TARGET="$di$target",I.DI_DEPENDENCIES="$di$dependencies";function z(b){return b[I.DI_DEPENDENCIES]||[]}I.getServiceDependencies=z})(O||(O={}));const K=U("instantiationService");function o(I,z,b){z[O.DI_TARGET]===z?z[O.DI_DEPENDENCIES].push({id:I,index:b}):(z[O.DI_DEPENDENCIES]=[{id:I,index:b}],z[O.DI_TARGET]=z)}function U(I){if(O.serviceIds.has(I))return O.serviceIds.get(I);const z=function(b,_,B){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");o(z,b,B)};return z.toString=()=>I,O.serviceIds.set(I,z),z}},5038:function(vt,Se,N){"use strict";N.d(Se,{I:function(){return o}});var O=N(3130),K=N(4311);const o={JSONContribution:"base.contributions.json"};function U(b){return b.length>0&&b.charAt(b.length-1)==="#"?b.substring(0,b.length-1):b}class I{constructor(){this._onDidChangeSchema=new O.Q5,this.schemasById={}}registerSchema(_,B){this.schemasById[U(_)]=B,this._onDidChangeSchema.fire(_)}notifySchemaChanged(_){this._onDidChangeSchema.fire(_)}}const z=new I;K.B.add(o.JSONContribution,z)},1178:function(vt,Se,N){"use strict";N.d(Se,{VZ:function(){return nn},in:function(){return le}});var O=N(3130),K=N(338),o=N(264),U=N(9632),I=N(561),z=N(4329);function b(...pt){switch(pt.length){case 1:return(0,z.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",pt[0]);case 2:return(0,z.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",pt[0],pt[1]);case 3:return(0,z.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",pt[0],pt[1],pt[2]);default:return}}const _=(0,z.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),B=(0,z.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'."),mt=class mt{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(m){switch(m.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return m.isTripleEq?"===":"==";case 4:return m.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return m.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return m.lexeme;case 18:return m.lexeme;case 19:return m.lexeme;case 20:return"EOF";default:throw(0,I.L6)(`unhandled token type: ${JSON.stringify(m)}; have you forgotten to add a case?`)}}reset(m){return this._input=m,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const H=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:H})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const H=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:H})}else this._match(126)?this._addToken(9):this._error(b("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(b("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(b("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(m){return this._isAtEnd()||this._input.charCodeAt(this._current)!==m?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(m){this._tokens.push({type:m,offset:this._start})}_error(m){const H=this._start,Be=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:Be};this._errors.push({offset:H,lexeme:Be,additionalInfo:m}),this._tokens.push(n)}_string(){this.stringRe.lastIndex=this._start;const m=this.stringRe.exec(this._input);if(m){this._current=this._start+m[0].length;const H=this._input.substring(this._start,this._current),Be=mt._keywords.get(H);Be?this._addToken(Be):this._tokens.push({type:17,lexeme:H,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(_);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let m=this._current,H=!1,Be=!1;for(;;){if(m>=this._input.length){this._current=m,this._error(B);return}const ut=this._input.charCodeAt(m);if(H)H=!1;else if(ut===47&&!Be){m++;break}else ut===91?Be=!0:ut===92?H=!0:ut===93&&(Be=!1);m++}for(;m<this._input.length&&mt._regexFlags.has(this._input.charCodeAt(m));)m++;this._current=m;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}};mt._regexFlags=new Set(["i","g","s","m","y","u"].map(m=>m.charCodeAt(0))),mt._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);let ae=mt;var J=N(1721);const Z=new Map;Z.set("false",!1),Z.set("true",!0),Z.set("isMac",o.dz),Z.set("isLinux",o.IJ),Z.set("isWindows",o.ED),Z.set("isWeb",o.$L),Z.set("isMacNative",o.dz&&!o.$L),Z.set("isEdge",o.un),Z.set("isFirefox",o.vU),Z.set("isChrome",o.i7),Z.set("isSafari",o.G6);const y=Object.prototype.hasOwnProperty,k={regexParsingWithErrorRecovery:!0},x=(0,z.NC)("contextkey.parser.error.emptyString","Empty context key expression"),g=(0,z.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),ue=(0,z.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),fe=(0,z.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),T=(0,z.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),S=(0,z.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),w=(0,z.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),A=(0,z.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?"),st=class st{constructor(m=k){this._config=m,this._scanner=new ae,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(m){if(m===""){this._parsingErrors.push({message:x,offset:0,lexeme:"",additionalInfo:g});return}this._tokens=this._scanner.reset(m).scan(),this._current=0,this._parsingErrors=[];try{const H=this._expr();if(!this._isAtEnd()){const Be=this._peek(),n=Be.type===17?S:void 0;throw this._parsingErrors.push({message:T,offset:Be.offset,lexeme:ae.getLexeme(Be),additionalInfo:n}),st._parseError}return H}catch(H){if(H!==st._parseError)throw H;return}}_expr(){return this._or()}_or(){const m=[this._and()];for(;this._matchOne(16);){const H=this._and();m.push(H)}return m.length===1?m[0]:C.or(...m)}_and(){const m=[this._term()];for(;this._matchOne(15);){const H=this._term();m.push(H)}return m.length===1?m[0]:C.and(...m)}_term(){if(this._matchOne(2)){const m=this._peek();switch(m.type){case 11:return this._advance(),j.INSTANCE;case 12:return this._advance(),Q.INSTANCE;case 0:{this._advance();const H=this._expr();return this._consume(1,fe),H==null?void 0:H.negate()}case 17:return this._advance(),se.create(m.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",m)}}return this._primary()}_primary(){const m=this._peek();switch(m.type){case 11:return this._advance(),C.true();case 12:return this._advance(),C.false();case 0:{this._advance();const H=this._expr();return this._consume(1,fe),H}case 17:{const H=m.lexeme;if(this._advance(),this._matchOne(9)){const n=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),n.type!==10)throw this._errExpectedButGot("REGEX",n);const ut=n.lexeme,kt=ut.lastIndexOf("/"),jt=kt===ut.length-1?void 0:this._removeFlagsGY(ut.substring(kt+1));let Yt;try{Yt=new RegExp(ut.substring(1,kt),jt)}catch(cn){throw this._errExpectedButGot("REGEX",n)}return ee.create(H,Yt)}switch(n.type){case 10:case 19:{const ut=[n.lexeme];this._advance();let kt=this._peek(),jt=0;for(let Ht=0;Ht<n.lexeme.length;Ht++)n.lexeme.charCodeAt(Ht)===40?jt++:n.lexeme.charCodeAt(Ht)===41&&jt--;for(;!this._isAtEnd()&&kt.type!==15&&kt.type!==16;){switch(kt.type){case 0:jt++;break;case 1:jt--;break;case 10:case 18:for(let Ht=0;Ht<kt.lexeme.length;Ht++)kt.lexeme.charCodeAt(Ht)===40?jt++:n.lexeme.charCodeAt(Ht)===41&&jt--}if(jt<0)break;ut.push(ae.getLexeme(kt)),this._advance(),kt=this._peek()}const Yt=ut.join(""),cn=Yt.lastIndexOf("/"),un=cn===Yt.length-1?void 0:this._removeFlagsGY(Yt.substring(cn+1));let Zt;try{Zt=new RegExp(Yt.substring(1,cn),un)}catch(Ht){throw this._errExpectedButGot("REGEX",n)}return C.regex(H,Zt)}case 18:{const ut=n.lexeme;this._advance();let kt=null;if(!(0,U.m5)(ut)){const jt=ut.indexOf("/"),Yt=ut.lastIndexOf("/");if(jt!==Yt&&jt>=0){const cn=ut.slice(jt+1,Yt),un=ut[Yt+1]==="i"?"i":"";try{kt=new RegExp(cn,un)}catch(Zt){throw this._errExpectedButGot("REGEX",n)}}}if(kt===null)throw this._errExpectedButGot("REGEX",n);return ee.create(H,kt)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,ue);const n=this._value();return C.notIn(H,n)}switch(this._peek().type){case 3:{this._advance();const n=this._value();if(this._previous().type===18)return C.equals(H,n);switch(n){case"true":return C.has(H);case"false":return C.not(H);default:return C.equals(H,n)}}case 4:{this._advance();const n=this._value();if(this._previous().type===18)return C.notEquals(H,n);switch(n){case"true":return C.not(H);case"false":return C.has(H);default:return C.notEquals(H,n)}}case 5:return this._advance(),ve.create(H,this._value());case 6:return this._advance(),P.create(H,this._value());case 7:return this._advance(),He.create(H,this._value());case 8:return this._advance(),Te.create(H,this._value());case 13:return this._advance(),C.in(H,this._value());default:return C.has(H)}}case 20:throw this._parsingErrors.push({message:w,offset:m.offset,lexeme:"",additionalInfo:A}),st._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const m=this._peek();switch(m.type){case 17:case 18:return this._advance(),m.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(m){return m.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(m){return this._check(m)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(m,H){if(this._check(m))return this._advance();throw this._errExpectedButGot(H,this._peek())}_errExpectedButGot(m,H,Be){const n=(0,z.NC)("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,m,ae.getLexeme(H)),ut=H.offset,kt=ae.getLexeme(H);return this._parsingErrors.push({message:n,offset:ut,lexeme:kt,additionalInfo:Be}),st._parseError}_check(m){return this._peek().type===m}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}};st._parseError=new Error;let M=st;const _t=class _t{static false(){return j.INSTANCE}static true(){return Q.INSTANCE}static has(m){return ge.create(m)}static equals(m,H){return ne.create(m,H)}static notEquals(m,H){return ie.create(m,H)}static regex(m,H){return ee.create(m,H)}static in(m,H){return X.create(m,H)}static notIn(m,H){return G.create(m,H)}static not(m){return se.create(m)}static and(...m){return Ue.create(m,null,!0)}static or(...m){return qe.create(m,null,!0)}static deserialize(m){return m==null?void 0:this._parser.parse(m)}};_t._parser=new M({regexParsingWithErrorRecovery:!1});let C=_t;function V(pt,m){const H=pt?pt.substituteConstants():void 0,Be=m?m.substituteConstants():void 0;return!H&&!Be?!0:!H||!Be?!1:H.equals(Be)}function W(pt,m){return pt.cmp(m)}const Ct=class Ct{constructor(){this.type=0}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!1}serialize(){return"false"}keys(){return[]}negate(){return Q.INSTANCE}};Ct.INSTANCE=new Ct;let j=Ct;const Lt=class Lt{constructor(){this.type=1}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!0}serialize(){return"true"}keys(){return[]}negate(){return j.INSTANCE}};Lt.INSTANCE=new Lt;let Q=Lt;class ge{static create(m,H=null){const Be=Z.get(m);return typeof Be=="boolean"?Be?Q.INSTANCE:j.INSTANCE:new ge(m,H)}constructor(m,H){this.key=m,this.negated=H,this.type=2}cmp(m){return m.type!==this.type?this.type-m.type:bt(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=Z.get(this.key);return typeof m=="boolean"?m?Q.INSTANCE:j.INSTANCE:this}evaluate(m){return!!m.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=se.create(this.key,this)),this.negated}}class ne{static create(m,H,Be=null){if(typeof H=="boolean")return H?ge.create(m,Be):se.create(m,Be);const n=Z.get(m);return typeof n=="boolean"?H===(n?"true":"false")?Q.INSTANCE:j.INSTANCE:new ne(m,H,Be)}constructor(m,H,Be){this.key=m,this.value=H,this.negated=Be,this.type=4}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){const m=Z.get(this.key);if(typeof m=="boolean"){const H=m?"true":"false";return this.value===H?Q.INSTANCE:j.INSTANCE}return this}evaluate(m){return m.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ie.create(this.key,this.value,this)),this.negated}}class X{static create(m,H){return new X(m,H)}constructor(m,H){this.key=m,this.valueKey=H,this.type=10,this.negated=null}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.valueKey,m.key,m.valueKey)}equals(m){return m.type===this.type?this.key===m.key&&this.valueKey===m.valueKey:!1}substituteConstants(){return this}evaluate(m){const H=m.getValue(this.valueKey),Be=m.getValue(this.key);return Array.isArray(H)?H.includes(Be):typeof Be=="string"&&typeof H=="object"&&H!==null?y.call(H,Be):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=G.create(this.key,this.valueKey)),this.negated}}class G{static create(m,H){return new G(m,H)}constructor(m,H){this.key=m,this.valueKey=H,this.type=11,this._negated=X.create(m,H)}cmp(m){return m.type!==this.type?this.type-m.type:this._negated.cmp(m._negated)}equals(m){return m.type===this.type?this._negated.equals(m._negated):!1}substituteConstants(){return this}evaluate(m){return!this._negated.evaluate(m)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class ie{static create(m,H,Be=null){if(typeof H=="boolean")return H?se.create(m,Be):ge.create(m,Be);const n=Z.get(m);return typeof n=="boolean"?H===(n?"true":"false")?j.INSTANCE:Q.INSTANCE:new ie(m,H,Be)}constructor(m,H,Be){this.key=m,this.value=H,this.negated=Be,this.type=5}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){const m=Z.get(this.key);if(typeof m=="boolean"){const H=m?"true":"false";return this.value===H?j.INSTANCE:Q.INSTANCE}return this}evaluate(m){return m.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ne.create(this.key,this.value,this)),this.negated}}class se{static create(m,H=null){const Be=Z.get(m);return typeof Be=="boolean"?Be?j.INSTANCE:Q.INSTANCE:new se(m,H)}constructor(m,H){this.key=m,this.negated=H,this.type=3}cmp(m){return m.type!==this.type?this.type-m.type:bt(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=Z.get(this.key);return typeof m=="boolean"?m?j.INSTANCE:Q.INSTANCE:this}evaluate(m){return!m.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ge.create(this.key,this)),this.negated}}function Me(pt,m){if(typeof pt=="string"){const H=parseFloat(pt);isNaN(H)||(pt=H)}return typeof pt=="string"||typeof pt=="number"?m(pt):j.INSTANCE}class He{static create(m,H,Be=null){return Me(H,n=>new He(m,n,Be))}constructor(m,H,Be){this.key=m,this.value=H,this.negated=Be,this.type=12}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class Te{static create(m,H,Be=null){return Me(H,n=>new Te(m,n,Be))}constructor(m,H,Be){this.key=m,this.value=H,this.negated=Be,this.type=13}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ve.create(this.key,this.value,this)),this.negated}}class ve{static create(m,H,Be=null){return Me(H,n=>new ve(m,n,Be))}constructor(m,H,Be){this.key=m,this.value=H,this.negated=Be,this.type=14}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=Te.create(this.key,this.value,this)),this.negated}}class P{static create(m,H,Be=null){return Me(H,n=>new P(m,n,Be))}constructor(m,H,Be){this.key=m,this.value=H,this.negated=Be,this.type=15}cmp(m){return m.type!==this.type?this.type-m.type:tt(this.key,this.value,m.key,m.value)}equals(m){return m.type===this.type?this.key===m.key&&this.value===m.value:!1}substituteConstants(){return this}evaluate(m){return typeof this.value=="string"?!1:parseFloat(m.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=He.create(this.key,this.value,this)),this.negated}}class ee{static create(m,H){return new ee(m,H)}constructor(m,H){this.key=m,this.regexp=H,this.type=7,this.negated=null}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.key<m.key)return-1;if(this.key>m.key)return 1;const H=this.regexp?this.regexp.source:"",Be=m.regexp?m.regexp.source:"";return H<Be?-1:H>Be?1:0}equals(m){if(m.type===this.type){const H=this.regexp?this.regexp.source:"",Be=m.regexp?m.regexp.source:"";return this.key===m.key&&H===Be}return!1}substituteConstants(){return this}evaluate(m){const H=m.getValue(this.key);return this.regexp?this.regexp.test(H):!1}serialize(){const m=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${m}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=xe.create(this)),this.negated}}class xe{static create(m){return new xe(m)}constructor(m){this._actual=m,this.type=8}cmp(m){return m.type!==this.type?this.type-m.type:this._actual.cmp(m._actual)}equals(m){return m.type===this.type?this._actual.equals(m._actual):!1}substituteConstants(){return this}evaluate(m){return!this._actual.evaluate(m)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function Fe(pt){let m=null;for(let H=0,Be=pt.length;H<Be;H++){const n=pt[H].substituteConstants();if(pt[H]!==n&&m===null){m=[];for(let ut=0;ut<H;ut++)m[ut]=pt[ut]}m!==null&&(m[H]=n)}return m===null?pt:m}class Ue{static create(m,H,Be){return Ue._normalizeArr(m,H,Be)}constructor(m,H){this.expr=m,this.negated=H,this.type=6}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let H=0,Be=this.expr.length;H<Be;H++){const n=W(this.expr[H],m.expr[H]);if(n!==0)return n}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let H=0,Be=this.expr.length;H<Be;H++)if(!this.expr[H].equals(m.expr[H]))return!1;return!0}return!1}substituteConstants(){const m=Fe(this.expr);return m===this.expr?this:Ue.create(m,this.negated,!1)}evaluate(m){for(let H=0,Be=this.expr.length;H<Be;H++)if(!this.expr[H].evaluate(m))return!1;return!0}static _normalizeArr(m,H,Be){const n=[];let ut=!1;for(const kt of m)if(kt){if(kt.type===1){ut=!0;continue}if(kt.type===0)return j.INSTANCE;if(kt.type===6){n.push(...kt.expr);continue}n.push(kt)}if(n.length===0&&ut)return Q.INSTANCE;if(n.length!==0){if(n.length===1)return n[0];n.sort(W);for(let kt=1;kt<n.length;kt++)n[kt-1].equals(n[kt])&&(n.splice(kt,1),kt--);if(n.length===1)return n[0];for(;n.length>1;){const kt=n[n.length-1];if(kt.type!==9)break;n.pop();const jt=n.pop(),Yt=n.length===0,cn=qe.create(kt.expr.map(un=>Ue.create([un,jt],null,Be)),null,Yt);cn&&(n.push(cn),n.sort(W))}if(n.length===1)return n[0];if(Be){for(let kt=0;kt<n.length;kt++)for(let jt=kt+1;jt<n.length;jt++)if(n[kt].negate().equals(n[jt]))return j.INSTANCE;if(n.length===1)return n[0]}return new Ue(n,H)}}serialize(){return this.expr.map(m=>m.serialize()).join(" && ")}keys(){const m=[];for(const H of this.expr)m.push(...H.keys());return m}negate(){if(!this.negated){const m=[];for(const H of this.expr)m.push(H.negate());this.negated=qe.create(m,this,!0)}return this.negated}}class qe{static create(m,H,Be){return qe._normalizeArr(m,H,Be)}constructor(m,H){this.expr=m,this.negated=H,this.type=9}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let H=0,Be=this.expr.length;H<Be;H++){const n=W(this.expr[H],m.expr[H]);if(n!==0)return n}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let H=0,Be=this.expr.length;H<Be;H++)if(!this.expr[H].equals(m.expr[H]))return!1;return!0}return!1}substituteConstants(){const m=Fe(this.expr);return m===this.expr?this:qe.create(m,this.negated,!1)}evaluate(m){for(let H=0,Be=this.expr.length;H<Be;H++)if(this.expr[H].evaluate(m))return!0;return!1}static _normalizeArr(m,H,Be){let n=[],ut=!1;if(m){for(let kt=0,jt=m.length;kt<jt;kt++){const Yt=m[kt];if(Yt){if(Yt.type===0){ut=!0;continue}if(Yt.type===1)return Q.INSTANCE;if(Yt.type===9){n=n.concat(Yt.expr);continue}n.push(Yt)}}if(n.length===0&&ut)return j.INSTANCE;n.sort(W)}if(n.length!==0){if(n.length===1)return n[0];for(let kt=1;kt<n.length;kt++)n[kt-1].equals(n[kt])&&(n.splice(kt,1),kt--);if(n.length===1)return n[0];if(Be){for(let kt=0;kt<n.length;kt++)for(let jt=kt+1;jt<n.length;jt++)if(n[kt].negate().equals(n[jt]))return Q.INSTANCE;if(n.length===1)return n[0]}return new qe(n,H)}}serialize(){return this.expr.map(m=>m.serialize()).join(" || ")}keys(){const m=[];for(const H of this.expr)m.push(...H.keys());return m}negate(){if(!this.negated){const m=[];for(const H of this.expr)m.push(H.negate());for(;m.length>1;){const H=m.shift(),Be=m.shift(),n=[];for(const ut of Dt(H))for(const kt of Dt(Be))n.push(Ue.create([ut,kt],null,!1));m.unshift(qe.create(n,null,!1))}this.negated=qe.create(m,this,!0)}return this.negated}}const Rt=class Rt extends ge{static all(){return Rt._info.values()}constructor(m,H,Be){super(m,null),this._defaultValue=H,typeof Be=="object"?Rt._info.push(Lr(wi({},Be),{key:m})):Be!==!0&&Rt._info.push({key:m,description:Be,type:H!=null?typeof H:void 0})}bindTo(m){return m.createKey(this.key,this._defaultValue)}getValue(m){return m.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(m){return ne.create(this.key,m)}};Rt._info=[];let Ge=Rt;const We=(0,J.yh)("contextKeyService");function bt(pt,m){return pt<m?-1:pt>m?1:0}function tt(pt,m,H,Be){return pt<H?-1:pt>H?1:m<Be?-1:m>Be?1:0}function ot(pt,m){if(pt.type===0||m.type===1)return!0;if(pt.type===9)return m.type===9?lt(pt.expr,m.expr):!1;if(m.type===9){for(const H of m.expr)if(ot(pt,H))return!0;return!1}if(pt.type===6){if(m.type===6)return lt(m.expr,pt.expr);for(const H of pt.expr)if(ot(H,m))return!0;return!1}return pt.equals(m)}function lt(pt,m){let H=0,Be=0;for(;H<pt.length&&Be<m.length;){const n=pt[H].cmp(m[Be]);if(n<0)return!1;n===0&&H++,Be++}return H===pt.length}function Dt(pt){return pt.type===9?pt.expr:[pt]}const nn=(0,J.yh)("logService");var le;(function(pt){pt[pt.Off=0]="Off",pt[pt.Trace=1]="Trace",pt[pt.Debug=2]="Debug",pt[pt.Info=3]="Info",pt[pt.Warning=4]="Warning",pt[pt.Error=5]="Error"})(le||(le={}));const D=le.Info;class F extends null{constructor(){super(...arguments),this.level=D,this._onDidChangeLogLevel=this._register(new Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(m){this.level!==m&&(this.level=m,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(m){return this.level!==le.Off&&this.level<=m}}class ke extends null{constructor(m=D,H=!0){super(),this.useColors=H,this.setLevel(m)}trace(m,...H){this.checkLogLevel(le.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",m,...H):console.log(m,...H))}debug(m,...H){this.checkLogLevel(le.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",m,...H):console.log(m,...H))}info(m,...H){this.checkLogLevel(le.Info)&&(this.useColors?console.log("%c INFO","color: #33f",m,...H):console.log(m,...H))}warn(m,...H){this.checkLogLevel(le.Warning)&&(this.useColors?console.log("%c WARN","color: #993",m,...H):console.log(m,...H))}error(m,...H){this.checkLogLevel(le.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",m,...H):console.error(m,...H))}}class je extends null{constructor(m){super(),this.loggers=m,m.length&&this.setLevel(m[0].getLevel())}setLevel(m){for(const H of this.loggers)H.setLevel(m);super.setLevel(m)}trace(m,...H){for(const Be of this.loggers)Be.trace(m,...H)}debug(m,...H){for(const Be of this.loggers)Be.debug(m,...H)}info(m,...H){for(const Be of this.loggers)Be.info(m,...H)}warn(m,...H){for(const Be of this.loggers)Be.warn(m,...H)}error(m,...H){for(const Be of this.loggers)Be.error(m,...H)}dispose(){for(const m of this.loggers)m.dispose();super.dispose()}}function Ye(pt){switch(pt){case le.Trace:return"trace";case le.Debug:return"debug";case le.Info:return"info";case le.Warning:return"warn";case le.Error:return"error";case le.Off:return"off"}}const ht=new Ge("logLevel",Ye(le.Info))},4311:function(vt,Se,N){"use strict";N.d(Se,{B:function(){return U}});var O=N(6038),K=N(8200);class o{constructor(){this.data=new Map}add(z,b){O.ok(K.HD(z)),O.ok(K.Kn(b)),O.ok(!this.data.has(z),"There is already an extension with this id"),this.data.set(z,b)}as(z){return this.data.get(z)||null}}const U=new o},9347:function(vt,Se,N){"use strict";N.d(Se,{xL1:function(){return Me},lRK:function(){return se},cvW:function(){return le},MUv:function(){return Qn},T83:function(){return ut},c63:function(){return n},gpD:function(){return pt},pW3:function(){return H},uoC:function(){return m},Gj_:function(){return ur},Gvr:function(){return xr},Ivo:function(){return wr},P6G:function(){return g}});var O=N(6038),K=N(9703),o=N(413),U=N(3130),I=N(5038),z=N(4311),b=N(4329);function _(Qt){return`--vscode-${Qt.replace(/\./g,"-")}`}function B(Qt){return`var(${_(Qt)})`}function ae(Qt,tn){return`var(${_(Qt)}, ${tn})`}function J(Qt){return Qt!==null&&typeof Qt=="object"&&"light"in Qt&&"dark"in Qt}const Z={ColorContribution:"base.contributions.colors"},y="default";class k{constructor(){this._onDidChangeSchema=new U.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(tn,In,An,ti=!1,Ni){const si={id:tn,description:An,defaults:In,needsTransparency:ti,deprecationMessage:Ni};this.colorsById[tn]=si;const gi={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Ni&&(gi.deprecationMessage=Ni),ti&&(gi.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",gi.patternErrorMessage=b.NC("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[tn]={description:An,oneOf:[gi,{type:"string",const:y,description:b.NC("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(tn),this.colorReferenceSchema.enumDescriptions.push(An),this._onDidChangeSchema.fire(),tn}getColors(){return Object.keys(this.colorsById).map(tn=>this.colorsById[tn])}resolveDefaultColor(tn,In){const An=this.colorsById[tn];if(An!=null&&An.defaults){const ti=J(An.defaults)?An.defaults[In.type]:An.defaults;return C(ti,In)}}getColorSchema(){return this.colorSchema}toString(){const tn=(In,An)=>{const ti=In.indexOf(".")===-1?0:1,Ni=An.indexOf(".")===-1?0:1;return ti!==Ni?ti-Ni:In.localeCompare(An)};return Object.keys(this.colorsById).sort(tn).map(In=>`- \`${In}\`: ${this.colorsById[In].description}`).join(`
`)}}const x=new k;z.B.add(Z.ColorContribution,x);function g(Qt,tn,In,An,ti){return x.registerColor(Qt,tn,In,An,ti)}function ue(Qt,tn){var In,An,ti,Ni;switch(Qt.op){case 0:return(In=C(Qt.value,tn))==null?void 0:In.darken(Qt.factor);case 1:return(An=C(Qt.value,tn))==null?void 0:An.lighten(Qt.factor);case 2:return(ti=C(Qt.value,tn))==null?void 0:ti.transparent(Qt.factor);case 3:{const si=C(Qt.background,tn);return si?(Ni=C(Qt.value,tn))==null?void 0:Ni.makeOpaque(si):C(Qt.value,tn)}case 4:for(const si of Qt.values){const gi=C(si,tn);if(gi)return gi}return;case 6:return C(tn.defines(Qt.if)?Qt.then:Qt.else,tn);case 5:{const si=C(Qt.value,tn);if(!si)return;const gi=C(Qt.background,tn);return gi?si.isDarkerThan(gi)?o.Il.getLighterColor(si,gi,Qt.factor).transparent(Qt.transparency):o.Il.getDarkerColor(si,gi,Qt.factor).transparent(Qt.transparency):si.transparent(Qt.factor*Qt.transparency)}default:throw(0,O.vE)(Qt)}}function fe(Qt,tn){return{op:0,value:Qt,factor:tn}}function T(Qt,tn){return{op:1,value:Qt,factor:tn}}function S(Qt,tn){return{op:2,value:Qt,factor:tn}}function w(...Qt){return{op:4,values:Qt}}function A(Qt,tn,In){return{op:6,if:Qt,then:tn,else:In}}function M(Qt,tn,In,An){return{op:5,value:Qt,background:tn,factor:In,transparency:An}}function C(Qt,tn){if(Qt!==null){if(typeof Qt=="string")return Qt[0]==="#"?o.Il.fromHex(Qt):tn.getColor(Qt);if(Qt instanceof o.Il)return Qt;if(typeof Qt=="object")return ue(Qt,tn)}}const V="vscode://schemas/workbench-colors",W=z.B.as(I.I.JSONContribution);W.registerSchema(V,x.getColorSchema());const j=new K.pY(()=>W.notifySchemaChanged(V),200);x.onDidChangeSchema(()=>{j.isScheduled()||j.schedule()});const Q=g("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},b.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),ge=g("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},b.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),ne=g("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},b.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),X=g("descriptionForeground",{light:"#717171",dark:S(Q,.7),hcDark:S(Q,.7),hcLight:S(Q,.7)},b.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),G=g("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},b.NC("iconForeground","The default color for icons in the workbench.")),ie=g("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},b.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),se=g("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},b.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),Me=g("contrastActiveBorder",{light:null,dark:null,hcDark:ie,hcLight:ie},b.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),He=g("selection.background",null,b.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),Te=g("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},b.NC("textLinkForeground","Foreground color for links in text.")),ve=g("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},b.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),P=g("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:o.Il.black,hcLight:"#292929"},b.NC("textSeparatorForeground","Color for text separators.")),ee=g("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},b.NC("textPreformatForeground","Foreground color for preformatted text segments.")),xe=g("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},b.NC("textPreformatBackground","Background color for preformatted text segments.")),Fe=g("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},b.NC("textBlockQuoteBackground","Background color for block quotes in text.")),Ue=g("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:o.Il.white,hcLight:"#292929"},b.NC("textBlockQuoteBorder","Border color for block quotes in text.")),qe=g("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:o.Il.black,hcLight:"#F2F2F2"},b.NC("textCodeBlockBackground","Background color for code blocks in text.")),Ge=g("sash.hoverBorder",ie,b.NC("sashActiveBorder","Border color of active sashes.")),We=g("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:o.Il.black,hcLight:"#0F4A85"},b.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),bt=g("badge.foreground",{dark:o.Il.white,light:"#333",hcDark:o.Il.white,hcLight:o.Il.white},b.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),tt=g("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},b.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),ot=g("scrollbarSlider.background",{dark:o.Il.fromHex("#797979").transparent(.4),light:o.Il.fromHex("#646464").transparent(.4),hcDark:S(se,.6),hcLight:S(se,.4)},b.NC("scrollbarSliderBackground","Scrollbar slider background color.")),lt=g("scrollbarSlider.hoverBackground",{dark:o.Il.fromHex("#646464").transparent(.7),light:o.Il.fromHex("#646464").transparent(.7),hcDark:S(se,.8),hcLight:S(se,.8)},b.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Dt=g("scrollbarSlider.activeBackground",{dark:o.Il.fromHex("#BFBFBF").transparent(.4),light:o.Il.fromHex("#000000").transparent(.6),hcDark:se,hcLight:se},b.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),nn=g("progressBar.background",{dark:o.Il.fromHex("#0E70C0"),light:o.Il.fromHex("#0E70C0"),hcDark:se,hcLight:se},b.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),le=g("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:o.Il.black,hcLight:o.Il.white},b.NC("editorBackground","Editor background color.")),D=g("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:o.Il.white,hcLight:Q},b.NC("editorForeground","Editor default foreground color.")),F=g("editorStickyScroll.background",le,b.NC("editorStickyScrollBackground","Background color of sticky scroll in the editor")),ke=g("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},b.NC("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor")),je=g("editorStickyScroll.border",{dark:null,light:null,hcDark:se,hcLight:se},b.NC("editorStickyScrollBorder","Border color of sticky scroll in the editor")),Ye=g("editorStickyScroll.shadow",tt,b.NC("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor")),ht=g("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:o.Il.white},b.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),mt=g("editorWidget.foreground",Q,b.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),st=g("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:se,hcLight:se},b.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),_t=g("editorWidget.resizeBorder",null,b.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Ct=g("editorError.background",null,b.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),Lt=g("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},b.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),Rt=g("editorError.border",{dark:null,light:null,hcDark:o.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},b.NC("errorBorder","If set, color of double underlines for errors in the editor.")),pt=g("editorWarning.background",null,b.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),m=g("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},b.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),H=g("editorWarning.border",{dark:null,light:null,hcDark:o.Il.fromHex("#FFCC00").transparent(.8),hcLight:o.Il.fromHex("#FFCC00").transparent(.8)},b.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),Be=g("editorInfo.background",null,b.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),n=g("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},b.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),ut=g("editorInfo.border",{dark:null,light:null,hcDark:o.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},b.NC("infoBorder","If set, color of double underlines for infos in the editor.")),kt=g("editorHint.foreground",{dark:o.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},b.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),jt=g("editorHint.border",{dark:null,light:null,hcDark:o.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},b.NC("hintBorder","If set, color of double underlines for hints in the editor.")),Yt=g("editorLink.activeForeground",{dark:"#4E94CE",light:o.Il.blue,hcDark:o.Il.cyan,hcLight:"#292929"},b.NC("activeLinkForeground","Color of active links.")),cn=g("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},b.NC("editorSelectionBackground","Color of the editor selection.")),un=g("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:o.Il.white},b.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Zt=g("editor.inactiveSelectionBackground",{light:S(cn,.5),dark:S(cn,.5),hcDark:S(cn,.7),hcLight:S(cn,.5)},b.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Ht=g("editor.selectionHighlightBackground",{light:M(cn,le,.3,.6),dark:M(cn,le,.3,.6),hcDark:null,hcLight:null},b.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),hn=g("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},b.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),Wn=g("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},b.NC("editorFindMatch","Color of the current search match.")),Tn=g("editor.findMatchForeground",null,b.NC("editorFindMatchForeground","Text color of the current search match.")),Qn=g("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},b.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Vi=g("editor.findMatchHighlightForeground",null,b.NC("findMatchHighlightForeground","Foreground color of the other search matches."),!0),Ui=g("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},b.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ai=g("editor.findMatchBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},b.NC("editorFindMatchBorder","Border color of the current search match.")),ni=g("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:Me,hcLight:Me},b.NC("findMatchHighlightBorder","Border color of the other search matches.")),On=g("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:S(Me,.4),hcLight:S(Me,.4)},b.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Ti=g("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},b.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Un=g("editorHoverWidget.background",ht,b.NC("hoverBackground","Background color of the editor hover.")),kn=g("editorHoverWidget.foreground",mt,b.NC("hoverForeground","Foreground color of the editor hover.")),jn=g("editorHoverWidget.border",st,b.NC("hoverBorder","Border color of the editor hover.")),ii=g("editorHoverWidget.statusBarBackground",{dark:T(Un,.2),light:fe(Un,.05),hcDark:ht,hcLight:ht},b.NC("statusBarBackground","Background color of the editor hover status bar.")),zi=g("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:o.Il.white,hcLight:o.Il.black},b.NC("editorInlayHintForeground","Foreground color of inline hints")),Ln=g("editorInlayHint.background",{dark:S(We,.1),light:S(We,.1),hcDark:S(o.Il.white,.1),hcLight:S(We,.1)},b.NC("editorInlayHintBackground","Background color of inline hints")),tr=g("editorInlayHint.typeForeground",zi,b.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),pi=g("editorInlayHint.typeBackground",Ln,b.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),hi=g("editorInlayHint.parameterForeground",zi,b.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),Kn=g("editorInlayHint.parameterBackground",Ln,b.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Oe=g("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},b.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),q=g("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},b.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),ye=g("editorLightBulbAi.foreground",Oe,b.NC("editorLightBulbAiForeground","The color used for the lightbulb AI icon.")),Je=g("editor.snippetTabstopHighlightBackground",{dark:new o.Il(new o.VS(124,124,124,.3)),light:new o.Il(new o.VS(10,50,100,.2)),hcDark:new o.Il(new o.VS(124,124,124,.3)),hcLight:new o.Il(new o.VS(10,50,100,.2))},b.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),ft=g("editor.snippetTabstopHighlightBorder",null,b.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Nt=g("editor.snippetFinalTabstopHighlightBackground",null,b.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),Vt=g("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new o.Il(new o.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},b.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),rn=new o.Il(new o.VS(155,185,85,.2)),Bn=new o.Il(new o.VS(255,0,0,.2)),En=g("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},b.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Pn=g("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},b.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Si=g("diffEditor.insertedLineBackground",{dark:rn,light:rn,hcDark:null,hcLight:null},b.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Zn=g("diffEditor.removedLineBackground",{dark:Bn,light:Bn,hcDark:null,hcLight:null},b.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),ei=g("diffEditorGutter.insertedLineBackground",null,b.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),Xn=g("diffEditorGutter.removedLineBackground",null,b.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Bi=g("diffEditorOverview.insertedForeground",null,b.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),Wi=g("diffEditorOverview.removedForeground",null,b.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),fi=g("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},b.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),lr=g("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},b.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),ji=g("diffEditor.border",{dark:null,light:null,hcDark:se,hcLight:se},b.NC("diffEditorBorder","Border color between the two text editors.")),oi=g("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},b.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),ri=g("diffEditor.unchangedRegionBackground","sideBar.background",b.NC("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),di=g("diffEditor.unchangedRegionForeground","foreground",b.NC("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),Hi=g("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},b.NC("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),Ne=g("widget.shadow",{dark:S(o.Il.black,.36),light:S(o.Il.black,.16),hcDark:null,hcLight:null},b.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),u=g("widget.border",{dark:null,light:null,hcDark:se,hcLight:se},b.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),v=g("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},b.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),$=g("toolbar.hoverOutline",{dark:null,light:null,hcDark:Me,hcLight:Me},b.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),re=g("toolbar.activeBackground",{dark:T(v,.1),light:fe(v,.1),hcDark:null,hcLight:null},b.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),he=g("breadcrumb.foreground",S(Q,.8),b.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Le=g("breadcrumb.background",le,b.NC("breadcrumbsBackground","Background color of breadcrumb items.")),De=g("breadcrumb.focusForeground",{light:fe(Q,.2),dark:T(Q,.1),hcDark:T(Q,.1),hcLight:T(Q,.1)},b.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),be=g("breadcrumb.activeSelectionForeground",{light:fe(Q,.2),dark:T(Q,.1),hcDark:T(Q,.1),hcLight:T(Q,.1)},b.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Ae=g("breadcrumbPicker.background",ht,b.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),Ke=.5,Ze=o.Il.fromHex("#40C8AE").transparent(Ke),_e=o.Il.fromHex("#40A6FF").transparent(Ke),at=o.Il.fromHex("#606060").transparent(.4),ct=.4,xt=1,Tt=g("merge.currentHeaderBackground",{dark:Ze,light:Ze,hcDark:null,hcLight:null},b.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),zt=g("merge.currentContentBackground",S(Tt,ct),b.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Gt=g("merge.incomingHeaderBackground",{dark:_e,light:_e,hcDark:null,hcLight:null},b.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ft=g("merge.incomingContentBackground",S(Gt,ct),b.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),qt=g("merge.commonHeaderBackground",{dark:at,light:at,hcDark:null,hcLight:null},b.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Ot=g("merge.commonContentBackground",S(qt,ct),b.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Kt=g("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},b.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),en=g("editorOverviewRuler.currentContentForeground",{dark:S(Tt,xt),light:S(Tt,xt),hcDark:Kt,hcLight:Kt},b.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Wt=g("editorOverviewRuler.incomingContentForeground",{dark:S(Gt,xt),light:S(Gt,xt),hcDark:Kt,hcLight:Kt},b.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Nn=g("editorOverviewRuler.commonContentForeground",{dark:S(qt,xt),light:S(qt,xt),hcDark:Kt,hcLight:Kt},b.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),Hn=g("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},b.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),mn=g("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",b.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),on=g("problemsErrorIcon.foreground",Lt,b.NC("problemsErrorIconForeground","The color used for the problems error icon.")),ai=g("problemsWarningIcon.foreground",m,b.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Gn=g("problemsInfoIcon.foreground",n,b.NC("problemsInfoIconForeground","The color used for the problems info icon.")),bi=g("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},b.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),_i=g("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},b.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Ei=g("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},b.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),xr=g("minimap.infoHighlight",{dark:n,light:n,hcDark:ut,hcLight:ut},b.NC("minimapInfo","Minimap marker color for infos.")),wr=g("minimap.warningHighlight",{dark:m,light:m,hcDark:H,hcLight:H},b.NC("overviewRuleWarning","Minimap marker color for warnings.")),ur=g("minimap.errorHighlight",{dark:new o.Il(new o.VS(255,18,18,.7)),light:new o.Il(new o.VS(255,18,18,.7)),hcDark:new o.Il(new o.VS(255,50,50,1)),hcLight:"#B5200D"},b.NC("minimapError","Minimap marker color for errors.")),qn=g("minimap.background",null,b.NC("minimapBackground","Minimap background color.")),cr=g("minimap.foregroundOpacity",o.Il.fromHex("#000f"),b.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Rn=g("minimapSlider.background",S(ot,.5),b.NC("minimapSliderBackground","Minimap slider background color.")),es=g("minimapSlider.hoverBackground",S(lt,.5),b.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),vi=g("minimapSlider.activeBackground",S(Dt,.5),b.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),ts=g("charts.foreground",Q,b.NC("chartsForeground","The foreground color used in charts.")),qi=g("charts.lines",S(Q,.5),b.NC("chartsLines","The color used for horizontal lines in charts.")),Dn=g("charts.red",Lt,b.NC("chartsRed","The red color used in chart visualizations.")),zr=g("charts.blue",n,b.NC("chartsBlue","The blue color used in chart visualizations.")),ns=g("charts.yellow",m,b.NC("chartsYellow","The yellow color used in chart visualizations.")),Sr=g("charts.orange",bi,b.NC("chartsOrange","The orange color used in chart visualizations.")),Ci=g("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},b.NC("chartsGreen","The green color used in chart visualizations.")),hr=g("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},b.NC("chartsPurple","The purple color used in chart visualizations.")),fr=g("input.background",{dark:"#3C3C3C",light:o.Il.white,hcDark:o.Il.black,hcLight:o.Il.white},b.NC("inputBoxBackground","Input box background.")),Er=g("input.foreground",Q,b.NC("inputBoxForeground","Input box foreground.")),is=g("input.border",{dark:null,light:null,hcDark:se,hcLight:se},b.NC("inputBoxBorder","Input box border.")),nr=g("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:se,hcLight:se},b.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),Di=g("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},b.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),dr=g("inputOption.activeBackground",{dark:S(ie,.4),light:S(ie,.2),hcDark:o.Il.transparent,hcLight:o.Il.transparent},b.NC("inputOption.activeBackground","Background hover color of options in input fields.")),Mn=g("inputOption.activeForeground",{dark:o.Il.white,light:o.Il.black,hcDark:Q,hcLight:Q},b.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),rs=g("input.placeholderForeground",{light:S(Q,.5),dark:S(Q,.5),hcDark:S(Q,.7),hcLight:S(Q,.7)},b.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),ss=g("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:o.Il.black,hcLight:o.Il.white},b.NC("inputValidationInfoBackground","Input validation background color for information severity.")),Ri=g("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Q},b.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Nr=g("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:se,hcLight:se},b.NC("inputValidationInfoBorder","Input validation border color for information severity.")),Jn=g("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:o.Il.black,hcLight:o.Il.white},b.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),vn=g("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Q},b.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Fn=g("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:se,hcLight:se},b.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),fn=g("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:o.Il.black,hcLight:o.Il.white},b.NC("inputValidationErrorBackground","Input validation background color for error severity.")),os=g("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Q},b.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),Wr=g("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:se,hcLight:se},b.NC("inputValidationErrorBorder","Input validation border color for error severity.")),ir=g("dropdown.background",{dark:"#3C3C3C",light:o.Il.white,hcDark:o.Il.black,hcLight:o.Il.white},b.NC("dropdownBackground","Dropdown background.")),jr=g("dropdown.listBackground",{dark:null,light:null,hcDark:o.Il.black,hcLight:o.Il.white},b.NC("dropdownListBackground","Dropdown list background.")),Ir=g("dropdown.foreground",{dark:"#F0F0F0",light:Q,hcDark:o.Il.white,hcLight:Q},b.NC("dropdownForeground","Dropdown foreground.")),Ar=g("dropdown.border",{dark:ir,light:"#CECECE",hcDark:se,hcLight:se},b.NC("dropdownBorder","Dropdown border.")),Ji=g("button.foreground",o.Il.white,b.NC("buttonForeground","Button foreground color.")),Tr=g("button.separator",S(Ji,.4),b.NC("buttonSeparator","Button separator color.")),Qi=g("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},b.NC("buttonBackground","Button background color.")),Xt=g("button.hoverBackground",{dark:T(Qi,.2),light:fe(Qi,.2),hcDark:Qi,hcLight:Qi},b.NC("buttonHoverBackground","Button background color when hovering.")),ki=g("button.border",se,b.NC("buttonBorder","Button border color.")),Hr=g("button.secondaryForeground",{dark:o.Il.white,light:o.Il.white,hcDark:o.Il.white,hcLight:Q},b.NC("buttonSecondaryForeground","Secondary button foreground color.")),li=g("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:o.Il.white},b.NC("buttonSecondaryBackground","Secondary button background color.")),as=g("button.secondaryHoverBackground",{dark:T(li,.2),light:fe(li,.2),hcDark:null,hcLight:null},b.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),rr=g("radio.activeForeground",Mn,b.NC("radioActiveForeground","Foreground color of active radio option.")),Br=g("radio.activeBackground",dr,b.NC("radioBackground","Background color of active radio option.")),zn=g("radio.activeBorder",nr,b.NC("radioActiveBorder","Border color of the active radio option.")),gr=g("radio.inactiveForeground",null,b.NC("radioInactiveForeground","Foreground color of inactive radio option.")),ls=g("radio.inactiveBackground",null,b.NC("radioInactiveBackground","Background color of inactive radio option.")),us=g("radio.inactiveBorder",{light:S(rr,.2),dark:S(rr,.2),hcDark:S(rr,.4),hcLight:S(rr,.2)},b.NC("radioInactiveBorder","Border color of the inactive radio option.")),$r=g("radio.inactiveHoverBackground",Di,b.NC("radioHoverBackground","Background color of inactive active radio option when hovering.")),cs=g("checkbox.background",ir,b.NC("checkbox.background","Background color of checkbox widget.")),Gr=g("checkbox.selectBackground",ht,b.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),qr=g("checkbox.foreground",Ir,b.NC("checkbox.foreground","Foreground color of checkbox widget.")),mr=g("checkbox.border",Ar,b.NC("checkbox.border","Border color of checkbox widget.")),Ki=g("checkbox.selectBorder",G,b.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),sr=g("keybindingLabel.background",{dark:new o.Il(new o.VS(128,128,128,.17)),light:new o.Il(new o.VS(221,221,221,.4)),hcDark:o.Il.transparent,hcLight:o.Il.transparent},b.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Jr=g("keybindingLabel.foreground",{dark:o.Il.fromHex("#CCCCCC"),light:o.Il.fromHex("#555555"),hcDark:o.Il.white,hcLight:Q},b.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),Mi=g("keybindingLabel.border",{dark:new o.Il(new o.VS(51,51,51,.6)),light:new o.Il(new o.VS(204,204,204,.4)),hcDark:new o.Il(new o.VS(111,195,223)),hcLight:se},b.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),Li=g("keybindingLabel.bottomBorder",{dark:new o.Il(new o.VS(68,68,68,.6)),light:new o.Il(new o.VS(187,187,187,.4)),hcDark:new o.Il(new o.VS(111,195,223)),hcLight:Q},b.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),hs=g("list.focusBackground",null,b.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Dr=g("list.focusForeground",null,b.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ut=g("list.focusOutline",{dark:ie,light:ie,hcDark:Me,hcLight:Me},b.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),pr=g("list.focusAndSelectionOutline",null,b.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),$i=g("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},b.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Xi=g("list.activeSelectionForeground",{dark:o.Il.white,light:o.Il.white,hcDark:null,hcLight:null},b.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Zi=g("list.activeSelectionIconForeground",null,b.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Rr=g("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},b.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),or=g("list.inactiveSelectionForeground",null,b.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yi=g("list.inactiveSelectionIconForeground",null,b.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),br=g("list.inactiveFocusBackground",null,b.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),r=g("list.inactiveFocusOutline",null,b.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),l=g("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:o.Il.white.transparent(.1),hcLight:o.Il.fromHex("#0F4A85").transparent(.1)},b.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),h=g("list.hoverForeground",null,b.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),c=g("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},b.NC("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),d=g("list.dropBetweenBackground",{dark:G,light:G,hcDark:null,hcLight:null},b.NC("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),E=g("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:ie,hcLight:ie},b.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),te=g("list.focusHighlightForeground",{dark:E,light:A($i,E,"#BBE7FF"),hcDark:E,hcLight:E},b.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Ie=g("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},b.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),oe=g("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},b.NC("listErrorForeground","Foreground color of list items containing errors.")),de=g("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},b.NC("listWarningForeground","Foreground color of list items containing warnings.")),we=g("listFilterWidget.background",{light:fe(ht,0),dark:T(ht,0),hcDark:ht,hcLight:ht},b.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),pe=g("listFilterWidget.outline",{dark:o.Il.transparent,light:o.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},b.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),Ee=g("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:se,hcLight:se},b.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),Pe=g("listFilterWidget.shadow",Ne,b.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),Ve=g("list.filterMatchBackground",{dark:Qn,light:Qn,hcDark:null,hcLight:null},b.NC("listFilterMatchHighlight","Background color of the filtered match.")),$e=g("list.filterMatchBorder",{dark:ni,light:ni,hcDark:se,hcLight:Me},b.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),et=g("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},b.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized.")),dt=g("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},b.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),yt=g("tree.inactiveIndentGuidesStroke",S(dt,.4),b.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),Qe=g("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},b.NC("tableColumnsBorder","Table border color between columns.")),gt=g("tree.tableOddRowsBackground",{dark:S(Q,.04),light:S(Q,.04),hcDark:null,hcLight:null},b.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),rt=g("editorActionList.background",ht,b.NC("editorActionListBackground","Action List background color.")),Et=g("editorActionList.foreground",mt,b.NC("editorActionListForeground","Action List foreground color.")),It=g("editorActionList.focusForeground",Xi,b.NC("editorActionListFocusForeground","Action List foreground color for the focused item.")),Mt=g("editorActionList.focusBackground",$i,b.NC("editorActionListFocusBackground","Action List background color for the focused item.")),$t=g("menu.border",{dark:null,light:null,hcDark:se,hcLight:se},b.NC("menuBorder","Border color of menus.")),ln=g("menu.foreground",Ir,b.NC("menuForeground","Foreground color of menu items.")),At=g("menu.background",ir,b.NC("menuBackground","Background color of menu items.")),it=g("menu.selectionForeground",Xi,b.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),St=g("menu.selectionBackground",$i,b.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Pt=g("menu.selectionBorder",{dark:null,light:null,hcDark:Me,hcLight:Me},b.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),wn=g("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:se,hcLight:se},b.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),pn=g("quickInput.background",ht,b.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),dn=g("quickInput.foreground",mt,b.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),ui=g("quickInputTitle.background",{dark:new o.Il(new o.VS(255,255,255,.105)),light:new o.Il(new o.VS(0,0,0,.06)),hcDark:"#000000",hcLight:o.Il.white},b.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),ci=g("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:o.Il.white,hcLight:"#0F4A85"},b.NC("pickerGroupForeground","Quick picker color for grouping labels.")),$n=g("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:o.Il.white,hcLight:"#0F4A85"},b.NC("pickerGroupBorder","Quick picker color for grouping borders.")),yi=g("quickInput.list.focusBackground",null,"",void 0,b.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),Rs=g("quickInputList.focusForeground",Xi,b.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Ms=g("quickInputList.focusIconForeground",Zi,b.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),Os=g("quickInputList.focusBackground",{dark:w(yi,$i),light:w(yi,$i),hcDark:null,hcLight:null},b.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),Ps=g("search.resultsInfoForeground",{light:Q,dark:S(Q,.65),hcDark:Q,hcLight:Q},b.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),Ls=g("searchEditor.findMatchBackground",{light:S(Qn,.66),dark:S(Qn,.66),hcDark:Qn,hcLight:Qn},b.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),ys=g("searchEditor.findMatchBorder",{light:S(ni,.66),dark:S(ni,.66),hcDark:ni,hcLight:ni},b.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."))},2357:function(vt,Se,N){"use strict";N.d(Se,{XE:function(){return _},Ic:function(){return k},EN:function(){return B}});var O=N(3130),K=N(338),o=N(1721),U=N(4311),I;(function(g){g.DARK="dark",g.LIGHT="light",g.HIGH_CONTRAST_DARK="hcDark",g.HIGH_CONTRAST_LIGHT="hcLight"})(I||(I={}));function z(g){return g===I.HIGH_CONTRAST_DARK||g===I.HIGH_CONTRAST_LIGHT}function b(g){return g===I.DARK||g===I.HIGH_CONTRAST_DARK}const _=(0,o.yh)("themeService");function B(g){return{id:g}}function ae(g){switch(g){case ColorScheme.DARK:return"vs-dark";case ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const J={ThemingContribution:"base.contributions.theming"};class Z{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new O.Q5}onColorThemeChange(ue){return this.themingParticipants.push(ue),this.onThemingParticipantAddedEmitter.fire(ue),(0,K.OF)(()=>{const fe=this.themingParticipants.indexOf(ue);this.themingParticipants.splice(fe,1)})}getThemingParticipants(){return this.themingParticipants}}const y=new Z;U.B.add(J.ThemingContribution,y);function k(g){return y.onColorThemeChange(g)}class x extends null{constructor(ue){super(),this.themeService=ue,this.theme=ue.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(fe=>this.onThemeChange(fe)))}onThemeChange(ue){this.theme=ue,this.updateStyles()}updateStyles(){}}},4224:function(vt){var Se=vt.exports={},N,O;function K(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?N=setTimeout:N=K}catch(k){N=K}try{typeof clearTimeout=="function"?O=clearTimeout:O=o}catch(k){O=o}})();function U(k){if(N===setTimeout)return setTimeout(k,0);if((N===K||!N)&&setTimeout)return N=setTimeout,setTimeout(k,0);try{return N(k,0)}catch(x){try{return N.call(null,k,0)}catch(g){return N.call(this,k,0)}}}function I(k){if(O===clearTimeout)return clearTimeout(k);if((O===o||!O)&&clearTimeout)return O=clearTimeout,clearTimeout(k);try{return O(k)}catch(x){try{return O.call(null,k)}catch(g){return O.call(this,k)}}}var z=[],b=!1,_,B=-1;function ae(){!b||!_||(b=!1,_.length?z=_.concat(z):B=-1,z.length&&J())}function J(){if(!b){var k=U(ae);b=!0;for(var x=z.length;x;){for(_=z,z=[];++B<x;)_&&_[B].run();B=-1,x=z.length}_=null,b=!1,I(k)}}Se.nextTick=function(k){var x=new Array(arguments.length-1);if(arguments.length>1)for(var g=1;g<arguments.length;g++)x[g-1]=arguments[g];z.push(new Z(k,x)),z.length===1&&!b&&U(J)};function Z(k,x){this.fun=k,this.array=x}Z.prototype.run=function(){this.fun.apply(null,this.array)},Se.title="browser",Se.browser=!0,Se.env={},Se.argv=[],Se.version="",Se.versions={};function y(){}Se.on=y,Se.addListener=y,Se.once=y,Se.off=y,Se.removeListener=y,Se.removeAllListeners=y,Se.emit=y,Se.prependListener=y,Se.prependOnceListener=y,Se.listeners=function(k){return[]},Se.binding=function(k){throw new Error("process.binding is not supported")},Se.cwd=function(){return"/"},Se.chdir=function(k){throw new Error("process.chdir is not supported")},Se.umask=function(){return 0}}},gn={};function _n(vt){var Se=gn[vt];if(Se!==void 0)return Se.exports;var N=gn[vt]={exports:{}};return xn[vt](N,N.exports,_n),N.exports}(function(){_n.d=function(vt,Se){for(var N in Se)_n.o(Se,N)&&!_n.o(vt,N)&&Object.defineProperty(vt,N,{enumerable:!0,get:Se[N]})}})(),function(){_n.e=function(){return Promise.resolve()}}(),function(){_n.o=function(vt,Se){return Object.prototype.hasOwnProperty.call(vt,Se)}}(),function(){_n.r=function(vt){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(vt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(vt,"__esModule",{value:!0})}}();var Ii={};(function(){"use strict";var vt=_n(223),Se=_n(1945),N=_n(7570);let O=!1;function K(r){if(O)return;O=!0;const l=new vt.SimpleWorkerServer(h=>{globalThis.postMessage(h)},h=>new Se.EditorSimpleWorker(N.EditorWorkerHost.getChannel(h),r));globalThis.onmessage=h=>{l.onmessage(h.data)}}globalThis.onmessage=r=>{O||K(null)};var o=_n(4224);function U(r,l=!1){const h=r.length;let c=0,d="",E=0,te=16,Ie=0,oe=0,de=0,we=0,pe=0;function Ee(Qe,gt){let rt=0,Et=0;for(;rt<Qe||!gt;){let It=r.charCodeAt(c);if(It>=48&&It<=57)Et=Et*16+It-48;else if(It>=65&&It<=70)Et=Et*16+It-65+10;else if(It>=97&&It<=102)Et=Et*16+It-97+10;else break;c++,rt++}return rt<Qe&&(Et=-1),Et}function Pe(Qe){c=Qe,d="",E=0,te=16,pe=0}function Ve(){let Qe=c;if(r.charCodeAt(c)===48)c++;else for(c++;c<r.length&&b(r.charCodeAt(c));)c++;if(c<r.length&&r.charCodeAt(c)===46)if(c++,c<r.length&&b(r.charCodeAt(c)))for(c++;c<r.length&&b(r.charCodeAt(c));)c++;else return pe=3,r.substring(Qe,c);let gt=c;if(c<r.length&&(r.charCodeAt(c)===69||r.charCodeAt(c)===101))if(c++,(c<r.length&&r.charCodeAt(c)===43||r.charCodeAt(c)===45)&&c++,c<r.length&&b(r.charCodeAt(c))){for(c++;c<r.length&&b(r.charCodeAt(c));)c++;gt=c}else pe=3;return r.substring(Qe,gt)}function $e(){let Qe="",gt=c;for(;;){if(c>=h){Qe+=r.substring(gt,c),pe=2;break}const rt=r.charCodeAt(c);if(rt===34){Qe+=r.substring(gt,c),c++;break}if(rt===92){if(Qe+=r.substring(gt,c),c++,c>=h){pe=2;break}switch(r.charCodeAt(c++)){case 34:Qe+='"';break;case 92:Qe+="\\";break;case 47:Qe+="/";break;case 98:Qe+="\b";break;case 102:Qe+="\f";break;case 110:Qe+=`
`;break;case 114:Qe+="\r";break;case 116:Qe+="	";break;case 117:const It=Ee(4,!0);It>=0?Qe+=String.fromCharCode(It):pe=4;break;default:pe=5}gt=c;continue}if(rt>=0&&rt<=31)if(z(rt)){Qe+=r.substring(gt,c),pe=2;break}else pe=6;c++}return Qe}function et(){if(d="",pe=0,E=c,oe=Ie,we=de,c>=h)return E=h,te=17;let Qe=r.charCodeAt(c);if(I(Qe)){do c++,d+=String.fromCharCode(Qe),Qe=r.charCodeAt(c);while(I(Qe));return te=15}if(z(Qe))return c++,d+=String.fromCharCode(Qe),Qe===13&&r.charCodeAt(c)===10&&(c++,d+=`
`),Ie++,de=c,te=14;switch(Qe){case 123:return c++,te=1;case 125:return c++,te=2;case 91:return c++,te=3;case 93:return c++,te=4;case 58:return c++,te=6;case 44:return c++,te=5;case 34:return c++,d=$e(),te=10;case 47:const gt=c-1;if(r.charCodeAt(c+1)===47){for(c+=2;c<h&&!z(r.charCodeAt(c));)c++;return d=r.substring(gt,c),te=12}if(r.charCodeAt(c+1)===42){c+=2;const rt=h-1;let Et=!1;for(;c<rt;){const It=r.charCodeAt(c);if(It===42&&r.charCodeAt(c+1)===47){c+=2,Et=!0;break}c++,z(It)&&(It===13&&r.charCodeAt(c)===10&&c++,Ie++,de=c)}return Et||(c++,pe=1),d=r.substring(gt,c),te=13}return d+=String.fromCharCode(Qe),c++,te=16;case 45:if(d+=String.fromCharCode(Qe),c++,c===h||!b(r.charCodeAt(c)))return te=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return d+=Ve(),te=11;default:for(;c<h&&dt(Qe);)c++,Qe=r.charCodeAt(c);if(E!==c){switch(d=r.substring(E,c),d){case"true":return te=8;case"false":return te=9;case"null":return te=7}return te=16}return d+=String.fromCharCode(Qe),c++,te=16}}function dt(Qe){if(I(Qe)||z(Qe))return!1;switch(Qe){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function yt(){let Qe;do Qe=et();while(Qe>=12&&Qe<=15);return Qe}return{setPosition:Pe,getPosition:()=>c,scan:l?yt:et,getToken:()=>te,getTokenValue:()=>d,getTokenOffset:()=>E,getTokenLength:()=>c-E,getTokenStartLine:()=>oe,getTokenStartCharacter:()=>E-we,getTokenError:()=>pe}}function I(r){return r===32||r===9}function z(r){return r===10||r===13}function b(r){return r>=48&&r<=57}var _;(function(r){r[r.lineFeed=10]="lineFeed",r[r.carriageReturn=13]="carriageReturn",r[r.space=32]="space",r[r._0=48]="_0",r[r._1=49]="_1",r[r._2=50]="_2",r[r._3=51]="_3",r[r._4=52]="_4",r[r._5=53]="_5",r[r._6=54]="_6",r[r._7=55]="_7",r[r._8=56]="_8",r[r._9=57]="_9",r[r.a=97]="a",r[r.b=98]="b",r[r.c=99]="c",r[r.d=100]="d",r[r.e=101]="e",r[r.f=102]="f",r[r.g=103]="g",r[r.h=104]="h",r[r.i=105]="i",r[r.j=106]="j",r[r.k=107]="k",r[r.l=108]="l",r[r.m=109]="m",r[r.n=110]="n",r[r.o=111]="o",r[r.p=112]="p",r[r.q=113]="q",r[r.r=114]="r",r[r.s=115]="s",r[r.t=116]="t",r[r.u=117]="u",r[r.v=118]="v",r[r.w=119]="w",r[r.x=120]="x",r[r.y=121]="y",r[r.z=122]="z",r[r.A=65]="A",r[r.B=66]="B",r[r.C=67]="C",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.G=71]="G",r[r.H=72]="H",r[r.I=73]="I",r[r.J=74]="J",r[r.K=75]="K",r[r.L=76]="L",r[r.M=77]="M",r[r.N=78]="N",r[r.O=79]="O",r[r.P=80]="P",r[r.Q=81]="Q",r[r.R=82]="R",r[r.S=83]="S",r[r.T=84]="T",r[r.U=85]="U",r[r.V=86]="V",r[r.W=87]="W",r[r.X=88]="X",r[r.Y=89]="Y",r[r.Z=90]="Z",r[r.asterisk=42]="asterisk",r[r.backslash=92]="backslash",r[r.closeBrace=125]="closeBrace",r[r.closeBracket=93]="closeBracket",r[r.colon=58]="colon",r[r.comma=44]="comma",r[r.dot=46]="dot",r[r.doubleQuote=34]="doubleQuote",r[r.minus=45]="minus",r[r.openBrace=123]="openBrace",r[r.openBracket=91]="openBracket",r[r.plus=43]="plus",r[r.slash=47]="slash",r[r.formFeed=12]="formFeed",r[r.tab=9]="tab"})(_||(_={}));var B=new Array(20).fill(0).map((r,l)=>" ".repeat(l)),ae=200,J={" ":{"\n":new Array(ae).fill(0).map((r,l)=>`
`+" ".repeat(l)),"\r":new Array(ae).fill(0).map((r,l)=>"\r"+" ".repeat(l)),"\r\n":new Array(ae).fill(0).map((r,l)=>`\r
`+" ".repeat(l))},"	":{"\n":new Array(ae).fill(0).map((r,l)=>`
`+"	".repeat(l)),"\r":new Array(ae).fill(0).map((r,l)=>"\r"+"	".repeat(l)),"\r\n":new Array(ae).fill(0).map((r,l)=>`\r
`+"	".repeat(l))}},Z=[`
`,"\r",`\r
`];function y(r,l,h){var rt;let c,d,E,te,Ie;if(l){for(te=l.offset,Ie=te+l.length,E=te;E>0&&!ue(r,E-1);)E--;let Et=Ie;for(;Et<r.length&&!ue(r,Et);)Et++;d=r.substring(E,Et),c=x(d,h)}else d=r,c=0,E=0,te=0,Ie=r.length;const oe=g(h,r),de=Z.includes(oe);let we=0,pe=0,Ee;h.insertSpaces?Ee=(rt=B[h.tabSize||4])!=null?rt:k(B[1],h.tabSize||4):Ee="	";const Pe=Ee==="	"?"	":" ";let Ve=U(d,!1),$e=!1;function et(){if(we>1)return k(oe,we)+k(Ee,c+pe);const Et=Ee.length*(c+pe);return!de||Et>J[Pe][oe].length?oe+k(Ee,c+pe):Et<=0?oe:J[Pe][oe][Et]}function dt(){let Et=Ve.scan();for(we=0;Et===15||Et===14;)Et===14&&h.keepLines?we+=1:Et===14&&(we=1),Et=Ve.scan();return $e=Et===16||Ve.getTokenError()!==0,Et}const yt=[];function Qe(Et,It,Mt){!$e&&(!l||It<Ie&&Mt>te)&&r.substring(It,Mt)!==Et&&yt.push({offset:It,length:Mt-It,content:Et})}let gt=dt();if(h.keepLines&&we>0&&Qe(k(oe,we),0,0),gt!==17){let Et=Ve.getTokenOffset()+E,It=Ee.length*c<20&&h.insertSpaces?B[Ee.length*c]:k(Ee,c);Qe(It,E,Et)}for(;gt!==17;){let Et=Ve.getTokenOffset()+Ve.getTokenLength()+E,It=dt(),Mt="",$t=!1;for(;we===0&&(It===12||It===13);){let At=Ve.getTokenOffset()+E;Qe(B[1],Et,At),Et=Ve.getTokenOffset()+Ve.getTokenLength()+E,$t=It===12,Mt=$t?et():"",It=dt()}if(It===2)gt!==1&&pe--,h.keepLines&&we>0||!h.keepLines&&gt!==1?Mt=et():h.keepLines&&(Mt=B[1]);else if(It===4)gt!==3&&pe--,h.keepLines&&we>0||!h.keepLines&&gt!==3?Mt=et():h.keepLines&&(Mt=B[1]);else{switch(gt){case 3:case 1:pe++,h.keepLines&&we>0||!h.keepLines?Mt=et():Mt=B[1];break;case 5:h.keepLines&&we>0||!h.keepLines?Mt=et():Mt=B[1];break;case 12:Mt=et();break;case 13:we>0?Mt=et():$t||(Mt=B[1]);break;case 6:h.keepLines&&we>0?Mt=et():$t||(Mt=B[1]);break;case 10:h.keepLines&&we>0?Mt=et():It===6&&!$t&&(Mt="");break;case 7:case 8:case 9:case 11:case 2:case 4:h.keepLines&&we>0?Mt=et():(It===12||It===13)&&!$t?Mt=B[1]:It!==5&&It!==17&&($e=!0);break;case 16:$e=!0;break}we>0&&(It===12||It===13)&&(Mt=et())}It===17&&(h.keepLines&&we>0?Mt=et():Mt=h.insertFinalNewline?oe:"");const ln=Ve.getTokenOffset()+E;Qe(Mt,Et,ln),gt=It}return yt}function k(r,l){let h="";for(let c=0;c<l;c++)h+=r;return h}function x(r,l){let h=0,c=0;const d=l.tabSize||4;for(;h<r.length;){let E=r.charAt(h);if(E===B[1])c++;else if(E==="	")c+=d;else break;h++}return Math.floor(c/d)}function g(r,l){for(let h=0;h<l.length;h++){const c=l.charAt(h);if(c==="\r")return h+1<l.length&&l.charAt(h+1)===`
`?`\r
`:"\r";if(c===`
`)return`
`}return r&&r.eol||`
`}function ue(r,l){return`\r
`.indexOf(r.charAt(l))!==-1}var fe;(function(r){r.DEFAULT={allowTrailingComma:!1}})(fe||(fe={}));function T(r,l=[],h=fe.DEFAULT){let c=null,d=[];const E=[];function te(oe){Array.isArray(d)?d.push(oe):c!==null&&(d[c]=oe)}return C(r,{onObjectBegin:()=>{const oe={};te(oe),E.push(d),d=oe,c=null},onObjectProperty:oe=>{c=oe},onObjectEnd:()=>{d=E.pop()},onArrayBegin:()=>{const oe=[];te(oe),E.push(d),d=oe,c=null},onArrayEnd:()=>{d=E.pop()},onLiteralValue:te,onError:(oe,de,we)=>{l.push({error:oe,offset:de,length:we})}},h),d[0]}function S(r){if(!r.parent||!r.parent.children)return[];const l=S(r.parent);if(r.parent.type==="property"){const h=r.parent.children[0].value;l.push(h)}else if(r.parent.type==="array"){const h=r.parent.children.indexOf(r);h!==-1&&l.push(h)}return l}function w(r){switch(r.type){case"array":return r.children.map(w);case"object":const l=Object.create(null);for(let h of r.children){const c=h.children[1];c&&(l[h.children[0].value]=w(c))}return l;case"null":case"string":case"number":case"boolean":return r.value;default:return}}function A(r,l,h=!1){return l>=r.offset&&l<r.offset+r.length||h&&l===r.offset+r.length}function M(r,l,h=!1){if(A(r,l,h)){const c=r.children;if(Array.isArray(c))for(let d=0;d<c.length&&c[d].offset<=l;d++){const E=M(c[d],l,h);if(E)return E}return r}}function C(r,l,h=fe.DEFAULT){const c=U(r,!1),d=[];function E(it){return it?()=>it(c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter()):()=>!0}function te(it){return it?()=>it(c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter(),()=>d.slice()):()=>!0}function Ie(it){return it?St=>it(St,c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter()):()=>!0}function oe(it){return it?St=>it(St,c.getTokenOffset(),c.getTokenLength(),c.getTokenStartLine(),c.getTokenStartCharacter(),()=>d.slice()):()=>!0}const de=te(l.onObjectBegin),we=oe(l.onObjectProperty),pe=E(l.onObjectEnd),Ee=te(l.onArrayBegin),Pe=E(l.onArrayEnd),Ve=oe(l.onLiteralValue),$e=Ie(l.onSeparator),et=E(l.onComment),dt=Ie(l.onError),yt=h&&h.disallowComments,Qe=h&&h.allowTrailingComma;function gt(){for(;;){const it=c.scan();switch(c.getTokenError()){case 4:rt(14);break;case 5:rt(15);break;case 3:rt(13);break;case 1:yt||rt(11);break;case 2:rt(12);break;case 6:rt(16);break}switch(it){case 12:case 13:yt?rt(10):et();break;case 16:rt(1);break;case 15:case 14:break;default:return it}}}function rt(it,St=[],Pt=[]){if(dt(it),St.length+Pt.length>0){let wn=c.getToken();for(;wn!==17;){if(St.indexOf(wn)!==-1){gt();break}else if(Pt.indexOf(wn)!==-1)break;wn=gt()}}}function Et(it){const St=c.getTokenValue();return it?Ve(St):(we(St),d.push(St)),gt(),!0}function It(){switch(c.getToken()){case 11:const it=c.getTokenValue();let St=Number(it);isNaN(St)&&(rt(2),St=0),Ve(St);break;case 7:Ve(null);break;case 8:Ve(!0);break;case 9:Ve(!1);break;default:return!1}return gt(),!0}function Mt(){return c.getToken()!==10?(rt(3,[],[2,5]),!1):(Et(!1),c.getToken()===6?($e(":"),gt(),At()||rt(4,[],[2,5])):rt(5,[],[2,5]),d.pop(),!0)}function $t(){de(),gt();let it=!1;for(;c.getToken()!==2&&c.getToken()!==17;){if(c.getToken()===5){if(it||rt(4,[],[]),$e(","),gt(),c.getToken()===2&&Qe)break}else it&&rt(6,[],[]);Mt()||rt(4,[],[2,5]),it=!0}return pe(),c.getToken()!==2?rt(7,[2],[]):gt(),!0}function ln(){Ee(),gt();let it=!0,St=!1;for(;c.getToken()!==4&&c.getToken()!==17;){if(c.getToken()===5){if(St||rt(4,[],[]),$e(","),gt(),c.getToken()===4&&Qe)break}else St&&rt(6,[],[]);it?(d.push(0),it=!1):d[d.length-1]++,At()||rt(4,[],[4,5]),St=!0}return Pe(),it||d.pop(),c.getToken()!==4?rt(8,[4],[]):gt(),!0}function At(){switch(c.getToken()){case 3:return ln();case 1:return $t();case 10:return Et(!0);default:return It()}}return gt(),c.getToken()===17?h.allowEmptyContent?!0:(rt(4,[],[]),!1):At()?(c.getToken()!==17&&rt(9,[],[]),!0):(rt(4,[],[]),!1)}var V=U,W;(function(r){r[r.None=0]="None",r[r.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",r[r.UnexpectedEndOfString=2]="UnexpectedEndOfString",r[r.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",r[r.InvalidUnicode=4]="InvalidUnicode",r[r.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",r[r.InvalidCharacter=6]="InvalidCharacter"})(W||(W={}));var j;(function(r){r[r.OpenBraceToken=1]="OpenBraceToken",r[r.CloseBraceToken=2]="CloseBraceToken",r[r.OpenBracketToken=3]="OpenBracketToken",r[r.CloseBracketToken=4]="CloseBracketToken",r[r.CommaToken=5]="CommaToken",r[r.ColonToken=6]="ColonToken",r[r.NullKeyword=7]="NullKeyword",r[r.TrueKeyword=8]="TrueKeyword",r[r.FalseKeyword=9]="FalseKeyword",r[r.StringLiteral=10]="StringLiteral",r[r.NumericLiteral=11]="NumericLiteral",r[r.LineCommentTrivia=12]="LineCommentTrivia",r[r.BlockCommentTrivia=13]="BlockCommentTrivia",r[r.LineBreakTrivia=14]="LineBreakTrivia",r[r.Trivia=15]="Trivia",r[r.Unknown=16]="Unknown",r[r.EOF=17]="EOF"})(j||(j={}));var Q=T,ge=M,ne=S,X=w,G;(function(r){r[r.InvalidSymbol=1]="InvalidSymbol",r[r.InvalidNumberFormat=2]="InvalidNumberFormat",r[r.PropertyNameExpected=3]="PropertyNameExpected",r[r.ValueExpected=4]="ValueExpected",r[r.ColonExpected=5]="ColonExpected",r[r.CommaExpected=6]="CommaExpected",r[r.CloseBraceExpected=7]="CloseBraceExpected",r[r.CloseBracketExpected=8]="CloseBracketExpected",r[r.EndOfFileExpected=9]="EndOfFileExpected",r[r.InvalidCommentToken=10]="InvalidCommentToken",r[r.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",r[r.UnexpectedEndOfString=12]="UnexpectedEndOfString",r[r.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",r[r.InvalidUnicode=14]="InvalidUnicode",r[r.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",r[r.InvalidCharacter=16]="InvalidCharacter"})(G||(G={}));function ie(r,l,h){return y(r,l,h)}function se(r,l){if(r===l)return!0;if(r==null||l===null||l===void 0||typeof r!=typeof l||typeof r!="object"||Array.isArray(r)!==Array.isArray(l))return!1;let h,c;if(Array.isArray(r)){if(r.length!==l.length)return!1;for(h=0;h<r.length;h++)if(!se(r[h],l[h]))return!1}else{const d=[];for(c in r)d.push(c);d.sort();const E=[];for(c in l)E.push(c);if(E.sort(),!se(d,E))return!1;for(h=0;h<d.length;h++)if(!se(r[d[h]],l[d[h]]))return!1}return!0}function Me(r){return typeof r=="number"}function He(r){return typeof r!="undefined"}function Te(r){return typeof r=="boolean"}function ve(r){return typeof r=="string"}function P(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function ee(r,l){if(r.length<l.length)return!1;for(let h=0;h<l.length;h++)if(r[h]!==l[h])return!1;return!0}function xe(r,l){const h=r.length-l.length;return h>0?r.lastIndexOf(l)===h:h===0?r===l:!1}function Fe(r){let l="";ee(r,"(?i)")&&(r=r.substring(4),l="i");try{return new RegExp(r,l+"u")}catch(h){try{return new RegExp(r,l)}catch(c){return}}}function Ue(r){let l=0;for(let h=0;h<r.length;h++){l++;const c=r.charCodeAt(h);55296<=c&&c<=56319&&h++}return l}var qe;(function(r){function l(h){return typeof h=="string"}r.is=l})(qe||(qe={}));var Ge;(function(r){function l(h){return typeof h=="string"}r.is=l})(Ge||(Ge={}));var We;(function(r){r.MIN_VALUE=-2147483648,r.MAX_VALUE=2147483647;function l(h){return typeof h=="number"&&r.MIN_VALUE<=h&&h<=r.MAX_VALUE}r.is=l})(We||(We={}));var bt;(function(r){r.MIN_VALUE=0,r.MAX_VALUE=2147483647;function l(h){return typeof h=="number"&&r.MIN_VALUE<=h&&h<=r.MAX_VALUE}r.is=l})(bt||(bt={}));var tt;(function(r){function l(c,d){return c===Number.MAX_VALUE&&(c=bt.MAX_VALUE),d===Number.MAX_VALUE&&(d=bt.MAX_VALUE),{line:c,character:d}}r.create=l;function h(c){let d=c;return u.objectLiteral(d)&&u.uinteger(d.line)&&u.uinteger(d.character)}r.is=h})(tt||(tt={}));var ot;(function(r){function l(c,d,E,te){if(u.uinteger(c)&&u.uinteger(d)&&u.uinteger(E)&&u.uinteger(te))return{start:tt.create(c,d),end:tt.create(E,te)};if(tt.is(c)&&tt.is(d))return{start:c,end:d};throw new Error(`Range#create called with invalid arguments[${c}, ${d}, ${E}, ${te}]`)}r.create=l;function h(c){let d=c;return u.objectLiteral(d)&&tt.is(d.start)&&tt.is(d.end)}r.is=h})(ot||(ot={}));var lt;(function(r){function l(c,d){return{uri:c,range:d}}r.create=l;function h(c){let d=c;return u.objectLiteral(d)&&ot.is(d.range)&&(u.string(d.uri)||u.undefined(d.uri))}r.is=h})(lt||(lt={}));var Dt;(function(r){function l(c,d,E,te){return{targetUri:c,targetRange:d,targetSelectionRange:E,originSelectionRange:te}}r.create=l;function h(c){let d=c;return u.objectLiteral(d)&&ot.is(d.targetRange)&&u.string(d.targetUri)&&ot.is(d.targetSelectionRange)&&(ot.is(d.originSelectionRange)||u.undefined(d.originSelectionRange))}r.is=h})(Dt||(Dt={}));var nn;(function(r){function l(c,d,E,te){return{red:c,green:d,blue:E,alpha:te}}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&u.numberRange(d.red,0,1)&&u.numberRange(d.green,0,1)&&u.numberRange(d.blue,0,1)&&u.numberRange(d.alpha,0,1)}r.is=h})(nn||(nn={}));var le;(function(r){function l(c,d){return{range:c,color:d}}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&ot.is(d.range)&&nn.is(d.color)}r.is=h})(le||(le={}));var D;(function(r){function l(c,d,E){return{label:c,textEdit:d,additionalTextEdits:E}}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&u.string(d.label)&&(u.undefined(d.textEdit)||Ct.is(d))&&(u.undefined(d.additionalTextEdits)||u.typedArray(d.additionalTextEdits,Ct.is))}r.is=h})(D||(D={}));var F;(function(r){r.Comment="comment",r.Imports="imports",r.Region="region"})(F||(F={}));var ke;(function(r){function l(c,d,E,te,Ie,oe){const de={startLine:c,endLine:d};return u.defined(E)&&(de.startCharacter=E),u.defined(te)&&(de.endCharacter=te),u.defined(Ie)&&(de.kind=Ie),u.defined(oe)&&(de.collapsedText=oe),de}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&u.uinteger(d.startLine)&&u.uinteger(d.startLine)&&(u.undefined(d.startCharacter)||u.uinteger(d.startCharacter))&&(u.undefined(d.endCharacter)||u.uinteger(d.endCharacter))&&(u.undefined(d.kind)||u.string(d.kind))}r.is=h})(ke||(ke={}));var je;(function(r){function l(c,d){return{location:c,message:d}}r.create=l;function h(c){let d=c;return u.defined(d)&&lt.is(d.location)&&u.string(d.message)}r.is=h})(je||(je={}));var Ye;(function(r){r.Error=1,r.Warning=2,r.Information=3,r.Hint=4})(Ye||(Ye={}));var ht;(function(r){r.Unnecessary=1,r.Deprecated=2})(ht||(ht={}));var mt;(function(r){function l(h){const c=h;return u.objectLiteral(c)&&u.string(c.href)}r.is=l})(mt||(mt={}));var st;(function(r){function l(c,d,E,te,Ie,oe){let de={range:c,message:d};return u.defined(E)&&(de.severity=E),u.defined(te)&&(de.code=te),u.defined(Ie)&&(de.source=Ie),u.defined(oe)&&(de.relatedInformation=oe),de}r.create=l;function h(c){var d;let E=c;return u.defined(E)&&ot.is(E.range)&&u.string(E.message)&&(u.number(E.severity)||u.undefined(E.severity))&&(u.integer(E.code)||u.string(E.code)||u.undefined(E.code))&&(u.undefined(E.codeDescription)||u.string((d=E.codeDescription)===null||d===void 0?void 0:d.href))&&(u.string(E.source)||u.undefined(E.source))&&(u.undefined(E.relatedInformation)||u.typedArray(E.relatedInformation,je.is))}r.is=h})(st||(st={}));var _t;(function(r){function l(c,d,...E){let te={title:c,command:d};return u.defined(E)&&E.length>0&&(te.arguments=E),te}r.create=l;function h(c){let d=c;return u.defined(d)&&u.string(d.title)&&u.string(d.command)}r.is=h})(_t||(_t={}));var Ct;(function(r){function l(E,te){return{range:E,newText:te}}r.replace=l;function h(E,te){return{range:{start:E,end:E},newText:te}}r.insert=h;function c(E){return{range:E,newText:""}}r.del=c;function d(E){const te=E;return u.objectLiteral(te)&&u.string(te.newText)&&ot.is(te.range)}r.is=d})(Ct||(Ct={}));var Lt;(function(r){function l(c,d,E){const te={label:c};return d!==void 0&&(te.needsConfirmation=d),E!==void 0&&(te.description=E),te}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&u.string(d.label)&&(u.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(u.string(d.description)||d.description===void 0)}r.is=h})(Lt||(Lt={}));var Rt;(function(r){function l(h){const c=h;return u.string(c)}r.is=l})(Rt||(Rt={}));var pt;(function(r){function l(E,te,Ie){return{range:E,newText:te,annotationId:Ie}}r.replace=l;function h(E,te,Ie){return{range:{start:E,end:E},newText:te,annotationId:Ie}}r.insert=h;function c(E,te){return{range:E,newText:"",annotationId:te}}r.del=c;function d(E){const te=E;return Ct.is(te)&&(Lt.is(te.annotationId)||Rt.is(te.annotationId))}r.is=d})(pt||(pt={}));var m;(function(r){function l(c,d){return{textDocument:c,edits:d}}r.create=l;function h(c){let d=c;return u.defined(d)&&Yt.is(d.textDocument)&&Array.isArray(d.edits)}r.is=h})(m||(m={}));var H;(function(r){function l(c,d,E){let te={kind:"create",uri:c};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(te.options=d),E!==void 0&&(te.annotationId=E),te}r.create=l;function h(c){let d=c;return d&&d.kind==="create"&&u.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||u.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||u.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||Rt.is(d.annotationId))}r.is=h})(H||(H={}));var Be;(function(r){function l(c,d,E,te){let Ie={kind:"rename",oldUri:c,newUri:d};return E!==void 0&&(E.overwrite!==void 0||E.ignoreIfExists!==void 0)&&(Ie.options=E),te!==void 0&&(Ie.annotationId=te),Ie}r.create=l;function h(c){let d=c;return d&&d.kind==="rename"&&u.string(d.oldUri)&&u.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||u.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||u.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||Rt.is(d.annotationId))}r.is=h})(Be||(Be={}));var n;(function(r){function l(c,d,E){let te={kind:"delete",uri:c};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(te.options=d),E!==void 0&&(te.annotationId=E),te}r.create=l;function h(c){let d=c;return d&&d.kind==="delete"&&u.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||u.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||u.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||Rt.is(d.annotationId))}r.is=h})(n||(n={}));var ut;(function(r){function l(h){let c=h;return c&&(c.changes!==void 0||c.documentChanges!==void 0)&&(c.documentChanges===void 0||c.documentChanges.every(d=>u.string(d.kind)?H.is(d)||Be.is(d)||n.is(d):m.is(d)))}r.is=l})(ut||(ut={}));var kt;(function(r){function l(c){return{uri:c}}r.create=l;function h(c){let d=c;return u.defined(d)&&u.string(d.uri)}r.is=h})(kt||(kt={}));var jt;(function(r){function l(c,d){return{uri:c,version:d}}r.create=l;function h(c){let d=c;return u.defined(d)&&u.string(d.uri)&&u.integer(d.version)}r.is=h})(jt||(jt={}));var Yt;(function(r){function l(c,d){return{uri:c,version:d}}r.create=l;function h(c){let d=c;return u.defined(d)&&u.string(d.uri)&&(d.version===null||u.integer(d.version))}r.is=h})(Yt||(Yt={}));var cn;(function(r){function l(c,d,E,te){return{uri:c,languageId:d,version:E,text:te}}r.create=l;function h(c){let d=c;return u.defined(d)&&u.string(d.uri)&&u.string(d.languageId)&&u.integer(d.version)&&u.string(d.text)}r.is=h})(cn||(cn={}));var un;(function(r){r.PlainText="plaintext",r.Markdown="markdown";function l(h){const c=h;return c===r.PlainText||c===r.Markdown}r.is=l})(un||(un={}));var Zt;(function(r){function l(h){const c=h;return u.objectLiteral(h)&&un.is(c.kind)&&u.string(c.value)}r.is=l})(Zt||(Zt={}));var Ht;(function(r){r.Text=1,r.Method=2,r.Function=3,r.Constructor=4,r.Field=5,r.Variable=6,r.Class=7,r.Interface=8,r.Module=9,r.Property=10,r.Unit=11,r.Value=12,r.Enum=13,r.Keyword=14,r.Snippet=15,r.Color=16,r.File=17,r.Reference=18,r.Folder=19,r.EnumMember=20,r.Constant=21,r.Struct=22,r.Event=23,r.Operator=24,r.TypeParameter=25})(Ht||(Ht={}));var hn;(function(r){r.PlainText=1,r.Snippet=2})(hn||(hn={}));var Wn;(function(r){r.Deprecated=1})(Wn||(Wn={}));var Tn;(function(r){function l(c,d,E){return{newText:c,insert:d,replace:E}}r.create=l;function h(c){const d=c;return d&&u.string(d.newText)&&ot.is(d.insert)&&ot.is(d.replace)}r.is=h})(Tn||(Tn={}));var Qn;(function(r){r.asIs=1,r.adjustIndentation=2})(Qn||(Qn={}));var Vi;(function(r){function l(h){const c=h;return c&&(u.string(c.detail)||c.detail===void 0)&&(u.string(c.description)||c.description===void 0)}r.is=l})(Vi||(Vi={}));var Ui;(function(r){function l(h){return{label:h}}r.create=l})(Ui||(Ui={}));var Ai;(function(r){function l(h,c){return{items:h||[],isIncomplete:!!c}}r.create=l})(Ai||(Ai={}));var ni;(function(r){function l(c){return c.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r.fromPlainText=l;function h(c){const d=c;return u.string(d)||u.objectLiteral(d)&&u.string(d.language)&&u.string(d.value)}r.is=h})(ni||(ni={}));var On;(function(r){function l(h){let c=h;return!!c&&u.objectLiteral(c)&&(Zt.is(c.contents)||ni.is(c.contents)||u.typedArray(c.contents,ni.is))&&(h.range===void 0||ot.is(h.range))}r.is=l})(On||(On={}));var Ti;(function(r){function l(h,c){return c?{label:h,documentation:c}:{label:h}}r.create=l})(Ti||(Ti={}));var Un;(function(r){function l(h,c,...d){let E={label:h};return u.defined(c)&&(E.documentation=c),u.defined(d)?E.parameters=d:E.parameters=[],E}r.create=l})(Un||(Un={}));var kn;(function(r){r.Text=1,r.Read=2,r.Write=3})(kn||(kn={}));var jn;(function(r){function l(h,c){let d={range:h};return u.number(c)&&(d.kind=c),d}r.create=l})(jn||(jn={}));var ii;(function(r){r.File=1,r.Module=2,r.Namespace=3,r.Package=4,r.Class=5,r.Method=6,r.Property=7,r.Field=8,r.Constructor=9,r.Enum=10,r.Interface=11,r.Function=12,r.Variable=13,r.Constant=14,r.String=15,r.Number=16,r.Boolean=17,r.Array=18,r.Object=19,r.Key=20,r.Null=21,r.EnumMember=22,r.Struct=23,r.Event=24,r.Operator=25,r.TypeParameter=26})(ii||(ii={}));var zi;(function(r){r.Deprecated=1})(zi||(zi={}));var Ln;(function(r){function l(h,c,d,E,te){let Ie={name:h,kind:c,location:{uri:E,range:d}};return te&&(Ie.containerName=te),Ie}r.create=l})(Ln||(Ln={}));var tr;(function(r){function l(h,c,d,E){return E!==void 0?{name:h,kind:c,location:{uri:d,range:E}}:{name:h,kind:c,location:{uri:d}}}r.create=l})(tr||(tr={}));var pi;(function(r){function l(c,d,E,te,Ie,oe){let de={name:c,detail:d,kind:E,range:te,selectionRange:Ie};return oe!==void 0&&(de.children=oe),de}r.create=l;function h(c){let d=c;return d&&u.string(d.name)&&u.number(d.kind)&&ot.is(d.range)&&ot.is(d.selectionRange)&&(d.detail===void 0||u.string(d.detail))&&(d.deprecated===void 0||u.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}r.is=h})(pi||(pi={}));var hi;(function(r){r.Empty="",r.QuickFix="quickfix",r.Refactor="refactor",r.RefactorExtract="refactor.extract",r.RefactorInline="refactor.inline",r.RefactorRewrite="refactor.rewrite",r.Source="source",r.SourceOrganizeImports="source.organizeImports",r.SourceFixAll="source.fixAll"})(hi||(hi={}));var Kn;(function(r){r.Invoked=1,r.Automatic=2})(Kn||(Kn={}));var Oe;(function(r){function l(c,d,E){let te={diagnostics:c};return d!=null&&(te.only=d),E!=null&&(te.triggerKind=E),te}r.create=l;function h(c){let d=c;return u.defined(d)&&u.typedArray(d.diagnostics,st.is)&&(d.only===void 0||u.typedArray(d.only,u.string))&&(d.triggerKind===void 0||d.triggerKind===Kn.Invoked||d.triggerKind===Kn.Automatic)}r.is=h})(Oe||(Oe={}));var q;(function(r){function l(c,d,E){let te={title:c},Ie=!0;return typeof d=="string"?(Ie=!1,te.kind=d):_t.is(d)?te.command=d:te.edit=d,Ie&&E!==void 0&&(te.kind=E),te}r.create=l;function h(c){let d=c;return d&&u.string(d.title)&&(d.diagnostics===void 0||u.typedArray(d.diagnostics,st.is))&&(d.kind===void 0||u.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||_t.is(d.command))&&(d.isPreferred===void 0||u.boolean(d.isPreferred))&&(d.edit===void 0||ut.is(d.edit))}r.is=h})(q||(q={}));var ye;(function(r){function l(c,d){let E={range:c};return u.defined(d)&&(E.data=d),E}r.create=l;function h(c){let d=c;return u.defined(d)&&ot.is(d.range)&&(u.undefined(d.command)||_t.is(d.command))}r.is=h})(ye||(ye={}));var Je;(function(r){function l(c,d){return{tabSize:c,insertSpaces:d}}r.create=l;function h(c){let d=c;return u.defined(d)&&u.uinteger(d.tabSize)&&u.boolean(d.insertSpaces)}r.is=h})(Je||(Je={}));var ft;(function(r){function l(c,d,E){return{range:c,target:d,data:E}}r.create=l;function h(c){let d=c;return u.defined(d)&&ot.is(d.range)&&(u.undefined(d.target)||u.string(d.target))}r.is=h})(ft||(ft={}));var Nt;(function(r){function l(c,d){return{range:c,parent:d}}r.create=l;function h(c){let d=c;return u.objectLiteral(d)&&ot.is(d.range)&&(d.parent===void 0||r.is(d.parent))}r.is=h})(Nt||(Nt={}));var Vt;(function(r){r.namespace="namespace",r.type="type",r.class="class",r.enum="enum",r.interface="interface",r.struct="struct",r.typeParameter="typeParameter",r.parameter="parameter",r.variable="variable",r.property="property",r.enumMember="enumMember",r.event="event",r.function="function",r.method="method",r.macro="macro",r.keyword="keyword",r.modifier="modifier",r.comment="comment",r.string="string",r.number="number",r.regexp="regexp",r.operator="operator",r.decorator="decorator"})(Vt||(Vt={}));var rn;(function(r){r.declaration="declaration",r.definition="definition",r.readonly="readonly",r.static="static",r.deprecated="deprecated",r.abstract="abstract",r.async="async",r.modification="modification",r.documentation="documentation",r.defaultLibrary="defaultLibrary"})(rn||(rn={}));var Bn;(function(r){function l(h){const c=h;return u.objectLiteral(c)&&(c.resultId===void 0||typeof c.resultId=="string")&&Array.isArray(c.data)&&(c.data.length===0||typeof c.data[0]=="number")}r.is=l})(Bn||(Bn={}));var En;(function(r){function l(c,d){return{range:c,text:d}}r.create=l;function h(c){const d=c;return d!=null&&ot.is(d.range)&&u.string(d.text)}r.is=h})(En||(En={}));var Pn;(function(r){function l(c,d,E){return{range:c,variableName:d,caseSensitiveLookup:E}}r.create=l;function h(c){const d=c;return d!=null&&ot.is(d.range)&&u.boolean(d.caseSensitiveLookup)&&(u.string(d.variableName)||d.variableName===void 0)}r.is=h})(Pn||(Pn={}));var Si;(function(r){function l(c,d){return{range:c,expression:d}}r.create=l;function h(c){const d=c;return d!=null&&ot.is(d.range)&&(u.string(d.expression)||d.expression===void 0)}r.is=h})(Si||(Si={}));var Zn;(function(r){function l(c,d){return{frameId:c,stoppedLocation:d}}r.create=l;function h(c){const d=c;return u.defined(d)&&ot.is(c.stoppedLocation)}r.is=h})(Zn||(Zn={}));var ei;(function(r){r.Type=1,r.Parameter=2;function l(h){return h===1||h===2}r.is=l})(ei||(ei={}));var Xn;(function(r){function l(c){return{value:c}}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&(d.tooltip===void 0||u.string(d.tooltip)||Zt.is(d.tooltip))&&(d.location===void 0||lt.is(d.location))&&(d.command===void 0||_t.is(d.command))}r.is=h})(Xn||(Xn={}));var Bi;(function(r){function l(c,d,E){const te={position:c,label:d};return E!==void 0&&(te.kind=E),te}r.create=l;function h(c){const d=c;return u.objectLiteral(d)&&tt.is(d.position)&&(u.string(d.label)||u.typedArray(d.label,Xn.is))&&(d.kind===void 0||ei.is(d.kind))&&d.textEdits===void 0||u.typedArray(d.textEdits,Ct.is)&&(d.tooltip===void 0||u.string(d.tooltip)||Zt.is(d.tooltip))&&(d.paddingLeft===void 0||u.boolean(d.paddingLeft))&&(d.paddingRight===void 0||u.boolean(d.paddingRight))}r.is=h})(Bi||(Bi={}));var Wi;(function(r){function l(h){return{kind:"snippet",value:h}}r.createSnippet=l})(Wi||(Wi={}));var fi;(function(r){function l(h,c,d,E){return{insertText:h,filterText:c,range:d,command:E}}r.create=l})(fi||(fi={}));var lr;(function(r){function l(h){return{items:h}}r.create=l})(lr||(lr={}));var ji;(function(r){r.Invoked=0,r.Automatic=1})(ji||(ji={}));var oi;(function(r){function l(h,c){return{range:h,text:c}}r.create=l})(oi||(oi={}));var ri;(function(r){function l(h,c){return{triggerKind:h,selectedCompletionInfo:c}}r.create=l})(ri||(ri={}));var di;(function(r){function l(h){const c=h;return u.objectLiteral(c)&&Ge.is(c.uri)&&u.string(c.name)}r.is=l})(di||(di={}));var Hi;(function(r){function l(E,te,Ie,oe){return new Ne(E,te,Ie,oe)}r.create=l;function h(E){let te=E;return!!(u.defined(te)&&u.string(te.uri)&&(u.undefined(te.languageId)||u.string(te.languageId))&&u.uinteger(te.lineCount)&&u.func(te.getText)&&u.func(te.positionAt)&&u.func(te.offsetAt))}r.is=h;function c(E,te){let Ie=E.getText(),oe=d(te,(we,pe)=>{let Ee=we.range.start.line-pe.range.start.line;return Ee===0?we.range.start.character-pe.range.start.character:Ee}),de=Ie.length;for(let we=oe.length-1;we>=0;we--){let pe=oe[we],Ee=E.offsetAt(pe.range.start),Pe=E.offsetAt(pe.range.end);if(Pe<=de)Ie=Ie.substring(0,Ee)+pe.newText+Ie.substring(Pe,Ie.length);else throw new Error("Overlapping edit");de=Ee}return Ie}r.applyEdits=c;function d(E,te){if(E.length<=1)return E;const Ie=E.length/2|0,oe=E.slice(0,Ie),de=E.slice(Ie);d(oe,te),d(de,te);let we=0,pe=0,Ee=0;for(;we<oe.length&&pe<de.length;)te(oe[we],de[pe])<=0?E[Ee++]=oe[we++]:E[Ee++]=de[pe++];for(;we<oe.length;)E[Ee++]=oe[we++];for(;pe<de.length;)E[Ee++]=de[pe++];return E}})(Hi||(Hi={}));var Ne=class{constructor(r,l,h,c){this._uri=r,this._languageId=l,this._version=h,this._content=c,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(r){if(r){let l=this.offsetAt(r.start),h=this.offsetAt(r.end);return this._content.substring(l,h)}return this._content}update(r,l){this._content=r.text,this._version=l,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let r=[],l=this._content,h=!0;for(let c=0;c<l.length;c++){h&&(r.push(c),h=!1);let d=l.charAt(c);h=d==="\r"||d===`
`,d==="\r"&&c+1<l.length&&l.charAt(c+1)===`
`&&c++}h&&l.length>0&&r.push(l.length),this._lineOffsets=r}return this._lineOffsets}positionAt(r){r=Math.max(Math.min(r,this._content.length),0);let l=this.getLineOffsets(),h=0,c=l.length;if(c===0)return tt.create(0,r);for(;h<c;){let E=Math.floor((h+c)/2);l[E]>r?c=E:h=E+1}let d=h-1;return tt.create(d,r-l[d])}offsetAt(r){let l=this.getLineOffsets();if(r.line>=l.length)return this._content.length;if(r.line<0)return 0;let h=l[r.line],c=r.line+1<l.length?l[r.line+1]:this._content.length;return Math.max(Math.min(h+r.character,c),h)}get lineCount(){return this.getLineOffsets().length}},u;(function(r){const l=Object.prototype.toString;function h(Pe){return typeof Pe!="undefined"}r.defined=h;function c(Pe){return typeof Pe=="undefined"}r.undefined=c;function d(Pe){return Pe===!0||Pe===!1}r.boolean=d;function E(Pe){return l.call(Pe)==="[object String]"}r.string=E;function te(Pe){return l.call(Pe)==="[object Number]"}r.number=te;function Ie(Pe,Ve,$e){return l.call(Pe)==="[object Number]"&&Ve<=Pe&&Pe<=$e}r.numberRange=Ie;function oe(Pe){return l.call(Pe)==="[object Number]"&&-2147483648<=Pe&&Pe<=2147483647}r.integer=oe;function de(Pe){return l.call(Pe)==="[object Number]"&&0<=Pe&&Pe<=2147483647}r.uinteger=de;function we(Pe){return l.call(Pe)==="[object Function]"}r.func=we;function pe(Pe){return Pe!==null&&typeof Pe=="object"}r.objectLiteral=pe;function Ee(Pe,Ve){return Array.isArray(Pe)&&Pe.every(Ve)}r.typedArray=Ee})(u||(u={}));var v=class Ds{constructor(l,h,c,d){this._uri=l,this._languageId=h,this._version=c,this._content=d,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(l){if(l){const h=this.offsetAt(l.start),c=this.offsetAt(l.end);return this._content.substring(h,c)}return this._content}update(l,h){for(let c of l)if(Ds.isIncremental(c)){const d=Le(c.range),E=this.offsetAt(d.start),te=this.offsetAt(d.end);this._content=this._content.substring(0,E)+c.text+this._content.substring(te,this._content.length);const Ie=Math.max(d.start.line,0),oe=Math.max(d.end.line,0);let de=this._lineOffsets;const we=he(c.text,!1,E);if(oe-Ie===we.length)for(let Ee=0,Pe=we.length;Ee<Pe;Ee++)de[Ee+Ie+1]=we[Ee];else we.length<1e4?de.splice(Ie+1,oe-Ie,...we):this._lineOffsets=de=de.slice(0,Ie+1).concat(we,de.slice(oe+1));const pe=c.text.length-(te-E);if(pe!==0)for(let Ee=Ie+1+we.length,Pe=de.length;Ee<Pe;Ee++)de[Ee]=de[Ee]+pe}else if(Ds.isFull(c))this._content=c.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=h}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=he(this._content,!0)),this._lineOffsets}positionAt(l){l=Math.max(Math.min(l,this._content.length),0);let h=this.getLineOffsets(),c=0,d=h.length;if(d===0)return{line:0,character:l};for(;c<d;){let te=Math.floor((c+d)/2);h[te]>l?d=te:c=te+1}let E=c-1;return{line:E,character:l-h[E]}}offsetAt(l){let h=this.getLineOffsets();if(l.line>=h.length)return this._content.length;if(l.line<0)return 0;let c=h[l.line],d=l.line+1<h.length?h[l.line+1]:this._content.length;return Math.max(Math.min(c+l.character,d),c)}get lineCount(){return this.getLineOffsets().length}static isIncremental(l){let h=l;return h!=null&&typeof h.text=="string"&&h.range!==void 0&&(h.rangeLength===void 0||typeof h.rangeLength=="number")}static isFull(l){let h=l;return h!=null&&typeof h.text=="string"&&h.range===void 0&&h.rangeLength===void 0}},$;(function(r){function l(d,E,te,Ie){return new v(d,E,te,Ie)}r.create=l;function h(d,E,te){if(d instanceof v)return d.update(E,te),d;throw new Error("TextDocument.update: document must be created by TextDocument.create")}r.update=h;function c(d,E){let te=d.getText(),Ie=re(E.map(De),(we,pe)=>{let Ee=we.range.start.line-pe.range.start.line;return Ee===0?we.range.start.character-pe.range.start.character:Ee}),oe=0;const de=[];for(const we of Ie){let pe=d.offsetAt(we.range.start);if(pe<oe)throw new Error("Overlapping edit");pe>oe&&de.push(te.substring(oe,pe)),we.newText.length&&de.push(we.newText),oe=d.offsetAt(we.range.end)}return de.push(te.substr(oe)),de.join("")}r.applyEdits=c})($||($={}));function re(r,l){if(r.length<=1)return r;const h=r.length/2|0,c=r.slice(0,h),d=r.slice(h);re(c,l),re(d,l);let E=0,te=0,Ie=0;for(;E<c.length&&te<d.length;)l(c[E],d[te])<=0?r[Ie++]=c[E++]:r[Ie++]=d[te++];for(;E<c.length;)r[Ie++]=c[E++];for(;te<d.length;)r[Ie++]=d[te++];return r}function he(r,l,h=0){const c=l?[h]:[];for(let d=0;d<r.length;d++){let E=r.charCodeAt(d);(E===13||E===10)&&(E===13&&d+1<r.length&&r.charCodeAt(d+1)===10&&d++,c.push(h+d+1))}return c}function Le(r){const l=r.start,h=r.end;return l.line>h.line||l.line===h.line&&l.character>h.character?{start:h,end:l}:r}function De(r){const l=Le(r.range);return l!==r.range?{newText:r.newText,range:l}:r}var be;(function(r){r[r.Undefined=0]="Undefined",r[r.EnumValueMismatch=1]="EnumValueMismatch",r[r.Deprecated=2]="Deprecated",r[r.UnexpectedEndOfComment=257]="UnexpectedEndOfComment",r[r.UnexpectedEndOfString=258]="UnexpectedEndOfString",r[r.UnexpectedEndOfNumber=259]="UnexpectedEndOfNumber",r[r.InvalidUnicode=260]="InvalidUnicode",r[r.InvalidEscapeCharacter=261]="InvalidEscapeCharacter",r[r.InvalidCharacter=262]="InvalidCharacter",r[r.PropertyExpected=513]="PropertyExpected",r[r.CommaExpected=514]="CommaExpected",r[r.ColonExpected=515]="ColonExpected",r[r.ValueExpected=516]="ValueExpected",r[r.CommaOrCloseBacketExpected=517]="CommaOrCloseBacketExpected",r[r.CommaOrCloseBraceExpected=518]="CommaOrCloseBraceExpected",r[r.TrailingComma=519]="TrailingComma",r[r.DuplicateKey=520]="DuplicateKey",r[r.CommentNotPermitted=521]="CommentNotPermitted",r[r.PropertyKeysMustBeDoublequoted=528]="PropertyKeysMustBeDoublequoted",r[r.SchemaResolveError=768]="SchemaResolveError",r[r.SchemaUnsupportedFeature=769]="SchemaUnsupportedFeature"})(be||(be={}));var Ae;(function(r){r[r.v3=3]="v3",r[r.v4=4]="v4",r[r.v6=6]="v6",r[r.v7=7]="v7",r[r.v2019_09=19]="v2019_09",r[r.v2020_12=20]="v2020_12"})(Ae||(Ae={}));var Ke;(function(r){r.LATEST={textDocument:{completion:{completionItem:{documentationFormat:[un.Markdown,un.PlainText],commitCharactersSupport:!0,labelDetailsSupport:!0}}}}})(Ke||(Ke={}));var Ze;function _e(...r){var te;const l=r[0];let h,c,d;if(typeof l=="string")h=l,c=l,r.splice(0,1),d=!r||typeof r[0]!="object"?r:r[0];else if(l instanceof Array){const Ie=r.slice(1);if(l.length!==Ie.length+1)throw new Error("expected a string as the first argument to l10n.t");let oe=l[0];for(let de=1;de<l.length;de++)oe+=`{${de-1}}`+l[de];return _e(oe,...Ie)}else c=l.message,h=c,l.comment&&l.comment.length>0&&(h+=`/${Array.isArray(l.comment)?l.comment.join(""):l.comment}`),d=(te=l.args)!=null?te:{};const E=Ze==null?void 0:Ze[h];return E?typeof E=="string"?ct(E,d):E.comment?ct(E.message,d):ct(c,d):ct(c,d)}var at=/{([^}]+)}/g;function ct(r,l){return Object.keys(l).length===0?r:r.replace(at,(h,c)=>{var d;return(d=l[c])!=null?d:h})}var xt={"color-hex":{errorMessage:_e("Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."),pattern:/^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/},"date-time":{errorMessage:_e("String is not a RFC3339 date-time."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},date:{errorMessage:_e("String is not a RFC3339 date."),pattern:/^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i},time:{errorMessage:_e("String is not a RFC3339 time."),pattern:/^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i},email:{errorMessage:_e("String is not an e-mail address."),pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/},hostname:{errorMessage:_e("String is not a hostname."),pattern:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i},ipv4:{errorMessage:_e("String is not an IPv4 address."),pattern:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/},ipv6:{errorMessage:_e("String is not an IPv6 address."),pattern:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i}},Tt=class{constructor(r,l,h=0){this.offset=l,this.length=h,this.parent=r}get children(){return[]}toString(){return"type: "+this.type+" ("+this.offset+"/"+this.length+")"+(this.parent?" parent: {"+this.parent.toString()+"}":"")}},zt=class extends Tt{constructor(r,l){super(r,l),this.type="null",this.value=null}},Gt=class extends Tt{constructor(r,l,h){super(r,h),this.type="boolean",this.value=l}},Ft=class extends Tt{constructor(r,l){super(r,l),this.type="array",this.items=[]}get children(){return this.items}},qt=class extends Tt{constructor(r,l){super(r,l),this.type="number",this.isInteger=!0,this.value=Number.NaN}},Ot=class extends Tt{constructor(r,l,h){super(r,l,h),this.type="string",this.value=""}},Kt=class extends Tt{constructor(r,l,h){super(r,l),this.type="property",this.colonOffset=-1,this.keyNode=h}get children(){return this.valueNode?[this.keyNode,this.valueNode]:[this.keyNode]}},en=class extends Tt{constructor(r,l){super(r,l),this.type="object",this.properties=[]}get children(){return this.properties}};function Wt(r){return Te(r)?r?{}:{not:{}}:r}var Nn;(function(r){r[r.Key=0]="Key",r[r.Enum=1]="Enum"})(Nn||(Nn={}));var Hn={"http://json-schema.org/draft-03/schema#":Ae.v3,"http://json-schema.org/draft-04/schema#":Ae.v4,"http://json-schema.org/draft-06/schema#":Ae.v6,"http://json-schema.org/draft-07/schema#":Ae.v7,"https://json-schema.org/draft/2019-09/schema":Ae.v2019_09,"https://json-schema.org/draft/2020-12/schema":Ae.v2020_12},mn=class{constructor(r){this.schemaDraft=r}},on=class Ks{constructor(l=-1,h){this.focusOffset=l,this.exclude=h,this.schemas=[]}add(l){this.schemas.push(l)}merge(l){Array.prototype.push.apply(this.schemas,l.schemas)}include(l){return(this.focusOffset===-1||xr(l,this.focusOffset))&&l!==this.exclude}newSub(){return new Ks(-1,this.exclude)}},ai=class{constructor(){}get schemas(){return[]}add(r){}merge(r){}include(r){return!0}newSub(){return this}};ai.instance=new ai;var Gn=class{constructor(){this.problems=[],this.propertiesMatches=0,this.processedProperties=new Set,this.propertiesValueMatches=0,this.primaryValueMatches=0,this.enumValueMatch=!1,this.enumValues=void 0}hasProblems(){return!!this.problems.length}merge(r){this.problems=this.problems.concat(r.problems),this.propertiesMatches+=r.propertiesMatches,this.propertiesValueMatches+=r.propertiesValueMatches,this.mergeProcessedProperties(r)}mergeEnumValues(r){if(!this.enumValueMatch&&!r.enumValueMatch&&this.enumValues&&r.enumValues){this.enumValues=this.enumValues.concat(r.enumValues);for(const l of this.problems)l.code===be.EnumValueMismatch&&(l.message=_e("Value is not accepted. Valid values: {0}.",this.enumValues.map(h=>JSON.stringify(h)).join(", ")))}}mergePropertyMatch(r){this.problems=this.problems.concat(r.problems),this.propertiesMatches++,(r.enumValueMatch||!r.hasProblems()&&r.propertiesMatches)&&this.propertiesValueMatches++,r.enumValueMatch&&r.enumValues&&r.enumValues.length===1&&this.primaryValueMatches++}mergeProcessedProperties(r){r.processedProperties.forEach(l=>this.processedProperties.add(l))}compare(r){const l=this.hasProblems();return l!==r.hasProblems()?l?-1:1:this.enumValueMatch!==r.enumValueMatch?r.enumValueMatch?-1:1:this.primaryValueMatches!==r.primaryValueMatches?this.primaryValueMatches-r.primaryValueMatches:this.propertiesValueMatches!==r.propertiesValueMatches?this.propertiesValueMatches-r.propertiesValueMatches:this.propertiesMatches-r.propertiesMatches}};function bi(r,l=[]){return new wr(r,l,[])}function _i(r){return X(r)}function Ei(r){return ne(r)}function xr(r,l,h=!1){return l>=r.offset&&l<r.offset+r.length||h&&l===r.offset+r.length}var wr=class{constructor(r,l=[],h=[]){this.root=r,this.syntaxErrors=l,this.comments=h}getNodeFromOffset(r,l=!1){if(this.root)return ge(this.root,r,l)}visit(r){if(this.root){const l=h=>{let c=r(h);const d=h.children;if(Array.isArray(d))for(let E=0;E<d.length&&c;E++)c=l(d[E]);return c};l(this.root)}}validate(r,l,h=Ye.Warning,c){if(this.root&&l){const d=new Gn;return qn(this.root,l,d,ai.instance,new mn(c!=null?c:ur(l))),d.problems.map(E=>{var Ie;const te=ot.create(r.positionAt(E.location.offset),r.positionAt(E.location.offset+E.location.length));return st.create(te,E.message,(Ie=E.severity)!=null?Ie:h,E.code)})}}getMatchingSchemas(r,l=-1,h){if(this.root&&r){const c=new on(l,h),d=ur(r),E=new mn(d);return qn(this.root,r,new Gn,c,E),c.schemas}return[]}};function ur(r,l=Ae.v2020_12){var c;let h=r.$schema;return h&&(c=Hn[h])!=null?c:l}function qn(r,l,h,c,d){if(!r||!c.include(r))return;if(r.type==="property")return qn(r.valueNode,l,h,c,d);const E=r;switch(te(),E.type){case"object":we(E);break;case"array":de(E);break;case"string":oe(E);break;case"number":Ie(E);break}c.add({node:E,schema:l});function te(){var yt;function pe(Qe){return E.type===Qe||Qe==="integer"&&E.type==="number"&&E.isInteger}if(Array.isArray(l.type)?l.type.some(pe)||h.problems.push({location:{offset:E.offset,length:E.length},message:l.errorMessage||_e("Incorrect type. Expected one of {0}.",l.type.join(", "))}):l.type&&(pe(l.type)||h.problems.push({location:{offset:E.offset,length:E.length},message:l.errorMessage||_e('Incorrect type. Expected "{0}".',l.type)})),Array.isArray(l.allOf))for(const Qe of l.allOf){const gt=new Gn,rt=c.newSub();qn(E,Wt(Qe),gt,rt,d),h.merge(gt),c.merge(rt)}const Ee=Wt(l.not);if(Ee){const Qe=new Gn,gt=c.newSub();qn(E,Ee,Qe,gt,d),Qe.hasProblems()||h.problems.push({location:{offset:E.offset,length:E.length},message:l.errorMessage||_e("Matches a schema that is not allowed.")});for(const rt of gt.schemas)rt.inverted=!rt.inverted,c.add(rt)}const Pe=(Qe,gt)=>{const rt=[];let Et;for(const It of Qe){const Mt=Wt(It),$t=new Gn,ln=c.newSub();if(qn(E,Mt,$t,ln,d),$t.hasProblems()||rt.push(Mt),!Et)Et={schema:Mt,validationResult:$t,matchingSchemas:ln};else if(!gt&&!$t.hasProblems()&&!Et.validationResult.hasProblems())Et.matchingSchemas.merge(ln),Et.validationResult.propertiesMatches+=$t.propertiesMatches,Et.validationResult.propertiesValueMatches+=$t.propertiesValueMatches,Et.validationResult.mergeProcessedProperties($t);else{const At=$t.compare(Et.validationResult);At>0?Et={schema:Mt,validationResult:$t,matchingSchemas:ln}:At===0&&(Et.matchingSchemas.merge(ln),Et.validationResult.mergeEnumValues($t))}}return rt.length>1&&gt&&h.problems.push({location:{offset:E.offset,length:1},message:_e("Matches multiple schemas when only one must validate.")}),Et&&(h.merge(Et.validationResult),c.merge(Et.matchingSchemas)),rt.length};Array.isArray(l.anyOf)&&Pe(l.anyOf,!1),Array.isArray(l.oneOf)&&Pe(l.oneOf,!0);const Ve=Qe=>{const gt=new Gn,rt=c.newSub();qn(E,Wt(Qe),gt,rt,d),h.merge(gt),c.merge(rt)},$e=(Qe,gt,rt)=>{const Et=Wt(Qe),It=new Gn,Mt=c.newSub();qn(E,Et,It,Mt,d),c.merge(Mt),h.mergeProcessedProperties(It),It.hasProblems()?rt&&Ve(rt):gt&&Ve(gt)},et=Wt(l.if);if(et&&$e(et,Wt(l.then),Wt(l.else)),Array.isArray(l.enum)){const Qe=_i(E);let gt=!1;for(const rt of l.enum)if(se(Qe,rt)){gt=!0;break}h.enumValues=l.enum,h.enumValueMatch=gt,gt||h.problems.push({location:{offset:E.offset,length:E.length},code:be.EnumValueMismatch,message:l.errorMessage||_e("Value is not accepted. Valid values: {0}.",l.enum.map(rt=>JSON.stringify(rt)).join(", "))})}if(He(l.const)){const Qe=_i(E);se(Qe,l.const)?h.enumValueMatch=!0:(h.problems.push({location:{offset:E.offset,length:E.length},code:be.EnumValueMismatch,message:l.errorMessage||_e("Value must be {0}.",JSON.stringify(l.const))}),h.enumValueMatch=!1),h.enumValues=[l.const]}let dt=l.deprecationMessage;if(dt||l.deprecated){dt=dt||_e("Value is deprecated");let Qe=((yt=E.parent)==null?void 0:yt.type)==="property"?E.parent:E;h.problems.push({location:{offset:Qe.offset,length:Qe.length},severity:Ye.Warning,message:dt,code:be.Deprecated})}}function Ie(pe){const Ee=pe.value;function Pe(gt){var Et;const rt=/^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(gt.toString());return rt&&{value:Number(rt[1]+(rt[2]||"")),multiplier:(((Et=rt[2])==null?void 0:Et.length)||0)-(parseInt(rt[3])||0)}}if(Me(l.multipleOf)){let gt=-1;if(Number.isInteger(l.multipleOf))gt=Ee%l.multipleOf;else{let rt=Pe(l.multipleOf),Et=Pe(Ee);if(rt&&Et){const It=kr(10,Math.abs(Et.multiplier-rt.multiplier));Et.multiplier<rt.multiplier?Et.value*=It:rt.value*=It,gt=Et.value%rt.value}}gt!==0&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Value is not divisible by {0}.",l.multipleOf)})}function Ve(gt,rt){if(Me(rt))return rt;if(Te(rt)&&rt)return gt}function $e(gt,rt){if(!Te(rt)||!rt)return gt}const et=Ve(l.minimum,l.exclusiveMinimum);Me(et)&&Ee<=et&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Value is below the exclusive minimum of {0}.",et)});const dt=Ve(l.maximum,l.exclusiveMaximum);Me(dt)&&Ee>=dt&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Value is above the exclusive maximum of {0}.",dt)});const yt=$e(l.minimum,l.exclusiveMinimum);Me(yt)&&Ee<yt&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Value is below the minimum of {0}.",yt)});const Qe=$e(l.maximum,l.exclusiveMaximum);Me(Qe)&&Ee>Qe&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Value is above the maximum of {0}.",Qe)})}function oe(pe){if(Me(l.minLength)&&Ue(pe.value)<l.minLength&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("String is shorter than the minimum length of {0}.",l.minLength)}),Me(l.maxLength)&&Ue(pe.value)>l.maxLength&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("String is longer than the maximum length of {0}.",l.maxLength)}),ve(l.pattern)){const Ee=Fe(l.pattern);Ee!=null&&Ee.test(pe.value)||h.problems.push({location:{offset:pe.offset,length:pe.length},message:l.patternErrorMessage||l.errorMessage||_e('String does not match the pattern of "{0}".',l.pattern)})}if(l.format)switch(l.format){case"uri":case"uri-reference":{let Pe;if(!pe.value)Pe=_e("URI expected.");else{const Ve=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(pe.value);Ve?!Ve[2]&&l.format==="uri"&&(Pe=_e("URI with a scheme is expected.")):Pe=_e("URI is expected.")}Pe&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:l.patternErrorMessage||l.errorMessage||_e("String is not a URI: {0}",Pe)})}break;case"color-hex":case"date-time":case"date":case"time":case"email":case"hostname":case"ipv4":case"ipv6":const Ee=xt[l.format];(!pe.value||!Ee.pattern.exec(pe.value))&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:l.patternErrorMessage||l.errorMessage||Ee.errorMessage});default:}}function de(pe){let Ee,Pe;d.schemaDraft>=Ae.v2020_12?(Ee=l.prefixItems,Pe=Array.isArray(l.items)?void 0:l.items):(Ee=Array.isArray(l.items)?l.items:void 0,Pe=Array.isArray(l.items)?l.additionalItems:l.items);let Ve=0;if(Ee!==void 0){const dt=Math.min(Ee.length,pe.items.length);for(;Ve<dt;Ve++){const yt=Ee[Ve],Qe=Wt(yt),gt=new Gn,rt=pe.items[Ve];rt&&(qn(rt,Qe,gt,c,d),h.mergePropertyMatch(gt)),h.processedProperties.add(String(Ve))}}if(Pe!==void 0&&Ve<pe.items.length)if(typeof Pe=="boolean")for(Pe===!1&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Array has too many items according to schema. Expected {0} or fewer.",Ve)});Ve<pe.items.length;Ve++)h.processedProperties.add(String(Ve)),h.propertiesValueMatches++;else for(;Ve<pe.items.length;Ve++){const dt=new Gn;qn(pe.items[Ve],Pe,dt,c,d),h.mergePropertyMatch(dt),h.processedProperties.add(String(Ve))}const $e=Wt(l.contains);if($e){let dt=0;for(let yt=0;yt<pe.items.length;yt++){const Qe=pe.items[yt],gt=new Gn;qn(Qe,$e,gt,ai.instance,d),gt.hasProblems()||(dt++,d.schemaDraft>=Ae.v2020_12&&h.processedProperties.add(String(yt)))}dt===0&&!Me(l.minContains)&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:l.errorMessage||_e("Array does not contain required item.")}),Me(l.minContains)&&dt<l.minContains&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:l.errorMessage||_e("Array has too few items that match the contains contraint. Expected {0} or more.",l.minContains)}),Me(l.maxContains)&&dt>l.maxContains&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:l.errorMessage||_e("Array has too many items that match the contains contraint. Expected {0} or less.",l.maxContains)})}const et=l.unevaluatedItems;if(et!==void 0)for(let dt=0;dt<pe.items.length;dt++){if(!h.processedProperties.has(String(dt)))if(et===!1)h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Item does not match any validation rule from the array.")});else{const yt=new Gn;qn(pe.items[dt],l.unevaluatedItems,yt,c,d),h.mergePropertyMatch(yt)}h.processedProperties.add(String(dt)),h.propertiesValueMatches++}if(Me(l.minItems)&&pe.items.length<l.minItems&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Array has too few items. Expected {0} or more.",l.minItems)}),Me(l.maxItems)&&pe.items.length>l.maxItems&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Array has too many items. Expected {0} or fewer.",l.maxItems)}),l.uniqueItems===!0){let dt=function(){for(let Qe=0;Qe<yt.length-1;Qe++){const gt=yt[Qe];for(let rt=Qe+1;rt<yt.length;rt++)if(se(gt,yt[rt]))return!0}return!1};const yt=_i(pe);dt()&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Array has duplicate items.")})}}function we(pe){const Ee=Object.create(null),Pe=new Set;for(const Qe of pe.properties){const gt=Qe.keyNode.value;Ee[gt]=Qe.valueNode,Pe.add(gt)}if(Array.isArray(l.required)){for(const Qe of l.required)if(!Ee[Qe]){const gt=pe.parent&&pe.parent.type==="property"&&pe.parent.keyNode,rt=gt?{offset:gt.offset,length:gt.length}:{offset:pe.offset,length:1};h.problems.push({location:rt,message:_e('Missing property "{0}".',Qe)})}}const Ve=Qe=>{Pe.delete(Qe),h.processedProperties.add(Qe)};if(l.properties)for(const Qe of Object.keys(l.properties)){Ve(Qe);const gt=l.properties[Qe],rt=Ee[Qe];if(rt)if(Te(gt))if(gt)h.propertiesMatches++,h.propertiesValueMatches++;else{const Et=rt.parent;h.problems.push({location:{offset:Et.keyNode.offset,length:Et.keyNode.length},message:l.errorMessage||_e("Property {0} is not allowed.",Qe)})}else{const Et=new Gn;qn(rt,gt,Et,c,d),h.mergePropertyMatch(Et)}}if(l.patternProperties)for(const Qe of Object.keys(l.patternProperties)){const gt=Fe(Qe);if(gt){const rt=[];for(const Et of Pe)if(gt.test(Et)){rt.push(Et);const It=Ee[Et];if(It){const Mt=l.patternProperties[Qe];if(Te(Mt))if(Mt)h.propertiesMatches++,h.propertiesValueMatches++;else{const $t=It.parent;h.problems.push({location:{offset:$t.keyNode.offset,length:$t.keyNode.length},message:l.errorMessage||_e("Property {0} is not allowed.",Et)})}else{const $t=new Gn;qn(It,Mt,$t,c,d),h.mergePropertyMatch($t)}}}rt.forEach(Ve)}}const $e=l.additionalProperties;if($e!==void 0)for(const Qe of Pe){Ve(Qe);const gt=Ee[Qe];if(gt){if($e===!1){const rt=gt.parent;h.problems.push({location:{offset:rt.keyNode.offset,length:rt.keyNode.length},message:l.errorMessage||_e("Property {0} is not allowed.",Qe)})}else if($e!==!0){const rt=new Gn;qn(gt,$e,rt,c,d),h.mergePropertyMatch(rt)}}}const et=l.unevaluatedProperties;if(et!==void 0){const Qe=[];for(const gt of Pe)if(!h.processedProperties.has(gt)){Qe.push(gt);const rt=Ee[gt];if(rt){if(et===!1){const Et=rt.parent;h.problems.push({location:{offset:Et.keyNode.offset,length:Et.keyNode.length},message:l.errorMessage||_e("Property {0} is not allowed.",gt)})}else if(et!==!0){const Et=new Gn;qn(rt,et,Et,c,d),h.mergePropertyMatch(Et)}}}Qe.forEach(Ve)}if(Me(l.maxProperties)&&pe.properties.length>l.maxProperties&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Object has more properties than limit of {0}.",l.maxProperties)}),Me(l.minProperties)&&pe.properties.length<l.minProperties&&h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Object has fewer properties than the required number of {0}",l.minProperties)}),l.dependentRequired)for(const Qe in l.dependentRequired){const gt=Ee[Qe],rt=l.dependentRequired[Qe];gt&&Array.isArray(rt)&&yt(Qe,rt)}if(l.dependentSchemas)for(const Qe in l.dependentSchemas){const gt=Ee[Qe],rt=l.dependentSchemas[Qe];gt&&P(rt)&&yt(Qe,rt)}if(l.dependencies)for(const Qe in l.dependencies)Ee[Qe]&&yt(Qe,l.dependencies[Qe]);const dt=Wt(l.propertyNames);if(dt)for(const Qe of pe.properties){const gt=Qe.keyNode;gt&&qn(gt,dt,h,ai.instance,d)}function yt(Qe,gt){if(Array.isArray(gt))for(const rt of gt)Ee[rt]?h.propertiesValueMatches++:h.problems.push({location:{offset:pe.offset,length:pe.length},message:_e("Object is missing property {0} required by property {1}.",rt,Qe)});else{const rt=Wt(gt);if(rt){const Et=new Gn;qn(pe,rt,Et,c,d),h.mergePropertyMatch(Et)}}}}}function cr(r,l){const h=[];let c=-1;const d=r.getText(),E=V(d,!1),te=l&&l.collectComments?[]:void 0;function Ie(){for(;;){const It=E.scan();switch(pe(),It){case 12:case 13:Array.isArray(te)&&te.push(ot.create(r.positionAt(E.getTokenOffset()),r.positionAt(E.getTokenOffset()+E.getTokenLength())));break;case 15:case 14:break;default:return It}}}function oe(It){return E.getToken()===It?(Ie(),!0):!1}function de(It,Mt,$t,ln,At=Ye.Error){if(h.length===0||$t!==c){const it=ot.create(r.positionAt($t),r.positionAt(ln));h.push(st.create(it,It,At,Mt,r.languageId)),c=$t}}function we(It,Mt,$t=void 0,ln=[],At=[]){let it=E.getTokenOffset(),St=E.getTokenOffset()+E.getTokenLength();if(it===St&&it>0){for(it--;it>0&&/\s/.test(d.charAt(it));)it--;St=it+1}if(de(It,Mt,it,St),$t&&Ee($t,!1),ln.length+At.length>0){let Pt=E.getToken();for(;Pt!==17;){if(ln.indexOf(Pt)!==-1){Ie();break}else if(At.indexOf(Pt)!==-1)break;Pt=Ie()}}return $t}function pe(){switch(E.getTokenError()){case 4:return we(_e("Invalid unicode sequence in string."),be.InvalidUnicode),!0;case 5:return we(_e("Invalid escape character in string."),be.InvalidEscapeCharacter),!0;case 3:return we(_e("Unexpected end of number."),be.UnexpectedEndOfNumber),!0;case 1:return we(_e("Unexpected end of comment."),be.UnexpectedEndOfComment),!0;case 2:return we(_e("Unexpected end of string."),be.UnexpectedEndOfString),!0;case 6:return we(_e("Invalid characters in string. Control characters must be escaped."),be.InvalidCharacter),!0}return!1}function Ee(It,Mt){return It.length=E.getTokenOffset()+E.getTokenLength()-It.offset,Mt&&Ie(),It}function Pe(It){if(E.getToken()!==3)return;const Mt=new Ft(It,E.getTokenOffset());Ie();const $t=0;let ln=!1;for(;E.getToken()!==4&&E.getToken()!==17;){if(E.getToken()===5){ln||we(_e("Value expected"),be.ValueExpected);const it=E.getTokenOffset();if(Ie(),E.getToken()===4){ln&&de(_e("Trailing comma"),be.TrailingComma,it,it+1);continue}}else ln&&we(_e("Expected comma"),be.CommaExpected);const At=gt(Mt);At?Mt.items.push(At):we(_e("Value expected"),be.ValueExpected,void 0,[],[4,5]),ln=!0}return E.getToken()!==4?we(_e("Expected comma or closing bracket"),be.CommaOrCloseBacketExpected,Mt):Ee(Mt,!0)}const Ve=new Ot(void 0,0,0);function $e(It,Mt){const $t=new Kt(It,E.getTokenOffset(),Ve);let ln=dt($t);if(!ln)if(E.getToken()===16){we(_e("Property keys must be doublequoted"),be.PropertyKeysMustBeDoublequoted);const it=new Ot($t,E.getTokenOffset(),E.getTokenLength());it.value=E.getTokenValue(),ln=it,Ie()}else return;if($t.keyNode=ln,ln.value!=="//"){const it=Mt[ln.value];it?(de(_e("Duplicate object key"),be.DuplicateKey,$t.keyNode.offset,$t.keyNode.offset+$t.keyNode.length,Ye.Warning),P(it)&&de(_e("Duplicate object key"),be.DuplicateKey,it.keyNode.offset,it.keyNode.offset+it.keyNode.length,Ye.Warning),Mt[ln.value]=!0):Mt[ln.value]=$t}if(E.getToken()===6)$t.colonOffset=E.getTokenOffset(),Ie();else if(we(_e("Colon expected"),be.ColonExpected),E.getToken()===10&&r.positionAt(ln.offset+ln.length).line<r.positionAt(E.getTokenOffset()).line)return $t.length=ln.length,$t;const At=gt($t);return At?($t.valueNode=At,$t.length=At.offset+At.length-$t.offset,$t):we(_e("Value expected"),be.ValueExpected,$t,[],[2,5])}function et(It){if(E.getToken()!==1)return;const Mt=new en(It,E.getTokenOffset()),$t=Object.create(null);Ie();let ln=!1;for(;E.getToken()!==2&&E.getToken()!==17;){if(E.getToken()===5){ln||we(_e("Property expected"),be.PropertyExpected);const it=E.getTokenOffset();if(Ie(),E.getToken()===2){ln&&de(_e("Trailing comma"),be.TrailingComma,it,it+1);continue}}else ln&&we(_e("Expected comma"),be.CommaExpected);const At=$e(Mt,$t);At?Mt.properties.push(At):we(_e("Property expected"),be.PropertyExpected,void 0,[],[2,5]),ln=!0}return E.getToken()!==2?we(_e("Expected comma or closing brace"),be.CommaOrCloseBraceExpected,Mt):Ee(Mt,!0)}function dt(It){if(E.getToken()!==10)return;const Mt=new Ot(It,E.getTokenOffset());return Mt.value=E.getTokenValue(),Ee(Mt,!0)}function yt(It){if(E.getToken()!==11)return;const Mt=new qt(It,E.getTokenOffset());if(E.getTokenError()===0){const $t=E.getTokenValue();try{const ln=JSON.parse($t);if(!Me(ln))return we(_e("Invalid number format."),be.Undefined,Mt);Mt.value=ln}catch(ln){return we(_e("Invalid number format."),be.Undefined,Mt)}Mt.isInteger=$t.indexOf(".")===-1}return Ee(Mt,!0)}function Qe(It){let Mt;switch(E.getToken()){case 7:return Ee(new zt(It,E.getTokenOffset()),!0);case 8:return Ee(new Gt(It,!0,E.getTokenOffset()),!0);case 9:return Ee(new Gt(It,!1,E.getTokenOffset()),!0);default:return}}function gt(It){return Pe(It)||et(It)||dt(It)||yt(It)||Qe(It)}let rt;return Ie()!==17&&(rt=gt(rt),rt?E.getToken()!==17&&we(_e("End of file expected."),be.Undefined):we(_e("Expected a JSON object, array or literal."),be.Undefined)),new wr(rt,h,te)}function Rn(r,l,h){if(r!==null&&typeof r=="object"){const c=l+"	";if(Array.isArray(r)){if(r.length===0)return"[]";let d=`[
`;for(let E=0;E<r.length;E++)d+=c+Rn(r[E],c,h),E<r.length-1&&(d+=","),d+=`
`;return d+=l+"]",d}else{const d=Object.keys(r);if(d.length===0)return"{}";let E=`{
`;for(let te=0;te<d.length;te++){const Ie=d[te];E+=c+JSON.stringify(Ie)+": "+Rn(r[Ie],c,h),te<d.length-1&&(E+=","),E+=`
`}return E+=l+"}",E}}return h(r)}var es=[",","}","]"],vi=[":"],ts=class{constructor(r,l=[],h=Promise,c={}){this.schemaService=r,this.contributions=l,this.promiseConstructor=h,this.clientCapabilities=c}doResolve(r){for(let l=this.contributions.length-1;l>=0;l--){const h=this.contributions[l].resolveCompletion;if(h){const c=h(r);if(c)return c}}return this.promiseConstructor.resolve(r)}doComplete(r,l,h){const c={items:[],isIncomplete:!1},d=r.getText(),E=r.offsetAt(l);let te=h.getNodeFromOffset(E,!0);if(this.isInComment(r,te?te.offset:0,E))return Promise.resolve(c);if(te&&E===te.offset+te.length&&E>0){const Ee=d[E-1];(te.type==="object"&&Ee==="}"||te.type==="array"&&Ee==="]")&&(te=te.parent)}const Ie=this.getCurrentWord(r,E);let oe;if(te&&(te.type==="string"||te.type==="number"||te.type==="boolean"||te.type==="null"))oe=ot.create(r.positionAt(te.offset),r.positionAt(te.offset+te.length));else{let Ee=E-Ie.length;Ee>0&&d[Ee-1]==='"'&&Ee--,oe=ot.create(r.positionAt(Ee),l)}const de=!1,we=new Map,pe={add:Ee=>{let Pe=Ee.label;const Ve=we.get(Pe);if(Ve)Ve.documentation||(Ve.documentation=Ee.documentation),Ve.detail||(Ve.detail=Ee.detail),Ve.labelDetails||(Ve.labelDetails=Ee.labelDetails);else{if(Pe=Pe.replace(/[\n]/g,"\u21B5"),Pe.length>60){const $e=Pe.substr(0,57).trim()+"...";we.has($e)||(Pe=$e)}Ee.textEdit=Ct.replace(oe,Ee.insertText),de&&(Ee.commitCharacters=Ee.kind===Ht.Property?vi:es),Ee.label=Pe,we.set(Pe,Ee),c.items.push(Ee)}},setAsIncomplete:()=>{c.isIncomplete=!0},error:Ee=>{console.error(Ee)},getNumberOfProposals:()=>c.items.length};return this.schemaService.getSchemaForResource(r.uri,h).then(Ee=>{const Pe=[];let Ve=!0,$e="",et;if(te&&te.type==="string"){const yt=te.parent;yt&&yt.type==="property"&&yt.keyNode===te&&(Ve=!yt.valueNode,et=yt,$e=d.substr(te.offset+1,te.length-2),yt&&(te=yt.parent))}if(te&&te.type==="object"){if(te.offset===E)return c;te.properties.forEach(rt=>{(!et||et!==rt)&&we.set(rt.keyNode.value,Ui.create("__"))});let Qe="";Ve&&(Qe=this.evaluateSeparatorAfter(r,r.offsetAt(oe.end))),Ee?this.getPropertyCompletions(Ee,h,te,Ve,Qe,pe):this.getSchemaLessPropertyCompletions(h,te,$e,pe);const gt=Ei(te);this.contributions.forEach(rt=>{const Et=rt.collectPropertyCompletions(r.uri,gt,Ie,Ve,Qe==="",pe);Et&&Pe.push(Et)}),!Ee&&Ie.length>0&&d.charAt(E-Ie.length-1)!=='"'&&(pe.add({kind:Ht.Property,label:this.getLabelForValue(Ie),insertText:this.getInsertTextForProperty(Ie,void 0,!1,Qe),insertTextFormat:hn.Snippet,documentation:""}),pe.setAsIncomplete())}const dt={};return Ee?this.getValueCompletions(Ee,h,te,E,r,pe,dt):this.getSchemaLessValueCompletions(h,te,E,r,pe),this.contributions.length>0&&this.getContributedValueCompletions(h,te,E,r,pe,Pe),this.promiseConstructor.all(Pe).then(()=>{if(pe.getNumberOfProposals()===0){let yt=E;te&&(te.type==="string"||te.type==="number"||te.type==="boolean"||te.type==="null")&&(yt=te.offset+te.length);const Qe=this.evaluateSeparatorAfter(r,yt);this.addFillerValueCompletions(dt,Qe,pe)}return c})})}getPropertyCompletions(r,l,h,c,d,E){l.getMatchingSchemas(r.schema,h.offset).forEach(Ie=>{if(Ie.node===h&&!Ie.inverted){const oe=Ie.schema.properties;oe&&Object.keys(oe).forEach(we=>{const pe=oe[we];if(typeof pe=="object"&&!pe.deprecationMessage&&!pe.doNotSuggest){const Ee={kind:Ht.Property,label:we,insertText:this.getInsertTextForProperty(we,pe,c,d),insertTextFormat:hn.Snippet,filterText:this.getFilterTextForValue(we),documentation:this.fromMarkup(pe.markdownDescription)||pe.description||""};pe.suggestSortText!==void 0&&(Ee.sortText=pe.suggestSortText),Ee.insertText&&xe(Ee.insertText,`$1${d}`)&&(Ee.command={title:"Suggest",command:"editor.action.triggerSuggest"}),E.add(Ee)}});const de=Ie.schema.propertyNames;if(typeof de=="object"&&!de.deprecationMessage&&!de.doNotSuggest){const we=(pe,Ee=void 0)=>{const Pe={kind:Ht.Property,label:pe,insertText:this.getInsertTextForProperty(pe,void 0,c,d),insertTextFormat:hn.Snippet,filterText:this.getFilterTextForValue(pe),documentation:Ee||this.fromMarkup(de.markdownDescription)||de.description||""};de.suggestSortText!==void 0&&(Pe.sortText=de.suggestSortText),Pe.insertText&&xe(Pe.insertText,`$1${d}`)&&(Pe.command={title:"Suggest",command:"editor.action.triggerSuggest"}),E.add(Pe)};if(de.enum)for(let pe=0;pe<de.enum.length;pe++){let Ee;de.markdownEnumDescriptions&&pe<de.markdownEnumDescriptions.length?Ee=this.fromMarkup(de.markdownEnumDescriptions[pe]):de.enumDescriptions&&pe<de.enumDescriptions.length&&(Ee=de.enumDescriptions[pe]),we(de.enum[pe],Ee)}de.const&&we(de.const)}}})}getSchemaLessPropertyCompletions(r,l,h,c){const d=E=>{E.properties.forEach(te=>{const Ie=te.keyNode.value;c.add({kind:Ht.Property,label:Ie,insertText:this.getInsertTextForValue(Ie,""),insertTextFormat:hn.Snippet,filterText:this.getFilterTextForValue(Ie),documentation:""})})};if(l.parent)if(l.parent.type==="property"){const E=l.parent.keyNode.value;r.visit(te=>(te.type==="property"&&te!==l.parent&&te.keyNode.value===E&&te.valueNode&&te.valueNode.type==="object"&&d(te.valueNode),!0))}else l.parent.type==="array"&&l.parent.items.forEach(E=>{E.type==="object"&&E!==l&&d(E)});else l.type==="object"&&c.add({kind:Ht.Property,label:"$schema",insertText:this.getInsertTextForProperty("$schema",void 0,!0,""),insertTextFormat:hn.Snippet,documentation:"",filterText:this.getFilterTextForValue("$schema")})}getSchemaLessValueCompletions(r,l,h,c,d){let E=h;if(l&&(l.type==="string"||l.type==="number"||l.type==="boolean"||l.type==="null")&&(E=l.offset+l.length,l=l.parent),!l){d.add({kind:this.getSuggestionKind("object"),label:"Empty object",insertText:this.getInsertTextForValue({},""),insertTextFormat:hn.Snippet,documentation:""}),d.add({kind:this.getSuggestionKind("array"),label:"Empty array",insertText:this.getInsertTextForValue([],""),insertTextFormat:hn.Snippet,documentation:""});return}const te=this.evaluateSeparatorAfter(c,E),Ie=oe=>{oe.parent&&!xr(oe.parent,h,!0)&&d.add({kind:this.getSuggestionKind(oe.type),label:this.getLabelTextForMatchingNode(oe,c),insertText:this.getInsertTextForMatchingNode(oe,c,te),insertTextFormat:hn.Snippet,documentation:""}),oe.type==="boolean"&&this.addBooleanValueCompletion(!oe.value,te,d)};if(l.type==="property"&&h>(l.colonOffset||0)){const oe=l.valueNode;if(oe&&(h>oe.offset+oe.length||oe.type==="object"||oe.type==="array"))return;const de=l.keyNode.value;r.visit(we=>(we.type==="property"&&we.keyNode.value===de&&we.valueNode&&Ie(we.valueNode),!0)),de==="$schema"&&l.parent&&!l.parent.parent&&this.addDollarSchemaCompletions(te,d)}if(l.type==="array")if(l.parent&&l.parent.type==="property"){const oe=l.parent.keyNode.value;r.visit(de=>(de.type==="property"&&de.keyNode.value===oe&&de.valueNode&&de.valueNode.type==="array"&&de.valueNode.items.forEach(Ie),!0))}else l.items.forEach(Ie)}getValueCompletions(r,l,h,c,d,E,te){let Ie=c,oe,de;if(h&&(h.type==="string"||h.type==="number"||h.type==="boolean"||h.type==="null")&&(Ie=h.offset+h.length,de=h,h=h.parent),!h){this.addSchemaValueCompletions(r.schema,"",E,te);return}if(h.type==="property"&&c>(h.colonOffset||0)){const we=h.valueNode;if(we&&c>we.offset+we.length)return;oe=h.keyNode.value,h=h.parent}if(h&&(oe!==void 0||h.type==="array")){const we=this.evaluateSeparatorAfter(d,Ie),pe=l.getMatchingSchemas(r.schema,h.offset,de);for(const Ee of pe)if(Ee.node===h&&!Ee.inverted&&Ee.schema){if(h.type==="array"&&Ee.schema.items){let Pe=E;if(Ee.schema.uniqueItems){const Ve=new Set;h.children.forEach($e=>{$e.type!=="array"&&$e.type!=="object"&&Ve.add(this.getLabelForValue(_i($e)))}),Pe=Lr(wi({},E),{add($e){Ve.has($e.label)||E.add($e)}})}if(Array.isArray(Ee.schema.items)){const Ve=this.findItemAtOffset(h,d,c);Ve<Ee.schema.items.length&&this.addSchemaValueCompletions(Ee.schema.items[Ve],we,Pe,te)}else this.addSchemaValueCompletions(Ee.schema.items,we,Pe,te)}if(oe!==void 0){let Pe=!1;if(Ee.schema.properties){const Ve=Ee.schema.properties[oe];Ve&&(Pe=!0,this.addSchemaValueCompletions(Ve,we,E,te))}if(Ee.schema.patternProperties&&!Pe)for(const Ve of Object.keys(Ee.schema.patternProperties)){const $e=Fe(Ve);if($e!=null&&$e.test(oe)){Pe=!0;const et=Ee.schema.patternProperties[Ve];this.addSchemaValueCompletions(et,we,E,te)}}if(Ee.schema.additionalProperties&&!Pe){const Ve=Ee.schema.additionalProperties;this.addSchemaValueCompletions(Ve,we,E,te)}}}oe==="$schema"&&!h.parent&&this.addDollarSchemaCompletions(we,E),te.boolean&&(this.addBooleanValueCompletion(!0,we,E),this.addBooleanValueCompletion(!1,we,E)),te.null&&this.addNullValueCompletion(we,E)}}getContributedValueCompletions(r,l,h,c,d,E){if(!l)this.contributions.forEach(te=>{const Ie=te.collectDefaultCompletions(c.uri,d);Ie&&E.push(Ie)});else if((l.type==="string"||l.type==="number"||l.type==="boolean"||l.type==="null")&&(l=l.parent),l&&l.type==="property"&&h>(l.colonOffset||0)){const te=l.keyNode.value,Ie=l.valueNode;if((!Ie||h<=Ie.offset+Ie.length)&&l.parent){const oe=Ei(l.parent);this.contributions.forEach(de=>{const we=de.collectValueCompletions(c.uri,oe,te,d);we&&E.push(we)})}}}addSchemaValueCompletions(r,l,h,c){typeof r=="object"&&(this.addEnumValueCompletions(r,l,h),this.addDefaultValueCompletions(r,l,h),this.collectTypes(r,c),Array.isArray(r.allOf)&&r.allOf.forEach(d=>this.addSchemaValueCompletions(d,l,h,c)),Array.isArray(r.anyOf)&&r.anyOf.forEach(d=>this.addSchemaValueCompletions(d,l,h,c)),Array.isArray(r.oneOf)&&r.oneOf.forEach(d=>this.addSchemaValueCompletions(d,l,h,c)))}addDefaultValueCompletions(r,l,h,c=0){let d=!1;if(He(r.default)){let E=r.type,te=r.default;for(let oe=c;oe>0;oe--)te=[te],E="array";const Ie={kind:this.getSuggestionKind(E),label:this.getLabelForValue(te),insertText:this.getInsertTextForValue(te,l),insertTextFormat:hn.Snippet};this.doesSupportsLabelDetails()?Ie.labelDetails={description:_e("Default value")}:Ie.detail=_e("Default value"),h.add(Ie),d=!0}Array.isArray(r.examples)&&r.examples.forEach(E=>{let te=r.type,Ie=E;for(let oe=c;oe>0;oe--)Ie=[Ie],te="array";h.add({kind:this.getSuggestionKind(te),label:this.getLabelForValue(Ie),insertText:this.getInsertTextForValue(Ie,l),insertTextFormat:hn.Snippet}),d=!0}),Array.isArray(r.defaultSnippets)&&r.defaultSnippets.forEach(E=>{let te=r.type,Ie=E.body,oe=E.label,de,we;if(He(Ie)){let pe=r.type;for(let Ee=c;Ee>0;Ee--)Ie=[Ie],pe="array";de=this.getInsertTextForSnippetValue(Ie,l),we=this.getFilterTextForSnippetValue(Ie),oe=oe||this.getLabelForSnippetValue(Ie)}else if(typeof E.bodyText=="string"){let pe="",Ee="",Pe="";for(let Ve=c;Ve>0;Ve--)pe=pe+Pe+`[
`,Ee=Ee+`
`+Pe+"]",Pe+="	",te="array";de=pe+Pe+E.bodyText.split(`
`).join(`
`+Pe)+Ee+l,oe=oe||de,we=de.replace(/[\n]/g,"")}else return;h.add({kind:this.getSuggestionKind(te),label:oe,documentation:this.fromMarkup(E.markdownDescription)||E.description,insertText:de,insertTextFormat:hn.Snippet,filterText:we}),d=!0}),!d&&typeof r.items=="object"&&!Array.isArray(r.items)&&c<5&&this.addDefaultValueCompletions(r.items,l,h,c+1)}addEnumValueCompletions(r,l,h){if(He(r.const)&&h.add({kind:this.getSuggestionKind(r.type),label:this.getLabelForValue(r.const),insertText:this.getInsertTextForValue(r.const,l),insertTextFormat:hn.Snippet,documentation:this.fromMarkup(r.markdownDescription)||r.description}),Array.isArray(r.enum))for(let c=0,d=r.enum.length;c<d;c++){const E=r.enum[c];let te=this.fromMarkup(r.markdownDescription)||r.description;r.markdownEnumDescriptions&&c<r.markdownEnumDescriptions.length&&this.doesSupportMarkdown()?te=this.fromMarkup(r.markdownEnumDescriptions[c]):r.enumDescriptions&&c<r.enumDescriptions.length&&(te=r.enumDescriptions[c]),h.add({kind:this.getSuggestionKind(r.type),label:this.getLabelForValue(E),insertText:this.getInsertTextForValue(E,l),insertTextFormat:hn.Snippet,documentation:te})}}collectTypes(r,l){if(Array.isArray(r.enum)||He(r.const))return;const h=r.type;Array.isArray(h)?h.forEach(c=>l[c]=!0):h&&(l[h]=!0)}addFillerValueCompletions(r,l,h){r.object&&h.add({kind:this.getSuggestionKind("object"),label:"{}",insertText:this.getInsertTextForGuessedValue({},l),insertTextFormat:hn.Snippet,detail:_e("New object"),documentation:""}),r.array&&h.add({kind:this.getSuggestionKind("array"),label:"[]",insertText:this.getInsertTextForGuessedValue([],l),insertTextFormat:hn.Snippet,detail:_e("New array"),documentation:""})}addBooleanValueCompletion(r,l,h){h.add({kind:this.getSuggestionKind("boolean"),label:r?"true":"false",insertText:this.getInsertTextForValue(r,l),insertTextFormat:hn.Snippet,documentation:""})}addNullValueCompletion(r,l){l.add({kind:this.getSuggestionKind("null"),label:"null",insertText:"null"+r,insertTextFormat:hn.Snippet,documentation:""})}addDollarSchemaCompletions(r,l){this.schemaService.getRegisteredSchemaIds(c=>c==="http"||c==="https").forEach(c=>{c.startsWith("http://json-schema.org/draft-")&&(c=c+"#"),l.add({kind:Ht.Module,label:this.getLabelForValue(c),filterText:this.getFilterTextForValue(c),insertText:this.getInsertTextForValue(c,r),insertTextFormat:hn.Snippet,documentation:""})})}getLabelForValue(r){return JSON.stringify(r)}getValueFromLabel(r){return JSON.parse(r)}getFilterTextForValue(r){return JSON.stringify(r)}getFilterTextForSnippetValue(r){return JSON.stringify(r).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getLabelForSnippetValue(r){return JSON.stringify(r).replace(/\$\{\d+:([^}]+)\}|\$\d+/g,"$1")}getInsertTextForPlainText(r){return r.replace(/[\\\$\}]/g,"\\$&")}getInsertTextForValue(r,l){const h=JSON.stringify(r,null,"	");return h==="{}"?"{$1}"+l:h==="[]"?"[$1]"+l:this.getInsertTextForPlainText(h+l)}getInsertTextForSnippetValue(r,l){return Rn(r,"",c=>typeof c=="string"&&c[0]==="^"?c.substr(1):JSON.stringify(c))+l}getInsertTextForGuessedValue(r,l){switch(typeof r){case"object":return r===null?"${1:null}"+l:this.getInsertTextForValue(r,l);case"string":let h=JSON.stringify(r);return h=h.substr(1,h.length-2),h=this.getInsertTextForPlainText(h),'"${1:'+h+'}"'+l;case"number":case"boolean":return"${1:"+JSON.stringify(r)+"}"+l}return this.getInsertTextForValue(r,l)}getSuggestionKind(r){if(Array.isArray(r)){const l=r;r=l.length>0?l[0]:void 0}if(!r)return Ht.Value;switch(r){case"string":return Ht.Value;case"object":return Ht.Module;case"property":return Ht.Property;default:return Ht.Value}}getLabelTextForMatchingNode(r,l){switch(r.type){case"array":return"[]";case"object":return"{}";default:return l.getText().substr(r.offset,r.length)}}getInsertTextForMatchingNode(r,l,h){switch(r.type){case"array":return this.getInsertTextForValue([],h);case"object":return this.getInsertTextForValue({},h);default:const c=l.getText().substr(r.offset,r.length)+h;return this.getInsertTextForPlainText(c)}}getInsertTextForProperty(r,l,h,c){const d=this.getInsertTextForValue(r,"");if(!h)return d;const E=d+": ";let te,Ie=0;if(l){if(Array.isArray(l.defaultSnippets)){if(l.defaultSnippets.length===1){const oe=l.defaultSnippets[0].body;He(oe)&&(te=this.getInsertTextForSnippetValue(oe,""))}Ie+=l.defaultSnippets.length}if(l.enum&&(!te&&l.enum.length===1&&(te=this.getInsertTextForGuessedValue(l.enum[0],"")),Ie+=l.enum.length),He(l.const)&&(te||(te=this.getInsertTextForGuessedValue(l.const,"")),Ie++),He(l.default)&&(te||(te=this.getInsertTextForGuessedValue(l.default,"")),Ie++),Array.isArray(l.examples)&&l.examples.length&&(te||(te=this.getInsertTextForGuessedValue(l.examples[0],"")),Ie+=l.examples.length),Ie===0){let oe=Array.isArray(l.type)?l.type[0]:l.type;switch(oe||(l.properties?oe="object":l.items&&(oe="array")),oe){case"boolean":te="$1";break;case"string":te='"$1"';break;case"object":te="{$1}";break;case"array":te="[$1]";break;case"number":case"integer":te="${1:0}";break;case"null":te="${1:null}";break;default:return d}}}return(!te||Ie>1)&&(te="$1"),E+te+c}getCurrentWord(r,l){let h=l-1;const c=r.getText();for(;h>=0&&` 	
\r\v":{[,]}`.indexOf(c.charAt(h))===-1;)h--;return c.substring(h+1,l)}evaluateSeparatorAfter(r,l){const h=V(r.getText(),!0);switch(h.setPosition(l),h.scan()){case 5:case 2:case 4:case 17:return"";default:return","}}findItemAtOffset(r,l,h){const c=V(l.getText(),!0),d=r.items;for(let E=d.length-1;E>=0;E--){const te=d[E];if(h>te.offset+te.length)return c.setPosition(te.offset+te.length),c.scan()===5&&h>=c.getTokenOffset()+c.getTokenLength()?E+1:E;if(h>=te.offset)return E}return 0}isInComment(r,l,h){const c=V(r.getText(),!1);c.setPosition(l);let d=c.scan();for(;d!==17&&c.getTokenOffset()+c.getTokenLength()<h;)d=c.scan();return(d===12||d===13)&&c.getTokenOffset()<=h}fromMarkup(r){if(r&&this.doesSupportMarkdown())return{kind:un.Markdown,value:r}}doesSupportMarkdown(){var r,l,h;if(!He(this.supportsMarkdown)){const c=(h=(l=(r=this.clientCapabilities.textDocument)==null?void 0:r.completion)==null?void 0:l.completionItem)==null?void 0:h.documentationFormat;this.supportsMarkdown=Array.isArray(c)&&c.indexOf(un.Markdown)!==-1}return this.supportsMarkdown}doesSupportsCommitCharacters(){var r,l,h;return He(this.supportsCommitCharacters)||(this.labelDetailsSupport=(h=(l=(r=this.clientCapabilities.textDocument)==null?void 0:r.completion)==null?void 0:l.completionItem)==null?void 0:h.commitCharactersSupport),this.supportsCommitCharacters}doesSupportsLabelDetails(){var r,l,h;return He(this.labelDetailsSupport)||(this.labelDetailsSupport=(h=(l=(r=this.clientCapabilities.textDocument)==null?void 0:r.completion)==null?void 0:l.completionItem)==null?void 0:h.labelDetailsSupport),this.labelDetailsSupport}},qi=class{constructor(r,l=[],h){this.schemaService=r,this.contributions=l,this.promise=h||Promise}doHover(r,l,h){const c=r.offsetAt(l);let d=h.getNodeFromOffset(c);if(!d||(d.type==="object"||d.type==="array")&&c>d.offset+1&&c<d.offset+d.length-1)return this.promise.resolve(null);const E=d;if(d.type==="string"){const de=d.parent;if(de&&de.type==="property"&&de.keyNode===d&&(d=de.valueNode,!d))return this.promise.resolve(null)}const te=ot.create(r.positionAt(E.offset),r.positionAt(E.offset+E.length)),Ie=de=>({contents:de,range:te}),oe=Ei(d);for(let de=this.contributions.length-1;de>=0;de--){const pe=this.contributions[de].getInfoContribution(r.uri,oe);if(pe)return pe.then(Ee=>Ie(Ee))}return this.schemaService.getSchemaForResource(r.uri,h).then(de=>{if(de&&d){const we=h.getMatchingSchemas(de.schema,d.offset);let pe,Ee,Pe,Ve;we.every(et=>{if(et.node===d&&!et.inverted&&et.schema&&(pe=pe||et.schema.title,Ee=Ee||et.schema.markdownDescription||Dn(et.schema.description),et.schema.enum)){const dt=et.schema.enum.indexOf(_i(d));et.schema.markdownEnumDescriptions?Pe=et.schema.markdownEnumDescriptions[dt]:et.schema.enumDescriptions&&(Pe=Dn(et.schema.enumDescriptions[dt])),Pe&&(Ve=et.schema.enum[dt],typeof Ve!="string"&&(Ve=JSON.stringify(Ve)))}return!0});let $e="";return pe&&($e=Dn(pe)),Ee&&($e.length>0&&($e+=`

`),$e+=Ee),Pe&&($e.length>0&&($e+=`

`),$e+=`\`${zr(Ve)}\`: ${Pe}`),Ie([$e])}return null})}};function Dn(r){if(r)return r.replace(/([^\n\r])(\r?\n)([^\n\r])/gm,`$1

$3`).replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function zr(r){return r.indexOf("`")!==-1?"`` "+r+" ``":r}var ns=class{constructor(r,l){this.jsonSchemaService=r,this.promise=l,this.validationEnabled=!0}configure(r){r&&(this.validationEnabled=r.validate!==!1,this.commentSeverity=r.allowComments?void 0:Ye.Error)}doValidation(r,l,h,c){if(!this.validationEnabled)return this.promise.resolve([]);const d=[],E={},te=oe=>{const de=oe.range.start.line+" "+oe.range.start.character+" "+oe.message;E[de]||(E[de]=!0,d.push(oe))},Ie=oe=>{let de=h!=null&&h.trailingCommas?fr(h.trailingCommas):Ye.Error,we=h!=null&&h.comments?fr(h.comments):this.commentSeverity,pe=h!=null&&h.schemaValidation?fr(h.schemaValidation):Ye.Warning,Ee=h!=null&&h.schemaRequest?fr(h.schemaRequest):Ye.Warning;if(oe){const Pe=(Ve,$e)=>{if(l.root&&Ee){const et=l.root,dt=et.type==="object"?et.properties[0]:void 0;if(dt&&dt.keyNode.value==="$schema"){const yt=dt.valueNode||dt,Qe=ot.create(r.positionAt(yt.offset),r.positionAt(yt.offset+yt.length));te(st.create(Qe,Ve,Ee,$e))}else{const yt=ot.create(r.positionAt(et.offset),r.positionAt(et.offset+1));te(st.create(yt,Ve,Ee,$e))}}};if(oe.errors.length)Pe(oe.errors[0],be.SchemaResolveError);else if(pe){for(const $e of oe.warnings)Pe($e,be.SchemaUnsupportedFeature);const Ve=l.validate(r,oe.schema,pe,h==null?void 0:h.schemaDraft);Ve&&Ve.forEach(te)}Ci(oe.schema)&&(we=void 0),hr(oe.schema)&&(de=void 0)}for(const Pe of l.syntaxErrors){if(Pe.code===be.TrailingComma){if(typeof de!="number")continue;Pe.severity=de}te(Pe)}if(typeof we=="number"){const Pe=_e("Comments are not permitted in JSON.");l.comments.forEach(Ve=>{te(st.create(Ve,Pe,we,be.CommentNotPermitted))})}return d};if(c){const oe=c.id||"schemaservice://untitled/"+Sr++;return this.jsonSchemaService.registerExternalSchema({uri:oe,schema:c}).getResolvedSchema().then(we=>Ie(we))}return this.jsonSchemaService.getSchemaForResource(r.uri,l).then(oe=>Ie(oe))}getLanguageStatus(r,l){return{schemas:this.jsonSchemaService.getSchemaURIsForResource(r.uri,l)}}},Sr=0;function Ci(r){if(r&&typeof r=="object"){if(Te(r.allowComments))return r.allowComments;if(r.allOf)for(const l of r.allOf){const h=Ci(l);if(Te(h))return h}}}function hr(r){if(r&&typeof r=="object"){if(Te(r.allowTrailingCommas))return r.allowTrailingCommas;const l=r;if(Te(l.allowsTrailingCommas))return l.allowsTrailingCommas;if(r.allOf)for(const h of r.allOf){const c=hr(h);if(Te(c))return c}}}function fr(r){switch(r){case"error":return Ye.Error;case"warning":return Ye.Warning;case"ignore":return}}var Er=48,is=57,nr=65,Di=97,dr=102;function Mn(r){return r<Er?0:r<=is?r-Er:(r<Di&&(r+=Di-nr),r>=Di&&r<=dr?r-Di+10:0)}function rs(r){if(r[0]==="#")switch(r.length){case 4:return{red:Mn(r.charCodeAt(1))*17/255,green:Mn(r.charCodeAt(2))*17/255,blue:Mn(r.charCodeAt(3))*17/255,alpha:1};case 5:return{red:Mn(r.charCodeAt(1))*17/255,green:Mn(r.charCodeAt(2))*17/255,blue:Mn(r.charCodeAt(3))*17/255,alpha:Mn(r.charCodeAt(4))*17/255};case 7:return{red:(Mn(r.charCodeAt(1))*16+Mn(r.charCodeAt(2)))/255,green:(Mn(r.charCodeAt(3))*16+Mn(r.charCodeAt(4)))/255,blue:(Mn(r.charCodeAt(5))*16+Mn(r.charCodeAt(6)))/255,alpha:1};case 9:return{red:(Mn(r.charCodeAt(1))*16+Mn(r.charCodeAt(2)))/255,green:(Mn(r.charCodeAt(3))*16+Mn(r.charCodeAt(4)))/255,blue:(Mn(r.charCodeAt(5))*16+Mn(r.charCodeAt(6)))/255,alpha:(Mn(r.charCodeAt(7))*16+Mn(r.charCodeAt(8)))/255}}}var ss=class{constructor(r){this.schemaService=r}findDocumentSymbols(r,l,h={resultLimit:Number.MAX_VALUE}){const c=l.root;if(!c)return[];let d=h.resultLimit||Number.MAX_VALUE;const E=r.uri;if((E==="vscode://defaultsettings/keybindings.json"||xe(E.toLowerCase(),"/user/keybindings.json"))&&c.type==="array"){const pe=[];for(const Ee of c.items)if(Ee.type==="object"){for(const Pe of Ee.properties)if(Pe.keyNode.value==="key"&&Pe.valueNode){const Ve=lt.create(r.uri,Ri(r,Ee));if(pe.push({name:Nr(Pe.valueNode),kind:ii.Function,location:Ve}),d--,d<=0)return h&&h.onResultLimitExceeded&&h.onResultLimitExceeded(E),pe}}return pe}const te=[{node:c,containerName:""}];let Ie=0,oe=!1;const de=[],we=(pe,Ee)=>{pe.type==="array"?pe.items.forEach(Pe=>{Pe&&te.push({node:Pe,containerName:Ee})}):pe.type==="object"&&pe.properties.forEach(Pe=>{const Ve=Pe.valueNode;if(Ve)if(d>0){d--;const $e=lt.create(r.uri,Ri(r,Pe)),et=Ee?Ee+"."+Pe.keyNode.value:Pe.keyNode.value;de.push({name:this.getKeyLabel(Pe),kind:this.getSymbolKind(Ve.type),location:$e,containerName:Ee}),te.push({node:Ve,containerName:et})}else oe=!0})};for(;Ie<te.length;){const pe=te[Ie++];we(pe.node,pe.containerName)}return oe&&h&&h.onResultLimitExceeded&&h.onResultLimitExceeded(E),de}findDocumentSymbols2(r,l,h={resultLimit:Number.MAX_VALUE}){const c=l.root;if(!c)return[];let d=h.resultLimit||Number.MAX_VALUE;const E=r.uri;if((E==="vscode://defaultsettings/keybindings.json"||xe(E.toLowerCase(),"/user/keybindings.json"))&&c.type==="array"){const pe=[];for(const Ee of c.items)if(Ee.type==="object"){for(const Pe of Ee.properties)if(Pe.keyNode.value==="key"&&Pe.valueNode){const Ve=Ri(r,Ee),$e=Ri(r,Pe.keyNode);if(pe.push({name:Nr(Pe.valueNode),kind:ii.Function,range:Ve,selectionRange:$e}),d--,d<=0)return h&&h.onResultLimitExceeded&&h.onResultLimitExceeded(E),pe}}return pe}const te=[],Ie=[{node:c,result:te}];let oe=0,de=!1;const we=(pe,Ee)=>{pe.type==="array"?pe.items.forEach((Pe,Ve)=>{if(Pe)if(d>0){d--;const $e=Ri(r,Pe),et=$e,yt={name:String(Ve),kind:this.getSymbolKind(Pe.type),range:$e,selectionRange:et,children:[]};Ee.push(yt),Ie.push({result:yt.children,node:Pe})}else de=!0}):pe.type==="object"&&pe.properties.forEach(Pe=>{const Ve=Pe.valueNode;if(Ve)if(d>0){d--;const $e=Ri(r,Pe),et=Ri(r,Pe.keyNode),dt=[],yt={name:this.getKeyLabel(Pe),kind:this.getSymbolKind(Ve.type),range:$e,selectionRange:et,children:dt,detail:this.getDetail(Ve)};Ee.push(yt),Ie.push({result:dt,node:Ve})}else de=!0})};for(;oe<Ie.length;){const pe=Ie[oe++];we(pe.node,pe.result)}return de&&h&&h.onResultLimitExceeded&&h.onResultLimitExceeded(E),te}getSymbolKind(r){switch(r){case"object":return ii.Module;case"string":return ii.String;case"number":return ii.Number;case"array":return ii.Array;case"boolean":return ii.Boolean;default:return ii.Variable}}getKeyLabel(r){let l=r.keyNode.value;return l&&(l=l.replace(/[\n]/g,"\u21B5")),l&&l.trim()?l:`"${l}"`}getDetail(r){if(r){if(r.type==="boolean"||r.type==="number"||r.type==="null"||r.type==="string")return String(r.value);if(r.type==="array")return r.children.length?void 0:"[]";if(r.type==="object")return r.children.length?void 0:"{}"}}findDocumentColors(r,l,h){return this.schemaService.getSchemaForResource(r.uri,l).then(c=>{const d=[];if(c){let E=h&&typeof h.resultLimit=="number"?h.resultLimit:Number.MAX_VALUE;const te=l.getMatchingSchemas(c.schema),Ie={};for(const oe of te)if(!oe.inverted&&oe.schema&&(oe.schema.format==="color"||oe.schema.format==="color-hex")&&oe.node&&oe.node.type==="string"){const de=String(oe.node.offset);if(!Ie[de]){const we=rs(_i(oe.node));if(we){const pe=Ri(r,oe.node);d.push({color:we,range:pe})}if(Ie[de]=!0,E--,E<=0)return h&&h.onResultLimitExceeded&&h.onResultLimitExceeded(r.uri),d}}}return d})}getColorPresentations(r,l,h,c){const d=[],E=Math.round(h.red*255),te=Math.round(h.green*255),Ie=Math.round(h.blue*255);function oe(we){const pe=we.toString(16);return pe.length!==2?"0"+pe:pe}let de;return h.alpha===1?de=`#${oe(E)}${oe(te)}${oe(Ie)}`:de=`#${oe(E)}${oe(te)}${oe(Ie)}${oe(Math.round(h.alpha*255))}`,d.push({label:de,textEdit:Ct.replace(c,JSON.stringify(de))}),d}};function Ri(r,l){return ot.create(r.positionAt(l.offset),r.positionAt(l.offset+l.length))}function Nr(r){return _i(r)||_e("<empty>")}var Jn={schemaAssociations:[],schemas:{"http://json-schema.org/draft-04/schema#":{$schema:"http://json-schema.org/draft-04/schema#",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},positiveInteger:{type:"integer",minimum:0},positiveIntegerDefault0:{allOf:[{$ref:"#/definitions/positiveInteger"},{default:0}]},simpleTypes:{type:"string",enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},minItems:1,uniqueItems:!0}},type:"object",properties:{id:{type:"string",format:"uri"},$schema:{type:"string",format:"uri"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",minimum:0,exclusiveMinimum:!0},maximum:{type:"number"},exclusiveMaximum:{type:"boolean",default:!1},minimum:{type:"number"},exclusiveMinimum:{type:"boolean",default:!1},maxLength:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minLength:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},pattern:{type:"string",format:"regex"},additionalItems:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minItems:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},uniqueItems:{type:"boolean",default:!1},maxProperties:{allOf:[{$ref:"#/definitions/positiveInteger"}]},minProperties:{allOf:[{$ref:"#/definitions/positiveIntegerDefault0"}]},required:{allOf:[{$ref:"#/definitions/stringArray"}]},additionalProperties:{anyOf:[{type:"boolean"},{$ref:"#"}],default:{}},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{anyOf:[{type:"string",enum:["date-time","uri","email","hostname","ipv4","ipv6","regex"]},{type:"string"}]},allOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},anyOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},oneOf:{allOf:[{$ref:"#/definitions/schemaArray"}]},not:{allOf:[{$ref:"#"}]}},dependencies:{exclusiveMaximum:["maximum"],exclusiveMinimum:["minimum"]},default:{}},"http://json-schema.org/draft-07/schema#":{definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}},vn={id:_e("A unique identifier for the schema."),$schema:_e("The schema to verify this document against."),title:_e("A descriptive title of the element."),description:_e("A long description of the element. Used in hover menus and suggestions."),default:_e("A default value. Used by suggestions."),multipleOf:_e("A number that should cleanly divide the current value (i.e. have no remainder)."),maximum:_e("The maximum numerical value, inclusive by default."),exclusiveMaximum:_e("Makes the maximum property exclusive."),minimum:_e("The minimum numerical value, inclusive by default."),exclusiveMinimum:_e("Makes the minimum property exclusive."),maxLength:_e("The maximum length of a string."),minLength:_e("The minimum length of a string."),pattern:_e("A regular expression to match the string against. It is not implicitly anchored."),additionalItems:_e("For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),items:_e("For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),maxItems:_e("The maximum number of items that can be inside an array. Inclusive."),minItems:_e("The minimum number of items that can be inside an array. Inclusive."),uniqueItems:_e("If all of the items in the array must be unique. Defaults to false."),maxProperties:_e("The maximum number of properties an object can have. Inclusive."),minProperties:_e("The minimum number of properties an object can have. Inclusive."),required:_e("An array of strings that lists the names of all properties required on this object."),additionalProperties:_e("Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),definitions:_e("Not used for validation. Place subschemas here that you wish to reference inline with $ref."),properties:_e("A map of property names to schemas for each property."),patternProperties:_e("A map of regular expressions on property names to schemas for matching properties."),dependencies:_e("A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),enum:_e("The set of literal values that are valid."),type:_e("Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),format:_e("Describes the format expected for the value."),allOf:_e("An array of schemas, all of which must match."),anyOf:_e("An array of schemas, where at least one must match."),oneOf:_e("An array of schemas, exactly one of which must match."),not:_e("A schema which must not match."),$id:_e("A unique identifier for the schema."),$ref:_e("Reference a definition hosted on any location."),$comment:_e("Comments from schema authors to readers or maintainers of the schema."),readOnly:_e("Indicates that the value of the instance is managed exclusively by the owning authority."),examples:_e("Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),contains:_e('An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),propertyNames:_e("If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),const:_e("An instance validates successfully against this keyword if its value is equal to the value of the keyword."),contentMediaType:_e("Describes the media type of a string property."),contentEncoding:_e("Describes the content encoding of a string property."),if:_e('The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),then:_e('The "if" subschema is used for validation when the "if" subschema succeeds.'),else:_e('The "else" subschema is used for validation when the "if" subschema fails.')};for(const r in Jn.schemas){const l=Jn.schemas[r];for(const h in l.properties){let c=l.properties[h];typeof c=="boolean"&&(c=l.properties[h]={});const d=vn[h];d&&(c.description=d)}}var Fn;(()=>{"use strict";var r={470:d=>{function E(oe){if(typeof oe!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(oe))}function te(oe,de){for(var we,pe="",Ee=0,Pe=-1,Ve=0,$e=0;$e<=oe.length;++$e){if($e<oe.length)we=oe.charCodeAt($e);else{if(we===47)break;we=47}if(we===47){if(!(Pe===$e-1||Ve===1))if(Pe!==$e-1&&Ve===2){if(pe.length<2||Ee!==2||pe.charCodeAt(pe.length-1)!==46||pe.charCodeAt(pe.length-2)!==46){if(pe.length>2){var et=pe.lastIndexOf("/");if(et!==pe.length-1){et===-1?(pe="",Ee=0):Ee=(pe=pe.slice(0,et)).length-1-pe.lastIndexOf("/"),Pe=$e,Ve=0;continue}}else if(pe.length===2||pe.length===1){pe="",Ee=0,Pe=$e,Ve=0;continue}}de&&(pe.length>0?pe+="/..":pe="..",Ee=2)}else pe.length>0?pe+="/"+oe.slice(Pe+1,$e):pe=oe.slice(Pe+1,$e),Ee=$e-Pe-1;Pe=$e,Ve=0}else we===46&&Ve!==-1?++Ve:Ve=-1}return pe}var Ie={resolve:function(){for(var oe,de="",we=!1,pe=arguments.length-1;pe>=-1&&!we;pe--){var Ee;pe>=0?Ee=arguments[pe]:(oe===void 0&&(oe=o.cwd()),Ee=oe),E(Ee),Ee.length!==0&&(de=Ee+"/"+de,we=Ee.charCodeAt(0)===47)}return de=te(de,!we),we?de.length>0?"/"+de:"/":de.length>0?de:"."},normalize:function(oe){if(E(oe),oe.length===0)return".";var de=oe.charCodeAt(0)===47,we=oe.charCodeAt(oe.length-1)===47;return(oe=te(oe,!de)).length!==0||de||(oe="."),oe.length>0&&we&&(oe+="/"),de?"/"+oe:oe},isAbsolute:function(oe){return E(oe),oe.length>0&&oe.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var oe,de=0;de<arguments.length;++de){var we=arguments[de];E(we),we.length>0&&(oe===void 0?oe=we:oe+="/"+we)}return oe===void 0?".":Ie.normalize(oe)},relative:function(oe,de){if(E(oe),E(de),oe===de||(oe=Ie.resolve(oe))===(de=Ie.resolve(de)))return"";for(var we=1;we<oe.length&&oe.charCodeAt(we)===47;++we);for(var pe=oe.length,Ee=pe-we,Pe=1;Pe<de.length&&de.charCodeAt(Pe)===47;++Pe);for(var Ve=de.length-Pe,$e=Ee<Ve?Ee:Ve,et=-1,dt=0;dt<=$e;++dt){if(dt===$e){if(Ve>$e){if(de.charCodeAt(Pe+dt)===47)return de.slice(Pe+dt+1);if(dt===0)return de.slice(Pe+dt)}else Ee>$e&&(oe.charCodeAt(we+dt)===47?et=dt:dt===0&&(et=0));break}var yt=oe.charCodeAt(we+dt);if(yt!==de.charCodeAt(Pe+dt))break;yt===47&&(et=dt)}var Qe="";for(dt=we+et+1;dt<=pe;++dt)dt!==pe&&oe.charCodeAt(dt)!==47||(Qe.length===0?Qe+="..":Qe+="/..");return Qe.length>0?Qe+de.slice(Pe+et):(Pe+=et,de.charCodeAt(Pe)===47&&++Pe,de.slice(Pe))},_makeLong:function(oe){return oe},dirname:function(oe){if(E(oe),oe.length===0)return".";for(var de=oe.charCodeAt(0),we=de===47,pe=-1,Ee=!0,Pe=oe.length-1;Pe>=1;--Pe)if((de=oe.charCodeAt(Pe))===47){if(!Ee){pe=Pe;break}}else Ee=!1;return pe===-1?we?"/":".":we&&pe===1?"//":oe.slice(0,pe)},basename:function(oe,de){if(de!==void 0&&typeof de!="string")throw new TypeError('"ext" argument must be a string');E(oe);var we,pe=0,Ee=-1,Pe=!0;if(de!==void 0&&de.length>0&&de.length<=oe.length){if(de.length===oe.length&&de===oe)return"";var Ve=de.length-1,$e=-1;for(we=oe.length-1;we>=0;--we){var et=oe.charCodeAt(we);if(et===47){if(!Pe){pe=we+1;break}}else $e===-1&&(Pe=!1,$e=we+1),Ve>=0&&(et===de.charCodeAt(Ve)?--Ve==-1&&(Ee=we):(Ve=-1,Ee=$e))}return pe===Ee?Ee=$e:Ee===-1&&(Ee=oe.length),oe.slice(pe,Ee)}for(we=oe.length-1;we>=0;--we)if(oe.charCodeAt(we)===47){if(!Pe){pe=we+1;break}}else Ee===-1&&(Pe=!1,Ee=we+1);return Ee===-1?"":oe.slice(pe,Ee)},extname:function(oe){E(oe);for(var de=-1,we=0,pe=-1,Ee=!0,Pe=0,Ve=oe.length-1;Ve>=0;--Ve){var $e=oe.charCodeAt(Ve);if($e!==47)pe===-1&&(Ee=!1,pe=Ve+1),$e===46?de===-1?de=Ve:Pe!==1&&(Pe=1):de!==-1&&(Pe=-1);else if(!Ee){we=Ve+1;break}}return de===-1||pe===-1||Pe===0||Pe===1&&de===pe-1&&de===we+1?"":oe.slice(de,pe)},format:function(oe){if(oe===null||typeof oe!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof oe);return function(de,we){var pe=we.dir||we.root,Ee=we.base||(we.name||"")+(we.ext||"");return pe?pe===we.root?pe+Ee:pe+"/"+Ee:Ee}(0,oe)},parse:function(oe){E(oe);var de={root:"",dir:"",base:"",ext:"",name:""};if(oe.length===0)return de;var we,pe=oe.charCodeAt(0),Ee=pe===47;Ee?(de.root="/",we=1):we=0;for(var Pe=-1,Ve=0,$e=-1,et=!0,dt=oe.length-1,yt=0;dt>=we;--dt)if((pe=oe.charCodeAt(dt))!==47)$e===-1&&(et=!1,$e=dt+1),pe===46?Pe===-1?Pe=dt:yt!==1&&(yt=1):Pe!==-1&&(yt=-1);else if(!et){Ve=dt+1;break}return Pe===-1||$e===-1||yt===0||yt===1&&Pe===$e-1&&Pe===Ve+1?$e!==-1&&(de.base=de.name=Ve===0&&Ee?oe.slice(1,$e):oe.slice(Ve,$e)):(Ve===0&&Ee?(de.name=oe.slice(1,Pe),de.base=oe.slice(1,$e)):(de.name=oe.slice(Ve,Pe),de.base=oe.slice(Ve,$e)),de.ext=oe.slice(Pe,$e)),Ve>0?de.dir=oe.slice(0,Ve-1):Ee&&(de.dir="/"),de},sep:"/",delimiter:":",win32:null,posix:null};Ie.posix=Ie,d.exports=Ie}},l={};function h(d){var E=l[d];if(E!==void 0)return E.exports;var te=l[d]={exports:{}};return r[d](te,te.exports,h),te.exports}h.d=(d,E)=>{for(var te in E)h.o(E,te)&&!h.o(d,te)&&Object.defineProperty(d,te,{enumerable:!0,get:E[te]})},h.o=(d,E)=>Object.prototype.hasOwnProperty.call(d,E),h.r=d=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})};var c={};(()=>{let d;h.r(c),h.d(c,{URI:()=>Ee,Utils:()=>ln}),typeof o=="object"?d=o.platform==="win32":typeof navigator=="object"&&(d=navigator.userAgent.indexOf("Windows")>=0);const E=/^\w[\w\d+.-]*$/,te=/^\//,Ie=/^\/\//;function oe(At,it){if(!At.scheme&&it)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${At.authority}", path: "${At.path}", query: "${At.query}", fragment: "${At.fragment}"}`);if(At.scheme&&!E.test(At.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(At.path){if(At.authority){if(!te.test(At.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(Ie.test(At.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}const de="",we="/",pe=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Ee{constructor(it,St,Pt,wn,pn,dn=!1){ar(this,"scheme");ar(this,"authority");ar(this,"path");ar(this,"query");ar(this,"fragment");typeof it=="object"?(this.scheme=it.scheme||de,this.authority=it.authority||de,this.path=it.path||de,this.query=it.query||de,this.fragment=it.fragment||de):(this.scheme=function(ui,ci){return ui||ci?ui:"file"}(it,dn),this.authority=St||de,this.path=function(ui,ci){switch(ui){case"https":case"http":case"file":ci?ci[0]!==we&&(ci=we+ci):ci=we}return ci}(this.scheme,Pt||de),this.query=wn||de,this.fragment=pn||de,oe(this,dn))}static isUri(it){return it instanceof Ee||!!it&&typeof it.authority=="string"&&typeof it.fragment=="string"&&typeof it.path=="string"&&typeof it.query=="string"&&typeof it.scheme=="string"&&typeof it.fsPath=="string"&&typeof it.with=="function"&&typeof it.toString=="function"}get fsPath(){return yt(this,!1)}with(it){if(!it)return this;let{scheme:St,authority:Pt,path:wn,query:pn,fragment:dn}=it;return St===void 0?St=this.scheme:St===null&&(St=de),Pt===void 0?Pt=this.authority:Pt===null&&(Pt=de),wn===void 0?wn=this.path:wn===null&&(wn=de),pn===void 0?pn=this.query:pn===null&&(pn=de),dn===void 0?dn=this.fragment:dn===null&&(dn=de),St===this.scheme&&Pt===this.authority&&wn===this.path&&pn===this.query&&dn===this.fragment?this:new Ve(St,Pt,wn,pn,dn)}static parse(it,St=!1){const Pt=pe.exec(it);return Pt?new Ve(Pt[2]||de,Et(Pt[4]||de),Et(Pt[5]||de),Et(Pt[7]||de),Et(Pt[9]||de),St):new Ve(de,de,de,de,de)}static file(it){let St=de;if(d&&(it=it.replace(/\\/g,we)),it[0]===we&&it[1]===we){const Pt=it.indexOf(we,2);Pt===-1?(St=it.substring(2),it=we):(St=it.substring(2,Pt),it=it.substring(Pt)||we)}return new Ve("file",St,it,de,de)}static from(it){const St=new Ve(it.scheme,it.authority,it.path,it.query,it.fragment);return oe(St,!0),St}toString(it=!1){return Qe(this,it)}toJSON(){return this}static revive(it){if(it){if(it instanceof Ee)return it;{const St=new Ve(it);return St._formatted=it.external,St._fsPath=it._sep===Pe?it.fsPath:null,St}}return it}}const Pe=d?1:void 0;class Ve extends Ee{constructor(){super(...arguments);ar(this,"_formatted",null);ar(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=yt(this,!1)),this._fsPath}toString(St=!1){return St?Qe(this,!0):(this._formatted||(this._formatted=Qe(this,!1)),this._formatted)}toJSON(){const St={$mid:1};return this._fsPath&&(St.fsPath=this._fsPath,St._sep=Pe),this._formatted&&(St.external=this._formatted),this.path&&(St.path=this.path),this.scheme&&(St.scheme=this.scheme),this.authority&&(St.authority=this.authority),this.query&&(St.query=this.query),this.fragment&&(St.fragment=this.fragment),St}}const $e={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function et(At,it,St){let Pt,wn=-1;for(let pn=0;pn<At.length;pn++){const dn=At.charCodeAt(pn);if(dn>=97&&dn<=122||dn>=65&&dn<=90||dn>=48&&dn<=57||dn===45||dn===46||dn===95||dn===126||it&&dn===47||St&&dn===91||St&&dn===93||St&&dn===58)wn!==-1&&(Pt+=encodeURIComponent(At.substring(wn,pn)),wn=-1),Pt!==void 0&&(Pt+=At.charAt(pn));else{Pt===void 0&&(Pt=At.substr(0,pn));const ui=$e[dn];ui!==void 0?(wn!==-1&&(Pt+=encodeURIComponent(At.substring(wn,pn)),wn=-1),Pt+=ui):wn===-1&&(wn=pn)}}return wn!==-1&&(Pt+=encodeURIComponent(At.substring(wn))),Pt!==void 0?Pt:At}function dt(At){let it;for(let St=0;St<At.length;St++){const Pt=At.charCodeAt(St);Pt===35||Pt===63?(it===void 0&&(it=At.substr(0,St)),it+=$e[Pt]):it!==void 0&&(it+=At[St])}return it!==void 0?it:At}function yt(At,it){let St;return St=At.authority&&At.path.length>1&&At.scheme==="file"?`//${At.authority}${At.path}`:At.path.charCodeAt(0)===47&&(At.path.charCodeAt(1)>=65&&At.path.charCodeAt(1)<=90||At.path.charCodeAt(1)>=97&&At.path.charCodeAt(1)<=122)&&At.path.charCodeAt(2)===58?it?At.path.substr(1):At.path[1].toLowerCase()+At.path.substr(2):At.path,d&&(St=St.replace(/\//g,"\\")),St}function Qe(At,it){const St=it?dt:et;let Pt="",{scheme:wn,authority:pn,path:dn,query:ui,fragment:ci}=At;if(wn&&(Pt+=wn,Pt+=":"),(pn||wn==="file")&&(Pt+=we,Pt+=we),pn){let $n=pn.indexOf("@");if($n!==-1){const yi=pn.substr(0,$n);pn=pn.substr($n+1),$n=yi.lastIndexOf(":"),$n===-1?Pt+=St(yi,!1,!1):(Pt+=St(yi.substr(0,$n),!1,!1),Pt+=":",Pt+=St(yi.substr($n+1),!1,!0)),Pt+="@"}pn=pn.toLowerCase(),$n=pn.lastIndexOf(":"),$n===-1?Pt+=St(pn,!1,!0):(Pt+=St(pn.substr(0,$n),!1,!0),Pt+=pn.substr($n))}if(dn){if(dn.length>=3&&dn.charCodeAt(0)===47&&dn.charCodeAt(2)===58){const $n=dn.charCodeAt(1);$n>=65&&$n<=90&&(dn=`/${String.fromCharCode($n+32)}:${dn.substr(3)}`)}else if(dn.length>=2&&dn.charCodeAt(1)===58){const $n=dn.charCodeAt(0);$n>=65&&$n<=90&&(dn=`${String.fromCharCode($n+32)}:${dn.substr(2)}`)}Pt+=St(dn,!0,!1)}return ui&&(Pt+="?",Pt+=St(ui,!1,!1)),ci&&(Pt+="#",Pt+=it?ci:et(ci,!1,!1)),Pt}function gt(At){try{return decodeURIComponent(At)}catch(it){return At.length>3?At.substr(0,3)+gt(At.substr(3)):At}}const rt=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Et(At){return At.match(rt)?At.replace(rt,it=>gt(it)):At}var It=h(470);const Mt=It.posix||It,$t="/";var ln;(function(At){At.joinPath=function(it,...St){return it.with({path:Mt.join(it.path,...St)})},At.resolvePath=function(it,...St){let Pt=it.path,wn=!1;Pt[0]!==$t&&(Pt=$t+Pt,wn=!0);let pn=Mt.resolve(Pt,...St);return wn&&pn[0]===$t&&!it.authority&&(pn=pn.substring(1)),it.with({path:pn})},At.dirname=function(it){if(it.path.length===0||it.path===$t)return it;let St=Mt.dirname(it.path);return St.length===1&&St.charCodeAt(0)===46&&(St=""),it.with({path:St})},At.basename=function(it){return Mt.basename(it.path)},At.extname=function(it){return Mt.extname(it.path)}})(ln||(ln={}))})(),Fn=c})();var{URI:fn,Utils:os}=Fn;function Wr(r,l){if(typeof r!="string")throw new TypeError("Expected a string");const h=String(r);let c="";const d=l?!!l.extended:!1,E=l?!!l.globstar:!1;let te=!1;const Ie=l&&typeof l.flags=="string"?l.flags:"";let oe;for(let de=0,we=h.length;de<we;de++)switch(oe=h[de],oe){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":c+="\\"+oe;break;case"?":if(d){c+=".";break}case"[":case"]":if(d){c+=oe;break}case"{":if(d){te=!0,c+="(";break}case"}":if(d){te=!1,c+=")";break}case",":if(te){c+="|";break}c+="\\"+oe;break;case"*":const pe=h[de-1];let Ee=1;for(;h[de+1]==="*";)Ee++,de++;const Pe=h[de+1];E?Ee>1&&(pe==="/"||pe===void 0||pe==="{"||pe===",")&&(Pe==="/"||Pe===void 0||Pe===","||Pe==="}")?(Pe==="/"?de++:pe==="/"&&c.endsWith("\\/")&&(c=c.substr(0,c.length-2)),c+="((?:[^/]*(?:/|$))*)"):c+="([^/]*)":c+=".*";break;default:c+=oe}return(!Ie||!~Ie.indexOf("g"))&&(c="^"+c+"$"),new RegExp(c,Ie)}var ir="!",jr="/",Ir=class{constructor(r,l,h){this.folderUri=l,this.uris=h,this.globWrappers=[];try{for(let c of r){const d=c[0]!==ir;d||(c=c.substring(1)),c.length>0&&(c[0]===jr&&(c=c.substring(1)),this.globWrappers.push({regexp:Wr("**/"+c,{extended:!0,globstar:!0}),include:d}))}l&&(l=Hr(l),l.endsWith("/")||(l=l+"/"),this.folderUri=l)}catch(c){this.globWrappers.length=0,this.uris=[]}}matchesPattern(r){if(this.folderUri&&!r.startsWith(this.folderUri))return!1;let l=!1;for(const{regexp:h,include:c}of this.globWrappers)h.test(r)&&(l=c);return l}getURIs(){return this.uris}},Ar=class{constructor(r,l,h){this.service=r,this.uri=l,this.dependencies=new Set,this.anchors=void 0,h&&(this.unresolvedSchema=this.service.promise.resolve(new Ji(h)))}getUnresolvedSchema(){return this.unresolvedSchema||(this.unresolvedSchema=this.service.loadSchema(this.uri)),this.unresolvedSchema}getResolvedSchema(){return this.resolvedSchema||(this.resolvedSchema=this.getUnresolvedSchema().then(r=>this.service.resolveSchemaContent(r,this))),this.resolvedSchema}clearSchema(){const r=!!this.unresolvedSchema;return this.resolvedSchema=void 0,this.unresolvedSchema=void 0,this.dependencies.clear(),this.anchors=void 0,r}},Ji=class{constructor(r,l=[]){this.schema=r,this.errors=l}},Tr=class{constructor(r,l=[],h=[],c){this.schema=r,this.errors=l,this.warnings=h,this.schemaDraft=c}getSection(r){const l=this.getSectionRecursive(r,this.schema);if(l)return Wt(l)}getSectionRecursive(r,l){if(!l||typeof l=="boolean"||r.length===0)return l;const h=r.shift();if(l.properties&&typeof l.properties[h])return this.getSectionRecursive(r,l.properties[h]);if(l.patternProperties)for(const c of Object.keys(l.patternProperties)){const d=Fe(c);if(d!=null&&d.test(h))return this.getSectionRecursive(r,l.patternProperties[c])}else{if(typeof l.additionalProperties=="object")return this.getSectionRecursive(r,l.additionalProperties);if(h.match("[0-9]+")){if(Array.isArray(l.items)){const c=parseInt(h,10);if(!isNaN(c)&&l.items[c])return this.getSectionRecursive(r,l.items[c])}else if(l.items)return this.getSectionRecursive(r,l.items)}}}},Qi=class{constructor(r,l,h){this.contextService=l,this.requestService=r,this.promiseConstructor=h||Promise,this.callOnDispose=[],this.contributionSchemas={},this.contributionAssociations=[],this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={}}getRegisteredSchemaIds(r){return Object.keys(this.registeredSchemasIds).filter(l=>{const h=fn.parse(l).scheme;return h!=="schemaservice"&&(!r||r(h))})}get promise(){return this.promiseConstructor}dispose(){for(;this.callOnDispose.length>0;)this.callOnDispose.pop()()}onResourceChange(r){this.cachedSchemaForResource=void 0;let l=!1;r=ki(r);const h=[r],c=Object.keys(this.schemasById).map(d=>this.schemasById[d]);for(;h.length;){const d=h.pop();for(let E=0;E<c.length;E++){const te=c[E];te&&(te.uri===d||te.dependencies.has(d))&&(te.uri!==d&&h.push(te.uri),te.clearSchema()&&(l=!0),c[E]=void 0)}}return l}setSchemaContributions(r){if(r.schemas){const l=r.schemas;for(const h in l){const c=ki(h);this.contributionSchemas[c]=this.addSchemaHandle(c,l[h])}}if(Array.isArray(r.schemaAssociations)){const l=r.schemaAssociations;for(let h of l){const c=h.uris.map(ki),d=this.addFilePatternAssociation(h.pattern,h.folderUri,c);this.contributionAssociations.push(d)}}}addSchemaHandle(r,l){const h=new Ar(this,r,l);return this.schemasById[r]=h,h}getOrAddSchemaHandle(r,l){return this.schemasById[r]||this.addSchemaHandle(r,l)}addFilePatternAssociation(r,l,h){const c=new Ir(r,l,h);return this.filePatternAssociations.push(c),c}registerExternalSchema(r){const l=ki(r.uri);return this.registeredSchemasIds[l]=!0,this.cachedSchemaForResource=void 0,r.fileMatch&&r.fileMatch.length&&this.addFilePatternAssociation(r.fileMatch,r.folderUri,[l]),r.schema?this.addSchemaHandle(l,r.schema):this.getOrAddSchemaHandle(l)}clearExternalSchemas(){this.schemasById={},this.filePatternAssociations=[],this.registeredSchemasIds={},this.cachedSchemaForResource=void 0;for(const r in this.contributionSchemas)this.schemasById[r]=this.contributionSchemas[r],this.registeredSchemasIds[r]=!0;for(const r of this.contributionAssociations)this.filePatternAssociations.push(r)}getResolvedSchema(r){const l=ki(r),h=this.schemasById[l];return h?h.getResolvedSchema():this.promise.resolve(void 0)}loadSchema(r){if(!this.requestService){const l=_e("Unable to load schema from '{0}'. No schema request service available",li(r));return this.promise.resolve(new Ji({},[l]))}return r.startsWith("http://json-schema.org/")&&(r="https"+r.substring(4)),this.requestService(r).then(l=>{if(!l){const E=_e("Unable to load schema from '{0}': No content.",li(r));return new Ji({},[E])}const h=[];l.charCodeAt(0)===65279&&(h.push(_e("Problem reading content from '{0}': UTF-8 with BOM detected, only UTF 8 is allowed.",li(r))),l=l.trimStart());let c={};const d=[];return c=Q(l,d),d.length&&h.push(_e("Unable to parse content from '{0}': Parse error at offset {1}.",li(r),d[0].offset)),new Ji(c,h)},l=>{let h=l.toString();const c=l.toString().split("Error: ");return c.length>1&&(h=c[1]),xe(h,".")&&(h=h.substr(0,h.length-1)),new Ji({},[_e("Unable to load schema from '{0}': {1}.",li(r),h)])})}resolveSchemaContent(r,l){const h=r.errors.slice(0),c=r.schema;let d=c.$schema?ki(c.$schema):void 0;if(d==="http://json-schema.org/draft-03/schema")return this.promise.resolve(new Tr({},[_e("Draft-03 schemas are not supported.")],[],d));let E=new Set;const te=this.contextService,Ie=(Ve,$e)=>{$e=decodeURIComponent($e);let et=Ve;return $e[0]==="/"&&($e=$e.substring(1)),$e.split("/").some(dt=>(dt=dt.replace(/~1/g,"/").replace(/~0/g,"~"),et=et[dt],!et)),et},oe=(Ve,$e,et)=>($e.anchors||($e.anchors=Pe(Ve)),$e.anchors.get(et)),de=(Ve,$e)=>{for(const et in $e)$e.hasOwnProperty(et)&&et!=="id"&&et!=="$id"&&(Ve[et]=$e[et])},we=(Ve,$e,et,dt)=>{let yt;dt===void 0||dt.length===0?yt=$e:dt.charAt(0)==="/"?yt=Ie($e,dt):yt=oe($e,et,dt),yt?de(Ve,yt):h.push(_e("$ref '{0}' in '{1}' can not be resolved.",dt||"",et.uri))},pe=(Ve,$e,et,dt)=>{te&&!/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test($e)&&($e=te.resolveRelativePath($e,dt.uri)),$e=ki($e);const yt=this.getOrAddSchemaHandle($e);return yt.getUnresolvedSchema().then(Qe=>{if(dt.dependencies.add($e),Qe.errors.length){const gt=et?$e+"#"+et:$e;h.push(_e("Problems loading reference '{0}': {1}",gt,Qe.errors[0]))}return we(Ve,Qe.schema,yt,et),Ee(Ve,Qe.schema,yt)})},Ee=(Ve,$e,et)=>{const dt=[];return this.traverseNodes(Ve,yt=>{const Qe=new Set;for(;yt.$ref;){const gt=yt.$ref,rt=gt.split("#",2);if(delete yt.$ref,rt[0].length>0){dt.push(pe(yt,rt[0],rt[1],et));return}else if(!Qe.has(gt)){const Et=rt[1];we(yt,$e,et,Et),Qe.add(gt)}}yt.$recursiveRef&&E.add("$recursiveRef"),yt.$dynamicRef&&E.add("$dynamicRef")}),this.promise.all(dt)},Pe=Ve=>{const $e=new Map;return this.traverseNodes(Ve,et=>{const dt=et.$id||et.id,yt=ve(dt)&&dt.charAt(0)==="#"?dt.substring(1):et.$anchor;yt&&($e.has(yt)?h.push(_e("Duplicate anchor declaration: '{0}'",yt)):$e.set(yt,et)),et.$recursiveAnchor&&E.add("$recursiveAnchor"),et.$dynamicAnchor&&E.add("$dynamicAnchor")}),$e};return Ee(c,c,l).then(Ve=>{let $e=[];return E.size&&$e.push(_e("The schema uses meta-schema features ({0}) that are not yet supported by the validator.",Array.from(E.keys()).join(", "))),new Tr(c,h,$e,d)})}traverseNodes(r,l){if(!r||typeof r!="object")return Promise.resolve(null);const h=new Set,c=(...de)=>{for(const we of de)P(we)&&Ie.push(we)},d=(...de)=>{for(const we of de)if(P(we))for(const pe in we){const Pe=we[pe];P(Pe)&&Ie.push(Pe)}},E=(...de)=>{for(const we of de)if(Array.isArray(we))for(const pe of we)P(pe)&&Ie.push(pe)},te=de=>{if(Array.isArray(de))for(const we of de)P(we)&&Ie.push(we);else P(de)&&Ie.push(de)},Ie=[r];let oe=Ie.pop();for(;oe;)h.has(oe)||(h.add(oe),l(oe),c(oe.additionalItems,oe.additionalProperties,oe.not,oe.contains,oe.propertyNames,oe.if,oe.then,oe.else,oe.unevaluatedItems,oe.unevaluatedProperties),d(oe.definitions,oe.$defs,oe.properties,oe.patternProperties,oe.dependencies,oe.dependentSchemas),E(oe.anyOf,oe.allOf,oe.oneOf,oe.prefixItems),te(oe.items)),oe=Ie.pop()}getSchemaFromProperty(r,l){var h,c;if(((h=l.root)==null?void 0:h.type)==="object"){for(const d of l.root.properties)if(d.keyNode.value==="$schema"&&((c=d.valueNode)==null?void 0:c.type)==="string"){let E=d.valueNode.value;return this.contextService&&!/^\w[\w\d+.-]*:/.test(E)&&(E=this.contextService.resolveRelativePath(E,r)),E}}}getAssociatedSchemas(r){const l=Object.create(null),h=[],c=Hr(r);for(const d of this.filePatternAssociations)if(d.matchesPattern(c))for(const E of d.getURIs())l[E]||(h.push(E),l[E]=!0);return h}getSchemaURIsForResource(r,l){let h=l&&this.getSchemaFromProperty(r,l);return h?[h]:this.getAssociatedSchemas(r)}getSchemaForResource(r,l){if(l){let d=this.getSchemaFromProperty(r,l);if(d){const E=ki(d);return this.getOrAddSchemaHandle(E).getResolvedSchema()}}if(this.cachedSchemaForResource&&this.cachedSchemaForResource.resource===r)return this.cachedSchemaForResource.resolvedSchema;const h=this.getAssociatedSchemas(r),c=h.length>0?this.createCombinedSchema(r,h).getResolvedSchema():this.promise.resolve(void 0);return this.cachedSchemaForResource={resource:r,resolvedSchema:c},c}createCombinedSchema(r,l){if(l.length===1)return this.getOrAddSchemaHandle(l[0]);{const h="schemaservice://combinedSchema/"+encodeURIComponent(r),c={allOf:l.map(d=>({$ref:d}))};return this.addSchemaHandle(h,c)}}getMatchingSchemas(r,l,h){if(h){const c=h.id||"schemaservice://untitled/matchingSchemas/"+Xt++;return this.addSchemaHandle(c,h).getResolvedSchema().then(E=>l.getMatchingSchemas(E.schema).filter(te=>!te.inverted))}return this.getSchemaForResource(r.uri,l).then(c=>c?l.getMatchingSchemas(c.schema).filter(d=>!d.inverted):[])}},Xt=0;function ki(r){try{return fn.parse(r).toString(!0)}catch(l){return r}}function Hr(r){try{return fn.parse(r).with({fragment:null,query:null}).toString(!0)}catch(l){return r}}function li(r){try{const l=fn.parse(r);if(l.scheme==="file")return l.fsPath}catch(l){}return r}function as(r,l){const h=[],c=[],d=[];let E=-1;const te=V(r.getText(),!1);let Ie=te.scan();function oe(Ve){h.push(Ve),c.push(d.length)}for(;Ie!==17;){switch(Ie){case 1:case 3:{const Ve=r.positionAt(te.getTokenOffset()).line,$e={startLine:Ve,endLine:Ve,kind:Ie===1?"object":"array"};d.push($e);break}case 2:case 4:{const Ve=Ie===2?"object":"array";if(d.length>0&&d[d.length-1].kind===Ve){const $e=d.pop(),et=r.positionAt(te.getTokenOffset()).line;$e&&et>$e.startLine+1&&E!==$e.startLine&&($e.endLine=et-1,oe($e),E=$e.startLine)}break}case 13:{const Ve=r.positionAt(te.getTokenOffset()).line,$e=r.positionAt(te.getTokenOffset()+te.getTokenLength()).line;te.getTokenError()===1&&Ve+1<r.lineCount?te.setPosition(r.offsetAt(tt.create(Ve+1,0))):Ve<$e&&(oe({startLine:Ve,endLine:$e,kind:F.Comment}),E=Ve);break}case 12:{const $e=r.getText().substr(te.getTokenOffset(),te.getTokenLength()).match(/^\/\/\s*#(region\b)|(endregion\b)/);if($e){const et=r.positionAt(te.getTokenOffset()).line;if($e[1]){const dt={startLine:et,endLine:et,kind:F.Region};d.push(dt)}else{let dt=d.length-1;for(;dt>=0&&d[dt].kind!==F.Region;)dt--;if(dt>=0){const yt=d[dt];d.length=dt,et>yt.startLine&&E!==yt.startLine&&(yt.endLine=et,oe(yt),E=yt.startLine)}}}break}}Ie=te.scan()}const de=l&&l.rangeLimit;if(typeof de!="number"||h.length<=de)return h;l&&l.onRangeLimitExceeded&&l.onRangeLimitExceeded(r.uri);const we=[];for(let Ve of c)Ve<30&&(we[Ve]=(we[Ve]||0)+1);let pe=0,Ee=0;for(let Ve=0;Ve<we.length;Ve++){const $e=we[Ve];if($e){if($e+pe>de){Ee=Ve;break}pe+=$e}}const Pe=[];for(let Ve=0;Ve<h.length;Ve++){const $e=c[Ve];typeof $e=="number"&&($e<Ee||$e===Ee&&pe++<de)&&Pe.push(h[Ve])}return Pe}function rr(r,l,h){function c(Ie){let oe=r.offsetAt(Ie),de=h.getNodeFromOffset(oe,!0);const we=[];for(;de;){switch(de.type){case"string":case"object":case"array":const Ee=de.offset+1,Pe=de.offset+de.length-1;Ee<Pe&&oe>=Ee&&oe<=Pe&&we.push(d(Ee,Pe)),we.push(d(de.offset,de.offset+de.length));break;case"number":case"boolean":case"null":case"property":we.push(d(de.offset,de.offset+de.length));break}if(de.type==="property"||de.parent&&de.parent.type==="array"){const Ee=te(de.offset+de.length,5);Ee!==-1&&we.push(d(de.offset,Ee))}de=de.parent}let pe;for(let Ee=we.length-1;Ee>=0;Ee--)pe=Nt.create(we[Ee],pe);return pe||(pe=Nt.create(ot.create(Ie,Ie))),pe}function d(Ie,oe){return ot.create(r.positionAt(Ie),r.positionAt(oe))}const E=V(r.getText(),!0);function te(Ie,oe){return E.setPosition(Ie),E.scan()===oe?E.getTokenOffset()+E.getTokenLength():-1}return l.map(c)}function Br(r,l,h){let c;if(h){const E=r.offsetAt(h.start),te=r.offsetAt(h.end)-E;c={offset:E,length:te}}const d={tabSize:l?l.tabSize:4,insertSpaces:(l==null?void 0:l.insertSpaces)===!0,insertFinalNewline:(l==null?void 0:l.insertFinalNewline)===!0,eol:`
`,keepLines:(l==null?void 0:l.keepLines)===!0};return ie(r.getText(),c,d).map(E=>Ct.replace(ot.create(r.positionAt(E.offset),r.positionAt(E.offset+E.length)),E.content))}var zn;(function(r){r[r.Object=0]="Object",r[r.Array=1]="Array"})(zn||(zn={}));var gr=class{constructor(r,l){this.propertyName=r!=null?r:"",this.beginningLineNumber=l,this.childrenProperties=[],this.lastProperty=!1,this.noKeyName=!1}addChildProperty(r){if(r.parent=this,this.childrenProperties.length>0){let l=0;r.noKeyName?l=this.childrenProperties.length:l=us(this.childrenProperties,r,ls),l<0&&(l=l*-1-1),this.childrenProperties.splice(l,0,r)}else this.childrenProperties.push(r);return r}};function ls(r,l){const h=r.propertyName.toLowerCase(),c=l.propertyName.toLowerCase();return h<c?-1:h>c?1:0}function us(r,l,h){const c=l.propertyName.toLowerCase(),d=r[0].propertyName.toLowerCase(),E=r[r.length-1].propertyName.toLowerCase();if(c<d)return 0;if(c>E)return r.length;let te=0,Ie=r.length-1;for(;te<=Ie;){let oe=Ie+te>>1,de=h(l,r[oe]);if(de>0)te=oe+1;else if(de<0)Ie=oe-1;else return oe}return-te-1}function $r(r,l){const h=Lr(wi({},l),{keepLines:!1}),c=$.applyEdits(r,Br(r,h,void 0)),d=$.create("test://test.json","json",0,c),E=cs(d),te=Gr(d,E),Ie=Br(te,h,void 0),oe=$.applyEdits(te,Ie);return[Ct.replace(ot.create(tt.create(0,0),r.positionAt(r.getText().length)),oe)]}function cs(r){const l=r.getText(),h=V(l,!1);let c=new gr,d=c,E=c,te=c,Ie,oe=0,de=0,we,pe,Ee=-1,Pe=-1,Ve=0,$e=0,et=[],dt=!1,yt=!1;for(;(Ie=h.scan())!==17;){if(dt===!0&&Ie!==14&&Ie!==15&&Ie!==12&&Ie!==13&&E.endLineNumber===void 0){let Qe=h.getTokenStartLine();pe===2||pe===4?te.endLineNumber=Qe-1:E.endLineNumber=Qe-1,Ve=Qe,dt=!1}if(yt===!0&&Ie!==14&&Ie!==15&&Ie!==12&&Ie!==13&&(Ve=h.getTokenStartLine(),yt=!1),h.getTokenStartLine()!==oe){for(let Qe=oe;Qe<h.getTokenStartLine();Qe++){const gt=r.getText(ot.create(tt.create(Qe,0),tt.create(Qe+1,0))).length;de=de+gt}oe=h.getTokenStartLine()}switch(Ie){case 10:{if(we===void 0||we===1||we===5&&et[et.length-1]===zn.Object){const Qe=new gr(h.getTokenValue(),Ve);te=E,E=d.addChildProperty(Qe)}break}case 3:{if(c.beginningLineNumber===void 0&&(c.beginningLineNumber=h.getTokenStartLine()),et[et.length-1]===zn.Object)d=E;else if(et[et.length-1]===zn.Array){const Qe=new gr(h.getTokenValue(),Ve);Qe.noKeyName=!0,te=E,E=d.addChildProperty(Qe),d=E}et.push(zn.Array),E.type=zn.Array,Ve=h.getTokenStartLine(),Ve++;break}case 1:{if(c.beginningLineNumber===void 0)c.beginningLineNumber=h.getTokenStartLine();else if(et[et.length-1]===zn.Array){const Qe=new gr(h.getTokenValue(),Ve);Qe.noKeyName=!0,te=E,E=d.addChildProperty(Qe)}E.type=zn.Object,et.push(zn.Object),d=E,Ve=h.getTokenStartLine(),Ve++;break}case 4:{$e=h.getTokenStartLine(),et.pop(),E.endLineNumber===void 0&&(we===2||we===4)&&(E.endLineNumber=$e-1,E.lastProperty=!0,E.lineWhereToAddComma=Ee,E.indexWhereToAddComa=Pe,te=E,E=E?E.parent:void 0,d=E),c.endLineNumber=$e,Ve=$e+1;break}case 2:{$e=h.getTokenStartLine(),et.pop(),we!==1&&(E.endLineNumber===void 0&&(E.endLineNumber=$e-1,E.lastProperty=!0,E.lineWhereToAddComma=Ee,E.indexWhereToAddComa=Pe),te=E,E=E?E.parent:void 0,d=E),c.endLineNumber=h.getTokenStartLine(),Ve=$e+1;break}case 5:{$e=h.getTokenStartLine(),E.endLineNumber===void 0&&(et[et.length-1]===zn.Object||et[et.length-1]===zn.Array&&(we===2||we===4))&&(E.endLineNumber=$e,E.commaIndex=h.getTokenOffset()-de,E.commaLine=$e),(we===2||we===4)&&(te=E,E=E?E.parent:void 0,d=E),Ve=$e+1;break}case 13:{we===5&&Ee===h.getTokenStartLine()&&(et[et.length-1]===zn.Array&&(pe===2||pe===4)||et[et.length-1]===zn.Object)&&(et[et.length-1]===zn.Array&&(pe===2||pe===4)||et[et.length-1]===zn.Object)&&(E.endLineNumber=void 0,dt=!0),(we===1||we===3)&&Ee===h.getTokenStartLine()&&(yt=!0);break}}Ie!==14&&Ie!==13&&Ie!==12&&Ie!==15&&(pe=we,we=Ie,Ee=h.getTokenStartLine(),Pe=h.getTokenOffset()+h.getTokenLength()-de)}return c}function Gr(r,l){if(l.childrenProperties.length===0)return r;const h=$.create("test://test.json","json",0,r.getText()),c=[];for(qr(c,l,l.beginningLineNumber);c.length>0;){const d=c.shift(),E=d.propertyTreeArray;let te=d.beginningLineNumber;for(let Ie=0;Ie<E.length;Ie++){const oe=E[Ie],de=ot.create(tt.create(oe.beginningLineNumber,0),tt.create(oe.endLineNumber+1,0)),we=r.getText(de),pe=$.create("test://test.json","json",0,we);if(oe.lastProperty===!0&&Ie!==E.length-1){const Ve=oe.lineWhereToAddComma-oe.beginningLineNumber,$e=oe.indexWhereToAddComa,et={range:ot.create(tt.create(Ve,$e),tt.create(Ve,$e)),text:","};$.update(pe,[et],1)}else if(oe.lastProperty===!1&&Ie===E.length-1){const Ve=oe.commaIndex,et=oe.commaLine-oe.beginningLineNumber,dt={range:ot.create(tt.create(et,Ve),tt.create(et,Ve+1)),text:""};$.update(pe,[dt],1)}const Ee=oe.endLineNumber-oe.beginningLineNumber+1,Pe={range:ot.create(tt.create(te,0),tt.create(te+Ee,0)),text:pe.getText()};$.update(h,[Pe],1),qr(c,oe,te),te=te+Ee}}return h}function qr(r,l,h){if(l.childrenProperties.length!==0)if(l.type===zn.Object){let c=1/0;for(const E of l.childrenProperties)E.beginningLineNumber<c&&(c=E.beginningLineNumber);const d=c-l.beginningLineNumber;h=h+d,r.push(new Ki(h,l.childrenProperties))}else l.type===zn.Array&&mr(r,l,h)}function mr(r,l,h){for(const c of l.childrenProperties){if(c.type===zn.Object){let d=1/0;for(const te of c.childrenProperties)te.beginningLineNumber<d&&(d=te.beginningLineNumber);const E=d-c.beginningLineNumber;r.push(new Ki(h+c.beginningLineNumber-l.beginningLineNumber+E,c.childrenProperties))}c.type===zn.Array&&mr(r,c,h+c.beginningLineNumber-l.beginningLineNumber)}}var Ki=class{constructor(r,l){this.beginningLineNumber=r,this.propertyTreeArray=l}};function sr(r,l){const h=[];return l.visit(c=>{var d;if(c.type==="property"&&c.keyNode.value==="$ref"&&((d=c.valueNode)==null?void 0:d.type)==="string"){const E=c.valueNode.value,te=Mi(l,E);if(te){const Ie=r.positionAt(te.offset);h.push({target:`${r.uri}#${Ie.line+1},${Ie.character+1}`,range:Jr(r,c.valueNode)})}}return!0}),Promise.resolve(h)}function Jr(r,l){return ot.create(r.positionAt(l.offset+1),r.positionAt(l.offset+l.length-1))}function Mi(r,l){const h=hs(l);return h?Li(h,r.root):null}function Li(r,l){if(!l)return null;if(r.length===0)return l;const h=r.shift();if(l&&l.type==="object"){const c=l.properties.find(d=>d.keyNode.value===h);return c?Li(r,c.valueNode):null}else if(l&&l.type==="array"&&h.match(/^(0|[1-9][0-9]*)$/)){const c=Number.parseInt(h),d=l.items[c];return d?Li(r,d):null}return null}function hs(r){return r==="#"?[]:r[0]!=="#"||r[1]!=="/"?null:r.substring(2).split(/\//).map(Dr)}function Dr(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}function Ut(r){const l=r.promiseConstructor||Promise,h=new Qi(r.schemaRequestService,r.workspaceContext,l);h.setSchemaContributions(Jn);const c=new ts(h,r.contributions,l,r.clientCapabilities),d=new qi(h,r.contributions,l),E=new ss(h),te=new ns(h,l);return{configure:Ie=>{var oe;h.clearExternalSchemas(),(oe=Ie.schemas)==null||oe.forEach(h.registerExternalSchema.bind(h)),te.configure(Ie)},resetSchema:Ie=>h.onResourceChange(Ie),doValidation:te.doValidation.bind(te),getLanguageStatus:te.getLanguageStatus.bind(te),parseJSONDocument:Ie=>cr(Ie,{collectComments:!0}),newJSONDocument:(Ie,oe)=>bi(Ie,oe),getMatchingSchemas:h.getMatchingSchemas.bind(h),doResolve:c.doResolve.bind(c),doComplete:c.doComplete.bind(c),findDocumentSymbols:E.findDocumentSymbols.bind(E),findDocumentSymbols2:E.findDocumentSymbols2.bind(E),findDocumentColors:E.findDocumentColors.bind(E),getColorPresentations:E.getColorPresentations.bind(E),doHover:d.doHover.bind(d),getFoldingRanges:as,getSelectionRanges:rr,findDefinition:()=>Promise.resolve([]),findLinks:sr,format:(Ie,oe,de)=>Br(Ie,de,oe),sort:(Ie,oe)=>$r(Ie,oe)}}var pr;typeof fetch!="undefined"&&(pr=function(r){return fetch(r).then(l=>l.text())});var $i=class{constructor(r,l){this._ctx=r,this._languageSettings=l.languageSettings,this._languageId=l.languageId,this._languageService=Ut({workspaceContext:{resolveRelativePath:(h,c)=>{const d=c.substr(0,c.lastIndexOf("/")+1);return or(d,h)}},schemaRequestService:l.enableSchemaRequest?pr:void 0,clientCapabilities:Ke.LATEST}),this._languageService.configure(this._languageSettings)}doValidation(r){return sn(this,null,function*(){let l=this._getTextDocument(r);if(l){let h=this._languageService.parseJSONDocument(l);return this._languageService.doValidation(l,h,this._languageSettings)}return Promise.resolve([])})}doComplete(r,l){return sn(this,null,function*(){let h=this._getTextDocument(r);if(!h)return null;let c=this._languageService.parseJSONDocument(h);return this._languageService.doComplete(h,l,c)})}doResolve(r){return sn(this,null,function*(){return this._languageService.doResolve(r)})}doHover(r,l){return sn(this,null,function*(){let h=this._getTextDocument(r);if(!h)return null;let c=this._languageService.parseJSONDocument(h);return this._languageService.doHover(h,l,c)})}format(r,l,h){return sn(this,null,function*(){let c=this._getTextDocument(r);if(!c)return[];let d=this._languageService.format(c,l,h);return Promise.resolve(d)})}resetSchema(r){return sn(this,null,function*(){return Promise.resolve(this._languageService.resetSchema(r))})}findDocumentSymbols(r){return sn(this,null,function*(){let l=this._getTextDocument(r);if(!l)return[];let h=this._languageService.parseJSONDocument(l),c=this._languageService.findDocumentSymbols2(l,h);return Promise.resolve(c)})}findDocumentColors(r){return sn(this,null,function*(){let l=this._getTextDocument(r);if(!l)return[];let h=this._languageService.parseJSONDocument(l),c=this._languageService.findDocumentColors(l,h);return Promise.resolve(c)})}getColorPresentations(r,l,h){return sn(this,null,function*(){let c=this._getTextDocument(r);if(!c)return[];let d=this._languageService.parseJSONDocument(c),E=this._languageService.getColorPresentations(c,d,l,h);return Promise.resolve(E)})}getFoldingRanges(r,l){return sn(this,null,function*(){let h=this._getTextDocument(r);if(!h)return[];let c=this._languageService.getFoldingRanges(h,l);return Promise.resolve(c)})}getSelectionRanges(r,l){return sn(this,null,function*(){let h=this._getTextDocument(r);if(!h)return[];let c=this._languageService.parseJSONDocument(h),d=this._languageService.getSelectionRanges(h,l,c);return Promise.resolve(d)})}parseJSONDocument(r){return sn(this,null,function*(){let l=this._getTextDocument(r);if(!l)return null;let h=this._languageService.parseJSONDocument(l);return Promise.resolve(h)})}getMatchingSchemas(r){return sn(this,null,function*(){let l=this._getTextDocument(r);if(!l)return[];let h=this._languageService.parseJSONDocument(l);return Promise.resolve(this._languageService.getMatchingSchemas(l,h))})}_getTextDocument(r){let l=this._ctx.getMirrorModels();for(let h of l)if(h.uri.toString()===r)return $.create(r,this._languageId,h.version,h.getValue());return null}},Xi=47,Zi=46;function Rr(r){return r.charCodeAt(0)===Xi}function or(r,l){if(Rr(l)){const h=fn.parse(r),c=l.split("/");return h.with({path:Yi(c)}).toString()}return br(r,l)}function Yi(r){const l=[];for(const c of r)c.length===0||c.length===1&&c.charCodeAt(0)===Zi||(c.length===2&&c.charCodeAt(0)===Zi&&c.charCodeAt(1)===Zi?l.pop():l.push(c));r.length>1&&r[r.length-1].length===0&&l.push("");let h=l.join("/");return r[0].length===0&&(h="/"+h),h}function br(r,...l){const h=fn.parse(r),c=h.path.split("/");for(let d of l)c.push(...d.split("/"));return h.with({path:Yi(c)}).toString()}self.onmessage=()=>{K((r,l)=>new $i(r,l))}})()})();
